 /************************************************************************************
 * The contents of this file are subject to the arocrm CRM Public License Version 1.0
 * ("License"); You may not use this file except in compliance with the License
 * The Original Code is: arocrm CRM Open Source
 * The Initial Developer of the Original Code is arocrm.
 * Portions created by arocrm are Copyright (C) arocrm.
 * All Rights Reserved.
 *************************************************************************************/

arocrm_Index_Js("arocrm_Edit_Js",{

    file : false,

    editInstance : false,

    recordPresaveEvent : "Pre.Record.Save",

    preReferencePopUpOpenEvent : "arocrm.Referece.Popup.Pre",

    postReferencePopUpOpenEvent : "arocrm.Referece.Popup.Post",

    referenceSelectionEvent : "arocrm.Reference.Selection",

    postReferenceSelectionEvent: "arocrm.PostReference.Selection",

    postReferenceQuickCreateSave: "arocrm.PostReference.QuickCreateSave",

    refrenceMultiSelectionEvent : "arocrm.MultiReference.Selection",

    postReferenceQuickCreateSaveEvent : "arocrm.PostReferenceQuickCreate.Save",

    popupSelectionEvent : "arocrm.Reference.Popup.Selection",

    referenceDeSelectionEvent : "arocrm.Reference.Deselection",

    /**
    * Function to get Instance by name
    * @params moduleName:-- Name of the module to create instance
    */
    getInstanceByModuleName : function(moduleName){
        if(typeof moduleName == "undefined"){
            moduleName = app.getModuleName();
        }
        var parentModule = app.getParentModuleName();
        if(parentModule == 'Settings'){
            var moduleClassName = parentModule+"_"+moduleName+"_Edit_Js";
            if(typeof window[moduleClassName] == 'undefined'){
                moduleClassName = moduleName+"_Edit_Js";
            }
            var fallbackClassName = parentModule+"_arocrm_Edit_Js";
            if(typeof window[fallbackClassName] == 'undefined') {
                fallbackClassName = "arocrm_Edit_Js";
            }
        } else {
            moduleClassName = moduleName+"_Edit_Js";
            fallbackClassName = "arocrm_Edit_Js";
        }

        if(typeof window[moduleClassName] != 'undefined'){
            var instance = new window[moduleClassName]();
        }else{
            var instance = new window[fallbackClassName]();
        }
        return instance;
    },

    getInstance: function(){
        if(arocrm_Edit_Js.editInstance == false){
            var instance = arocrm_Edit_Js.getInstanceByModuleName();
            arocrm_Edit_Js.editInstance = instance;
            return instance;
        }
        return arocrm_Edit_Js.editInstance;
    }
},{

    editViewContainer : false,
    formValidatorInstance : false,

    getEditViewContainer : function(){
        if(this.editViewContainer === false){
            this.editViewContainer = jQuery('.editViewPageDiv');
        }
        return this.editViewContainer;
    },
    setEditViewContainer: function(container){
        this.editViewContainer = container;
    },

    formElement : false,

    getForm : function() {
        if(this.formElement === false){
                this.formElement = jQuery('#EditView');
        }
        return this.formElement;
    },
    _moduleName : false,

    getModuleName : function() {
        if(this._moduleName != false){
            return this._moduleName;
        }
        return app.module();
    },

    setModuleName : function(module){
        this._moduleName = module;
        return this;
    },

    /**
	 * Function which will give you all details of the selected record
	 * @params - an Array of values like {'record' : recordId, 'source_module' : searchModule, 'selectedName' : selectedRecordName}
	 */
	getRecordDetails : function(params) {
		var aDeferred = jQuery.Deferred();
		var url = "index.php?module="+app.getModuleName()+"&action=GetData&record="+params['record']+"&source_module="+params['source_module'];
		app.request.get({'url':url}).then(
			function(error, data){
				if(error == null) {
					aDeferred.resolve(data);
				} else {
					//aDeferred.reject(data['message']);
				}
			},
			function(error){
				aDeferred.reject();
			}
			)
		return aDeferred.promise();
	},

    /**
     * Function to Validate and Save Event
     * @returns {undefined}
     */
	getUrlVars : function()
    {
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
	for(var i = 0; i < hashes.length; i++)
    {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = hash[1];
    }
    return vars;
    },

	handleCheckBox : function ()
	{
		var view = this.getUrlVars()["view"];
		if(view=='Edit')
		{
		jQuery(document).on('click','input[type="checkbox"]', function(e) {
		var $this = $(this);
		var checkboxclass = $(this).attr("class");

		if(checkboxclass=='inputElement')
		{
			var checkboxid = $(this).attr("id");
		    var actualid = checkboxid.replace('_check', '');
			if($this.is(":checked")){
			$('input[name="'+actualid+'"]').val('1');

			}else{
				 $('input[name="'+actualid+'"]').val('');
			}
		}
		});


		$('input[type="checkbox"]:checked').each(function() {
         var $this = $(this);
		 var checkboxclass = $(this).attr("class");
		    if(checkboxclass=='inputElement')
			{
				var checkboxid = $(this).attr("id");
				var actualid = checkboxid.replace('_check', '');
				$('input[name="'+actualid+'"]').val('1');
			}
        });

		}
	},

	customFieldAction : function () {
	var recordid = this.getUrlVars()["record"];
	var sourceModule = this.getUrlVars()["module"];
	var duplicate = this.getUrlVars()["isDuplicate"];
	var relatedModule = this.getUrlVars()["relatedModule"];
	var view = this.getUrlVars()["view"];
	var app = this.getUrlVars()["app"];
	var plantid = this.getUrlVars()["plantid"];
	var referenceid = this.getUrlVars()["referenceid"];
	
		if(view=='Detail' && recordid!="")
		{
		jQuery(window).load(function(){
		$('editAction').addClass("hide");
		});	
		}
	
	
	if(recordid == "" || recordid == undefined)
	{
		if(sourceModule=="Invoice" || sourceModule=="SalesOrder" || sourceModule=="PurchaseOrder" || sourceModule=="ServiceContracts")
		{
			$('input[name="subject"]').val(sourceModule);
			$('input[name="subject"]').attr('readonly','true');
		}
		else if(sourceModule=="HelpDesk")
		{
			$('input[name="ticket_title"]').val('Claim Process');
			$('input[name="ticket_title"]').attr('readonly','true');
		}
		else if(sourceModule=='InitialJobReport')
		{
			$('input[name="name"]').val('initial Job Card');
			$('input[name="name"]').attr('readonly','true');
		}
		else if(sourceModule=='FinalJobProcessingReport')
		{
			$('input[name="name"]').val('Final Job Card');
			$('input[name="name"]').attr('readonly','true');
		}
		else
		{
			if(sourceModule != 'Accounts' && sourceModule != 'Contacts' && sourceModule != 'Leads' && sourceModule != 'Products' && sourceModule!= 'Users' && sourceModule!= 'RouteMaster' && sourceModule != 'Vendors' && sourceModule!= 'PlantMaster' && sourceModule!= 'District' && sourceModule!= 'SerialNumber' && sourceModule!= 'Approvals' && sourceModule!= 'BankMaster'  && sourceModule!= 'DiscountMaster')
			{
				$('input[name="name"]').val(sourceModule);
				$('input[name="name"]').attr('readonly','true');
			}
		}
	}
	else
	{
		if(sourceModule=="Invoice" || sourceModule=="SalesOrder" || sourceModule=="PurchaseOrder" || sourceModule=="ServiceContracts")
		{
			$('input[name="subject"]').attr('readonly','true');
		}
		else if(sourceModule=="HelpDesk")
		{
			$('input[name="ticket_title"]').attr('readonly','true');
		}
		else if(sourceModule=='InitialJobReport')
		{
			$('input[name="name"]').attr('readonly','true');
		}
		else if(sourceModule=='FinalJobProcessingReport')
		{
			$('input[name="name"]').attr('readonly','true');
		}
		else
		{
			if(sourceModule != 'Accounts' && sourceModule != 'Contacts' && sourceModule != 'Leads' && sourceModule != 'Products' && sourceModule!= 'Users' && sourceModule!= 'RouteMaster' && sourceModule != 'Vendors' && sourceModule!= 'PlantMaster' && sourceModule!= 'District' && sourceModule!= 'SerialNumber' && sourceModule!= 'Approvals' && sourceModule!= 'BankMaster')
			{
				$('input[name="name"]').attr('readonly','true');
			}
		}
	}

  if(sourceModule=="StockRequisition" && view=='Edit'){
	  $('[name="cf_4807"]').select2().select2('readonly',true);
	  if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4597"]').select2().select2('readonly',true);
			$('[name="cf_4599"]').select2().select2('readonly',true);
			$('[name="cf_3221"]').datepicker("remove");
			$('[name="cf_3221"]').attr("readonly",true);
		}
		$.ajax(
		{
		type:"post",
		url: "shirshaAjax.php",
		data: {action: 'getPlant'},
		dataType: 'json',
		success:function(response)
		{
		if(response.plantid != null)
		{
		$('input[name="cf_nrl_plantmaster765_id"]').val(response.plantid);
		$('input[name="cf_nrl_plantmaster765_id_display"]').val(response.plantname);
		$('input[name="cf_nrl_plantmaster765_id_display"]').attr('readonly',true);
		$('#StockRequisition_editView_fieldName_cf_nrl_plantmaster765_id_select').parent().remove();
		$('#StockRequisition_editView_fieldName_cf_nrl_plantmaster765_id_create').parent().remove();
		}
		}
		});
	  if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
	if(recordid == "" || recordid == undefined)
	{
	  var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4599"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4597"]').select2('data', { id: year, text: year});
	
	var curday = d.getDate();
		
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3221"]').val(postingdate);
	
	$('[name="cf_1497"]').val(postingdate);
	}
	 
	$(document).ready(function(){
	$('[name="cf_4803"]').select2().select2('readonly',true);
	
	jQuery(document).on('change','[name="cf_4860"]',function(){
		var dates  = jQuery('[name="cf_4860"]').val();
	  var tmpdt = dates.split("-");
	  
	  if(tmpdt[0].toString().length==2 && tmpdt[1].toString().length==2 && tmpdt[2].toString().length==4){
		  var dates = tmpdt[2] + "-" + tmpdt[1] + "-" + tmpdt[0];
	  }
      jQuery('[name^="cf_1567"]').val(dates);
	  
	});
	

	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var minDate = new Date(today);
    $('[name="cf_4860"]').datepicker('setStartDate', minDate);
	
	});	 
	
	
	
	
	 
  jQuery(window).load(function(e) {
  $(document).on("click", ".cloneLineItemRow", function () {
  var dataid = this.id;
  var rownum = $('#totalRowCount_Line_Item_Details').val();
  var spnum =  rownum.split(',');
  var biggestNum = 0;
  spnum.forEach((a) => {
    var ja = parseInt(a);
    if(ja > biggestNum){
        biggestNum = ja;
     }
  });

  var nextid = biggestNum + 1;
  var productid = $('[name="cf_1553_'+dataid+'"]').val();
  var productname = $('[name="cf_1553_display_'+dataid+'"]').val();
  var productcode = $('[name="cf_1555_'+dataid+'"]').html();
  var productah = $('[name="cf_3457_'+dataid+'"]').val();
  var productunit = $('[name="cf_1563_'+dataid+'"]').val();
  var productcategory = $('[name="cf_4778_'+dataid+'"]').val();
  var reqqty = $('[name="cf_1561_'+dataid+'"]').val();

  var reqqtymon1 = $('[name="cf_1557_'+dataid+'"]').val();
  var reqqtymon2 = $('[name="cf_3609_'+dataid+'"]').val();
  var reqqtymon3 = $('[name="cf_3611_'+dataid+'"]').val();
  var newreqqty = 0;
  var newreqqty2 = 0;
  var newreqqty3 = 0;

  var actual3avgqty = $('[name="cf_1559_'+dataid+'"]').val();
  var salesplan3mon = $('[name="cf_3455_'+dataid+'"]').val();

  var deliverydate = $('[name="cf_1567_'+dataid+'"]').val();
  var comment = $('[name="cf_1569_'+dataid+'"]').html();
  var qtysum1 = 0;
  var qtysum2 = 0;
  var qtysum3 = 0;

  spnum.forEach((did) => {
    var jdid = parseInt(did);
    var productvl = $('[name="cf_1553_'+jdid+'"]').val();

   if(productvl==productid){
       var newreqqty1 = $('[name="cf_1561_'+jdid+'"]').val();
       qtysum1  = parseFloat(qtysum1) + parseFloat(newreqqty1);

       var newreqqty2 = $('[name="cf_4513_'+jdid+'"]').val();
       qtysum2  = parseFloat(qtysum2) + parseFloat(newreqqty2);

       var newreqqty3 = $('[name="cf_4515_'+jdid+'"]').val();
       qtysum3  = parseFloat(qtysum3) + parseFloat(newreqqty3);
   }

  });
  
 
  newreqqty = (reqqtymon1 - qtysum1).toFixed(2);
  if(newreqqty < 0)
  {
	  newreqqty = 0;
  }
  
  newreqqty2  = (reqqtymon2 - qtysum2).toFixed(2);
  if(newreqqty2 < 0)
  {
	  newreqqty2 = 0;
  }
  newreqqty3 = (reqqtymon3 - qtysum3).toFixed(2);
  if(newreqqty3 < 0)
  {
	  newreqqty3 = 0;
  }
 
 if(newreqqty!=0 || newreqqty2!=0 || newreqqty3!=0){

 
  var tdate = new Date();
   var dd = tdate.getDate(); 
   var MM = tdate.getMonth() + 1; 
   var yyyy = tdate.getFullYear(); 
   if(MM.toString().length == 1){
	  MM = "0"+MM.toString(); 
   }
   if(dd.toString().length == 1){
	  dd = "0"+dd.toString(); 
   }
  var currentDate = yyyy.toString() + "-" + MM.toString() + "-" + dd.toString();

  var newhtml = '<tr id="Line_Item_Details__row_'+nextid+'" class="tr_clone">'

  newhtml +=  '<td><i class="fa fa-copy cursorPointer  cloneLineItemRow" title="Clone" id="'+nextid+'"></i>&nbsp;&nbsp;<i class="fa fa-trash deleteLineItemRow cursorPointer" title="Delete" id="'+nextid+'"></i></td>';

  newhtml += '<td class="fieldValue"><div class="referencefield-wrapper "><input name="popupReferenceModule" type="hidden" value="Products" id="popupReferenceModule_'+nextid+'"><div class="input-group"><input name="cf_1553_'+nextid+'" type="hidden" value="'+productid+'" class="sourceField" data-displayvalue="" id="cf_1553_'+nextid+'"/><input id="cf_1553_display_'+nextid+'" name="cf_1553_display_'+nextid+'" data-fieldname="cf_1553" data-fieldtype="reference" type="text" class="marginLeftZero autoComplete  inputElement ui-autocomplete-input" style="width: 250px;" value="'+productname+'" placeholder="Type to search" autocomplete="off" readonly="readonly" /></div></div></td>';

  newhtml +=  '<td class="fieldValue"><textarea rows="5" id="StockRequisition_editView_fieldName_cf_1555_'+nextid+'" style="width: 120px;" class="inputElement" readonly="" name="cf_1555_'+nextid+'">'+productcode+'</textarea></td>';

  newhtml +=  '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_3457_'+nextid+'" type="text" data-fieldname="cf_3457" data-fieldtype="string" class="inputElement " name="cf_3457_'+nextid+'" style="width: 100px;" value="'+productah+'" readonly="readonly" /></td>';

  newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_1563_'+nextid+'" style="width:80px" type="text" class="inputElement" name="cf_1563_'+nextid+'" value="'+productunit+'" readonly="readonly" /></td>';

  newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_4778_'+nextid+'" type="text" style="min-width:110px;" data-fieldname="cf_4778" data-fieldtype="string" class="inputElement " name="cf_4778_'+nextid+'" readonly="readonly" value="'+productcategory+'"></td>';
  
  newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_1559_'+nextid+'" type="text" class="inputElement" step="0.01" name="cf_1559_'+nextid+'" style="width: 100px;" value="'+actual3avgqty+'" readonly="readonly" /></td>';

  newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_3455_'+nextid+'" style="min-width:80px;" type="text" class="inputElement" name="cf_3455_'+nextid+'" readonly value="'+salesplan3mon+'" /></td>';

  newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_1557_'+nextid+'" type="text" class="inputElement" step="0.01" name="cf_1557_'+nextid+'" style="width: 100px;" value="'+reqqtymon1+'" readonly="readonly" /></td>';

  newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_1561_'+nextid+'" type="number" class="inputElement" value="'+newreqqty+'" step="1" min="1" name="cf_1561_'+nextid+'" /></td>';
  
   newhtml += '<td class="fieldValue"><input id="cf_3609_'+nextid+'" style="min-width:80px;" readonly type="text" class="inputElement" step="0.01" name="cf_3609_'+nextid+'" value="'+reqqtymon2+'" aria-invalid="false" /></td>';

   newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_4513_'+nextid+'" style="min-width:80px;" type="number" class="inputElement" step="0.01" name="cf_4513_'+nextid+'" value="'+newreqqty2+'" aria-invalid="false" /></td>';
   
  newhtml += '<td class="fieldValue"><input id="cf_3611_'+nextid+'" style="min-width:80px;" readonly type="text" class="inputElement" step="0.01" name="cf_3611_'+nextid+'" value="'+reqqtymon3+'" aria-invalid="false" /></td>';

  newhtml += '<td class="fieldValue"><input id="StockRequisition_editView_fieldName_cf_4515_'+nextid+'" style="min-width:80px;" type="number" class="inputElement" step="0.01" name="cf_4515_'+nextid+'" value="'+newreqqty3+'" aria-invalid="false" /></td>';

  newhtml +=  '<td class="fieldValue"><div class="inputElement" style="margin-bottom: 3px"><input id="StockRequisition_editView_fieldName_cf_1567_'+nextid+'" type="date" class="form-control" min="'+currentDate+'" required data-fieldname="cf_1567" name="cf_1567_'+nextid+'" style="width: 150px;" /></div></td>';

  newhtml += '<td class="fieldValue"><textarea rows="5" id="StockRequisition_editView_fieldName_cf_1569_'+nextid+'" class="inputElement" name="cf_1569_'+nextid+'">'+comment+'</textarea></td></tr>';
    
	
  $('table#Line_Item_Details > tbody > tr#Line_Item_Details__row_'+dataid).after(newhtml);

  var exisindex = spnum.indexOf(dataid);
  spnum.splice(exisindex,0,nextid);

  $('#totalRowCount_Line_Item_Details').val(spnum.toString());
  
 }else{
	 alert('Actual Stock Requisition Quantity cannot be 0 for all the month');
 }

  
  });
});

  }
  if(sourceModule=="SerialNumber" && view=='Edit')
  {
	$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster103_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster103_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster103_id_display"]').attr('readonly',true);
							$('#PlantProductAssignment_editView_fieldName_cf_nrl_plantmaster103_id_select').parent().remove();
							$('#PlantProductAssignment_editView_fieldName_cf_nrl_plantmaster103_id_create').parent().remove();
						}
					}
					});
  }
  if(sourceModule=="Vendors" && view=='Edit')
  {
	  $.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getCurrency'},
				    dataType: 'json',
                    success:function(response)
                    {
						$("[name=cf_5121] option[value='INR']").remove();
						var idarr = response.id;
						var codearr = response.code;
						var cnt = idarr.length;
						for(var i =0;i<cnt;i++)
						{
							$('[name="cf_5121"]').append('<option value=' + idarr[i] + '>' + codearr[i] + '</option>');
						}
					}
					});
  }
  if(sourceModule=="SerialNumber" && view=='Edit')
  {
	$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster496_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster496_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster496_id_display"]').attr('readonly',true);
							$('#SerialNumber_editView_fieldName_cf_nrl_plantmaster496_id_select').parent().remove();
							$('#SerialNumber_editView_fieldName_cf_nrl_plantmaster496_id_create').parent().remove();
						}
					}
					});
  }
  if(sourceModule=="StorageLocation" && view=='Edit')
  {
	                $.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster561_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster561_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster561_id_display"]').attr('readonly',true);
							$('#StorageLocation_editView_fieldName_cf_nrl_plantmaster561_id_select').parent().remove();
							$('#StorageLocation_editView_fieldName_cf_nrl_plantmaster561_id_create').parent().remove();
						}
					}
					});
  }
  
  
  
  if(sourceModule=="SalesPlan" && view=='Edit')
	{
	  setTimeout(
	  function()
	  {
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_3506"]').select2().select2('readonly',true);
			$('[name="cf_3502"]').select2().select2('readonly',true);
			$('[name="cf_4850"]').datepicker("remove");
			$('[name="cf_4850"]').attr('readonly',true);
		}
	  }, 1000);
	if(recordid == "" || recordid == undefined)
	{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January - February - March';
	}
	if(curmonth == '2')
	{
		var month = 'February - March - April';
	}
	if(curmonth == '3')
	{
		var month = 'March - April - May';
	}
	if(curmonth == '4')
	{
		var month = 'April - May - June';
	}
	if(curmonth == '5')
	{
		var month = 'May - June - July';
	}
	if(curmonth == '6')
	{
		var month = 'June - July - August';
	}
	if(curmonth == '7')
	{
		var month = 'July - August - September';
	}
	if(curmonth == '8')
	{
		var month = 'August - September - October';
	}
	if(curmonth == '9')
	{
		var month = 'September - October - November';
	}
	if(curmonth == '10')
	{
		var month = 'October - November - December';
	}
	if(curmonth == '11')
	{
		var month = 'November - December - January';
	}
	if(curmonth == '12')
	{
		var month = 'December - January - February';
	}
	setTimeout(
  function()
  {
	$('select[name="cf_3502"]').select2('data', { id: month, text: month});
  },1000);
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January - February - March' && month !='February - March - April' && month != 'March - April - May')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January - February - March' || month == 'February - March - April' || month == 'March - April - May'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January - February - March' && month !='February - March - April' && month != 'March - April - May')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January - February - March' || month == 'February - March - April' || month == 'March - April - May'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January - February - March' && month !='February - March - April' && month != 'March - April - May')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January - February - March' || month == 'February - March - April' || month == 'March - April - May'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January - February - March' && month !='February - March - April' && month != 'March - April - May')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January - February - March' || month == 'February - March - April' || month == 'March - April - May'))
	{
		var year = '2021 - 2022';
	}
	setTimeout(
  function()
  {
	$('select[name="cf_3506"]').select2('data', { id: year, text: year});
  },1000);
  var curday = d.getDate();

						var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();				
						setTimeout(
					  function()
					  {
						$('input[name="cf_4850"]').val(postingdate);
					  },1000);
	}					
				$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
						setTimeout(
						  function()
						  {
							$('input[name="cf_nrl_plantmaster166_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster166_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster166_id_display"]').attr('readonly',true);
							$('#SalesPlan_editView_fieldName_cf_nrl_plantmaster166_id_select').parent().remove();
							$('#SalesPlan_editView_fieldName_cf_nrl_plantmaster166_id_create').parent().remove();
							var year = $('select[name="cf_3506"]').val();
							var quartermonth = $('select[name="cf_3502"]').val();
							var d = new Date();
							var curmonth = d.getMonth()+1;
							var curday = d.getDate();
							var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
							var curyear = d.getFullYear();
							var y = year.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var qmonth = quartermonth.split(" - ");
					var months = qmonth[0];
					if(months == 'January' || months == 'February' || months == 'March')
					{
						var yearval = lstyr;
					}
					else
					{
						var yearval = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: yearval, month: months, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4850"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4850"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4850"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4850"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						  },1000);
						}
						var years = year;
						var plantid = response.plantid;
						var assignedto = $('[name="assigned_user_id"]').val();
						$.ajax(
							  {
							  type:"post",
							  url: "arocrmAjax.php",
							  data: { plantid:plantid, years:years, month:month, assignedto:assignedto, action: 'getallsalesbudgetqty'},
							  dataType: 'json',
							  success:function(response)
							  {
								  console.log(response.debug);
							  localStorage.setItem('salesplanvalues',JSON.stringify(response));
							  }
							});
					}
					});	
		jQuery(document).on('change','[name^=cf_3506]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var quartermonth = $('select[name="cf_3502"]').val();
					var qmonth = quartermonth.split(" - ");
					var month = qmonth[0];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster166_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4850"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4850"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4850"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4850"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});


	jQuery(document).on('change','[name^=cf_3502]', function(e) {
		var quartermonth = $(this).val();
		var qmonth = quartermonth.split(" - ");
		var month = qmonth[0];
		var yr = $('select[name="cf_3506"]').val();
					
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster166_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4850"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4850"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4850"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4850"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});

		
		
		if(recordid != "" || recordid != undefined)
		{
		$.ajax(
		{
		type:"post",
		url: "shirshaAjax.php",
		data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
		dataType: 'json',
		success:function(response)
		{
		if(response.ticketstatus == '0')
		{
		alert("Cannot edit this record");
		window.history.back();
		}
		}
		});
		}
		
		
		
jQuery(document).on('click','.saveButton',function(e) {
   
      var sbforsp = JSON.parse(localStorage.getItem('salesplanvalues'));

      var fourmonthone = 0;
      var fourmonthtwo = 0;
      var fourmonththree = 0;

      var twomonthone = 0;
      var twomonthtwo = 0;
      var twomonththree = 0;

      var ibmonthone = 0;
      var ibmonthtwo = 0;
      var ibmonththree = 0;

      var ermonthone = 0;
      var ermonthtwo = 0;
      var ermonththree = 0;

  var fourrow = $('[name="totalRowCount_4_Wheeler_Battery"]').val();
    var spfourrow = fourrow.split(",");
  
  var tworow = $('[name="totalRowCount_2_Wheeler_Battery"]').val();
   var sptworow = tworow.split(",");
   
  var ibrow = $('[name="totalRowCount_Inverter_Battery"]').val();
  var spibrow = ibrow.split(",");
  
  
  var errow = $('[name="totalRowCount_E-Rickshaw_Battery"]').val();
  var sperrow = errow.split(",");

 
  


  $.each(spfourrow,function(index,frvalues){
  var monthss1 = $('[name="cf_3516_'+frvalues+'"]').val();
  var monthss2 = $('[name="cf_3520_'+frvalues+'"]').val();
  var monthss3 = $('[name="cf_3524_'+frvalues+'"]').val();
  if(monthss1==undefined || monthss1==""){
    monthss1 = 0;
  }
  if(monthss2==undefined || monthss2==""){
    monthss2 = 0;
  }
  if(monthss3==undefined || monthss3==""){
    monthss3 = 0;
  }
  fourmonthone = parseFloat(fourmonthone) + parseFloat(monthss1);
  fourmonthtwo = parseFloat(fourmonthtwo) + parseFloat(monthss2);
  fourmonththree = parseFloat(fourmonththree) + parseFloat(monthss3);
  });



  $.each(sptworow,function(index,twvalues){
  var monthss1 = $('[name="cf_3536_'+twvalues+'"]').val();
  var monthss2 = $('[name="cf_3540_'+twvalues+'"]').val();
  var monthss3 = $('[name="cf_3544_'+twvalues+'"]').val();
  if(monthss1==undefined || monthss1==""){
    monthss1 = 0;
  }
  if(monthss2==undefined || monthss2==""){
    monthss2 = 0;
  }
  if(monthss3==undefined || monthss3==""){
    monthss3 = 0;
  }
  twomonthone = parseFloat(twomonthone) + parseFloat(monthss1);
  twomonthtwo = parseFloat(twomonthtwo) + parseFloat(monthss2);
  twomonththree = parseFloat(twomonththree) + parseFloat(monthss3);
  });



  $.each(spibrow,function(index,ibvalues){
  var monthss1 = $('[name="cf_3574_'+ibvalues+'"]').val();
  var monthss2 = $('[name="cf_3578_'+ibvalues+'"]').val();
  var monthss3 = $('[name="cf_3582_'+ibvalues+'"]').val();
  if(monthss1==undefined || monthss1==""){
    monthss1 = 0;
  }
  if(monthss2==undefined || monthss2==""){
    monthss2 = 0;
  }
  if(monthss3==undefined || monthss3==""){
    monthss3 = 0;
  }
  ibmonthone = parseFloat(ibmonthone) + parseFloat(monthss1);
  ibmonthtwo = parseFloat(ibmonthtwo) + parseFloat(monthss2);
  ibmonththree = parseFloat(ibmonththree) + parseFloat(monthss3);
  });



  $.each(sperrow,function(index,ervalues){
  var monthss1 = $('[name="cf_3574_'+ervalues+'"]').val();
  var monthss2 = $('[name="cf_3578_'+ervalues+'"]').val();
  var monthss3 = $('[name="cf_3582_'+ervalues+'"]').val();
  if(monthss1==undefined || monthss1==""){
    monthss1 = 0;
  }
  if(monthss2==undefined || monthss2==""){
    monthss2 = 0;
  }
  if(monthss3==undefined || monthss3==""){
    monthss3 = 0;
  }
  ermonthone = parseFloat(ermonthone) + parseFloat(monthss1);
  ermonthtwo = parseFloat(ermonthtwo) + parseFloat(monthss2);
  ermonththree = parseFloat(ermonththree) + parseFloat(monthss3);
  });

  var summary  = '<table class="table table-bordered table-stripped"><tr><td></td><td>4W</td><td>2W</td><td>IB</td><td>ER</td></tr><tr><td>Sales Budget Month 1</td><td>'+sbforsp.fourwqtyone+'</td><td>'+sbforsp.twowqtyone+'</td><td>'+sbforsp.ibqtyone+'</td><td>'+sbforsp.erqtyone+'</td></tr><tr><td>Sales Plan Month 1</td><td>'+fourmonthone+'</td><td>'+twomonthone+'</td><td>'+ibmonthone+'</td><td>'+ermonthone+'</td></tr><tr><td>Sales Budget Month 2</td><td>'+sbforsp.fourwqtytwo;
  summary  = summary  + '</td><td>'+sbforsp.twowqtytwo+'</td><td>'+sbforsp.ibqtytwo+'</td><td>'+sbforsp.erqtytwo+'</td></tr><tr><td>Sales Plan Month 2</td><td>'+fourmonthtwo+'</td><td>'+twomonthtwo+'</td><td>'+ibmonthtwo+'</td><td>'+ermonthtwo+'</td></tr><tr><td>Sales Budget Month 3</td><td>'+sbforsp.fourwqtythree+'</td><td>'+sbforsp.twowqtythree+'</td><td>'+sbforsp.ibqtythree+'</td><td>'+sbforsp.erqtythree+'</td></tr><tr><td>Sales Plan Month 3</td><td>'+fourmonththree+'</td><td>'+twomonththree;
  summary  = summary  + '</td><td>'+ibmonththree+'</td><td>'+ermonththree+'</td></tr></table>';
  $(".modal-body").html(summary);
  $(".modal-header").html('Detailed Summary of Sales Plan with respect to Sales Budget');

  $(".modal-footer").html('<button type="submit" id="salesplan-messege-ok" class="btn btn-success">Ok</button><button type="button" class="btn btn-primary" id="salesplan-messege-cancel">Cancel</button>');
  $('#myModal').modal('show');
 
});

 
 
  jQuery(document).on('change','[name="cf_3502"]',function(e) {
  var month = $('[name="cf_3502"]').select2('data').id;
  var years = $('[name="cf_3506"]').select2('data').id;
  var plantid = $('[name="cf_nrl_plantmaster166_id"]').val();
  var assignedto = $('[name="assigned_user_id"]').val();
  $.ajax(
      {
      type:"post",
      url: "arocrmAjax.php",
      data: { plantid:plantid, years:years, month:month, assignedto: assignedto, action: 'getallsalesbudgetqty'},
      dataType: 'json',
      success:function(response)
      {
		  console.log(response.debug);
      localStorage.setItem('salesplanvalues',JSON.stringify(response));
      }
    });
  });
 

  jQuery(window).load(function(e) {

  
  
$(document).on('blur','[name^="cf_3516"]',function(){
var fourmonthone = 0;

var fourrow = $('[name="totalRowCount_4_Wheeler_Battery"]').val();
var spfourrow = fourrow.split(",");

$.each(spfourrow,function(index,frvalues){
var monthss1 = $('[name="cf_3516_'+frvalues+'"]').val();
if(monthss1==undefined || monthss1==""){
monthss1 = 0;
}
fourmonthone = parseFloat(fourmonthone) + parseFloat(monthss1);
});
$('[name="cf_5009"]').val(fourmonthone);
});



$(document).on('blur','[name^="cf_3536"]',function(){
var twomonthone = 0;

var tworow = $('[name="totalRowCount_2_Wheeler_Battery"]').val();
var sptworow = tworow.split(",");
$.each(sptworow,function(index,twvalues){
var monthss1 = $('[name="cf_3536_'+twvalues+'"]').val();
if(monthss1==undefined || monthss1==""){
monthss1 = 0;
}
twomonthone = parseFloat(twomonthone) + parseFloat(monthss1);
});



$('[name="cf_5011"]').val(twomonthone);
});




$(document).on('blur','[name^="cf_3574"]',function(){
 var ibmonthone = 0;
 
var ibrow = $('[name="totalRowCount_Inverter_Battery"]').val();
  var spibrow = ibrow.split(",");
 
  $.each(spibrow,function(index,ibvalues){
  var monthss1 = $('[name="cf_3574_'+ibvalues+'"]').val();
  if(monthss1==undefined || monthss1==""){
    monthss1 = 0;
  }
  ibmonthone = parseFloat(ibmonthone) + parseFloat(monthss1);
  });
  
$('[name="cf_5013"]').val(ibmonthone);
});


$(document).on('blur','[name^="cf_3556"]',function(){
	var ermonthone = 0;

	var errow = $('[name="totalRowCount_E-Rickshaw_Battery"]').val();
	var sperrow = errow.split(",");

	$.each(sperrow,function(index,ervalues){
	var monthss1 = $('[name="cf_3556_'+ervalues+'"]').val();
	if(monthss1==undefined || monthss1==""){
	monthss1 = 0;
	}
	ermonthone = parseFloat(ermonthone) + parseFloat(monthss1);
	});

$('[name="cf_5015"]').val(ermonthone);
});




	setTimeout(
	function()
	{
    jQuery('.saveButton').prop('type','button');
    jQuery('[name="cf_4541"]').select2().select2('readonly','true');
    jQuery('#tr_clone_add__E-Rickshaw_Battery').prop("disabled",true);
    jQuery('#tr_clone_add__4_Wheeler_Battery').prop("disabled",true);
    jQuery('#tr_clone_add__2_Wheeler_Battery').prop("disabled",true);
    jQuery('#tr_clone_add__Inverter_Battery').prop("disabled",true);

    jQuery('[name^="cf_3518"]').prop('readonly',true);
    jQuery('[name^="cf_3522"]').prop('readonly',true);
    jQuery('[name^="cf_3526"]').prop('readonly',true);

    jQuery('[name^="cf_3538"]').prop('readonly',true);
    jQuery('[name^="cf_3542"]').prop('readonly',true);
    jQuery('[name^="cf_3546"]').prop('readonly',true);

    jQuery('[name^="cf_3576"]').prop('readonly',true);
    jQuery('[name^="cf_3580"]').prop('readonly',true);
    jQuery('[name^="cf_3584"]').prop('readonly',true);

    jQuery('[name^="cf_3558"]').prop('readonly',true);
    jQuery('[name^="cf_3562"]').prop('readonly',true);
    jQuery('[name^="cf_3566"]').prop('readonly',true);
	
	jQuery('[name="cf_5009"]').prop('readonly',true);
    jQuery('[name="cf_5011"]').prop('readonly',true);
    jQuery('[name="cf_5013"]').prop('readonly',true);
	jQuery('[name="cf_5015"]').prop('readonly',true);
	
	jQuery(document).on('change','[name="cf_4850"]',function(){
		var postingdate = $(this).val();
		var branchid = $('[name="cf_nrl_plantmaster166_id"]').val();
		$.ajax(
        {
        type:"post",
        url: "arocrmAjax.php",
        data: {postingdate: postingdate, branchid: branchid, action: 'getLineItemsforSalesPlan'},
        dataType: 'json',
        success:function(response)
        {
         $('table#4_Wheeler_Battery > tbody').html(response.fourw);
          $('#tr_clone_add__4_Wheeler_Battery').prop("disabled",true);
          $('#totalRowCount_4_Wheeler_Battery').val(response.fourwcount);
          $('#directMode_4_Wheeler_Battery').val(1);

         $('table#2_Wheeler_Battery > tbody').html(response.twow);
          $('#tr_clone_add__2_Wheeler_Battery').prop("disabled",true);
          $('#totalRowCount_2_Wheeler_Battery').val(response.twowcount);
          $('#directMode_2_Wheeler_Battery').val(1);

         $('table#Inverter_Battery > tbody').html(response.ibw);
          $('#tr_clone_add__Inverter_Battery').prop("disabled",true);
          $('#totalRowCount_Inverter_Battery').val(response.ibwcount);
          $('#directMode_Inverter_Battery').val(1);

          $('table#E-Rickshaw_Battery > tbody').html(response.erw);
          $('#tr_clone_add__E-Rickshaw_Battery').prop("disabled",true);
          $('#totalRowCount_E-Rickshaw_Battery').val(response.erwcount);
          $('#directMode_E-Rickshaw_Battery').val(1);

          $('[name^="cf_3518"]').prop("readonly",true);
          $('[name^="cf_3522"]').prop("readonly",true);
          $('[name^="cf_3526"]').prop("readonly",true);

          $('[name^="cf_3538"]').prop("readonly",true);
          $('[name^="cf_3542"]').prop("readonly",true);
          $('[name^="cf_3546"]').prop("readonly",true);

          $('[name^="cf_3576"]').prop("readonly",true);
          $('[name^="cf_3580"]').prop("readonly",true);
          $('[name^="cf_3584"]').prop("readonly",true);

          $('[name^="cf_3558"]').prop("readonly",true);
          $('[name^="cf_3562"]').prop("readonly",true);
          $('[name^="cf_3566"]').prop("readonly",true);

        }
        });
	});
  if(recordid == "" || recordid == undefined){
	  var postingdate = $('input[name="cf_4850"]').val();
	  var branchid = $('[name="cf_nrl_plantmaster166_id"]').val();
		$.ajax(
        {
        type:"post",
        url: "arocrmAjax.php",
        data: {postingdate: postingdate, branchid: branchid, action: 'getLineItemsforSalesPlan'},
        dataType: 'json',
        success:function(response)
        {
         $('table#4_Wheeler_Battery > tbody').html(response.fourw);
          $('#tr_clone_add__4_Wheeler_Battery').prop("disabled",true);
          $('#totalRowCount_4_Wheeler_Battery').val(response.fourwcount);
          $('#directMode_4_Wheeler_Battery').val(1);

         $('table#2_Wheeler_Battery > tbody').html(response.twow);
          $('#tr_clone_add__2_Wheeler_Battery').prop("disabled",true);
          $('#totalRowCount_2_Wheeler_Battery').val(response.twowcount);
          $('#directMode_2_Wheeler_Battery').val(1);

         $('table#Inverter_Battery > tbody').html(response.ibw);
          $('#tr_clone_add__Inverter_Battery').prop("disabled",true);
          $('#totalRowCount_Inverter_Battery').val(response.ibwcount);
          $('#directMode_Inverter_Battery').val(1);

          $('table#E-Rickshaw_Battery > tbody').html(response.erw);
          $('#tr_clone_add__E-Rickshaw_Battery').prop("disabled",true);
          $('#totalRowCount_E-Rickshaw_Battery').val(response.erwcount);
          $('#directMode_E-Rickshaw_Battery').val(1);

          $('[name^="cf_3518"]').prop("readonly",true);
          $('[name^="cf_3522"]').prop("readonly",true);
          $('[name^="cf_3526"]').prop("readonly",true);

          $('[name^="cf_3538"]').prop("readonly",true);
          $('[name^="cf_3542"]').prop("readonly",true);
          $('[name^="cf_3546"]').prop("readonly",true);

          $('[name^="cf_3576"]').prop("readonly",true);
          $('[name^="cf_3580"]').prop("readonly",true);
          $('[name^="cf_3584"]').prop("readonly",true);

          $('[name^="cf_3558"]').prop("readonly",true);
          $('[name^="cf_3562"]').prop("readonly",true);
          $('[name^="cf_3566"]').prop("readonly",true);

        }
        });
      }

      }, 1000);
  });
  
  
  }

  if(sourceModule=="StoretoStoreTransfer" && view=='Edit')
	{
      jQuery('[name^="cf_4733"]').prop("readonly",true);
      jQuery('[name^="cf_4735"]').prop("readonly",true);
      jQuery('[name^="cf_4743"]').prop("readonly",true);
      jQuery('[name^="cf_4745"]').prop("readonly",true);
    }



    if(sourceModule=="StoretoStoreTransfer" && view=='Edit')
  	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4633"]').select2().select2('readonly',true);
			$('[name="cf_4635"]').select2().select2('readonly',true);
			$('[name="cf_4973"]').datepicker("remove");
			$('[name="cf_4973"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4635"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4633"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4973"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster451_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster451_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster451_id_display"]').attr('readonly',true);
							$('#StoretoStoreTransfer_editView_fieldName_cf_nrl_plantmaster451_id_select').parent().remove();
							$('#StoretoStoreTransfer_editView_fieldName_cf_nrl_plantmaster451_id_create').parent().remove();
							var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4973"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4973"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4973"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4973"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
					
					
	jQuery(document).on('change','[name^=cf_4633]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster451_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4973"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4973"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4973"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4973"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4635]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster451_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4973"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4973"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4973"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4973"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	
     jQuery(document).on('keyup','[name="cf_4756"]', function(e) {
      var vales = $(this).val();
      $.ajax(
      {
      type:"post",
      url: "arocrmAjax.php",
      data: {nos:vales, action: 'getPopulatedSerialNumberforStoretoStore'},
      dataType: 'json',
      success:function(response)
      {
          $('table#LineItem > tbody').html(response.message);
          $('#totalRowCount_LineItem').val(response.count);
          $('#directMode_LineItem').val(1);
          $('.optionselect2').select2();
          $('#tr_clone_add__LineItem').prop('disabled',true);
        }
    });


     });

    }



  if(sourceModule=="StockUpload" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4633"]').select2().select2('readonly',true);
			$('[name="cf_4635"]').select2().select2('readonly',true);
			$('[name="cf_4979"]').datepicker("remove");
			$('[name="cf_4979"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4635"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4633"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4979"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster741_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster741_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster741_id_display"]').attr('readonly',true);
							$('#StockUpload_editView_fieldName_cf_nrl_plantmaster741_id_select').parent().remove();
							$('#StockUpload_editView_fieldName_cf_nrl_plantmaster741_id_create').parent().remove();
							var yr = $('select[name="cf_4633"]').val();
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4979"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4979"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4979"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4979"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
					
	jQuery(document).on('change','[name^=cf_4633]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster741_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4979"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4979"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4979"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4979"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	
	jQuery(document).on('change','[name^=cf_4635]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster741_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4979"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4979"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4979"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4979"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	
   jQuery('[name^="cf_4719"]').prop("readonly",true);
   jQuery('[name^="cf_4721"]').prop("readonly",true);
   jQuery('[name^="cf_4723"]').prop("readonly",true);
   


	jQuery(document).on('blur','[id^=serialno]', function(e) {
		$('.save_sno').prop("disabled",true);
		var serialid = $(this).attr('id');
		var serialval = $(this).val();
		var serial = serialid.split('_');
		var serialline = serial[1];
		var serialno = serial[2];
		var serialcnt = $('#tscount_'+serialline).val();
		for(var i = 0; i<serialcnt; i++)
		{
			if(i != serialno)
			{
				var otherserial = $('#serialno_'+serialline+'_'+i).val();
				if(otherserial != "" && serialval!= "")
				{
					if(otherserial == serialval)
					{
						alert("Same Serial Number found");
						$(this).val('');
						$(this).focus();
					}
				}
			}
		}
		var line = $('#totalRowCount_LineItem').val();
		var lines = line.split(',');
		var lineno = lines.length;
		if(lineno > 1)
		{
			for(var j=1;j<=lineno;j++)
			{
				var serialnos = $('[name=cf_4721_'+j+']').val();
				var allserial = serialnos.split(',');
				var len = allserial.length;
				for(var k = 0; k<len; k++)
				{
					if(allserial[k] != "" && serialval!= "")
					{
						if(allserial[k] == serialval)
						{
							alert("Same Serial Number found");
							$(this).val('');
							$(this).focus();
						}
					}						
				}
			}
		}
		
		if(serialval != "")
		{
			$.ajax(
				{
					type:"post",
					url: "shirshaAjax.php",
					data: {serialval:serialval , action: 'getSerialCheck'},
					dataType: 'json',
					success:function(response)
					{
						if(response.message != "")
						{
							alert(response.message);
							$('#'+serialid).val('');
							$('#'+serialid).focus();
							$('.save_sno').prop("disabled",false);
						}
						$('.save_sno').prop("disabled",false);
					}
				});
		}
	});


      jQuery(document).on('click','.serialwindow', function(e) {
      $('.saveButton').removeAttr('disabled');
      var names = $(this).prop('name');
      var namesd = names.split("_");
      namesd = namesd[1];
      var idsss = "";
      var nosid = "";
      var serialnos = "";
      var tablelen =  $('table#LineItem > tbody > tr').length;

      if(tablelen==1){
      idsss = "";
      }else{
      idsss = "_" + namesd;
     }
      nosid = $('[name="cf_4715'+idsss+'"]').val();
      serialnos = $('[name="cf_4721'+idsss+'"]').val();
        $.ajax(
        {
        type:"post",
        url: "arocrmAjax.php",
        data: {id:namesd, totalno: nosid, serialnos : serialnos, action: 'getPopulatedTextBoxSerialNumber'},
        dataType: 'json',
        success:function(response)
        {
        $('#myModalLabel').html('Serial Number List');
        $('#modalDetails').html(response.message);
        $('.modal-footer').html('<button type="button" class="btn btn-success save_sno" id="save_'+namesd+'">Save</button><button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>');
        }
        });
      });



      	jQuery(document).on('click','.save_sno', function(e) {
      	var ids = $(this).prop('id');
      	var tm = ids.split("_");
      	var id = tm[1];
      	var string = "";
      	var l = 1;
      	var rowcount = $('#tscount_'+id).val();
      	for(var k = 0;k < rowcount;k++){
      	var data = $('#serialno_'+id+'_'+k).val();

      	if(data!="" && data!=undefined){
      	 if(l==1){
      	 string = data;
      	 }else{
      	 string = string +","+ data;
           }
      	l++;
      	}
      	}

        var tablelen =  $('table#LineItem > tbody > tr').length;

        if(tablelen==1){
        id = "";
        }else{
        id = "_" + id;
       }

      jQuery('textarea[name="cf_4721'+id+'"]').val(string);
      jQuery('textarea[name="cf_4723'+id+'"]').val(string);
      jQuery('#myModal').modal('toggle');

      	});

		if(recordid=="" || recordid==undefined){
    jQuery(window).load(function(){
    var dtd  = '<textarea rows="6" cols="8" id="StockUpload_editView_fieldName_cf_4721" class="inputElement " name="cf_4721" readonly></textarea><br/><button type="button" data-target="#myModal" data-toggle="modal"  id="serial_1" name="serial_1" class="btn btn-success serialwindow">Serial Number</button>';
   jQuery('table#LineItem > tbody > tr:first > td:eq(7)').html(dtd);

    });
		}
		
   jQuery(document).on('blur','[name^="cf_4715"]',function(e){
     var getnamedata = $(this).prop('name');
     var st = getnamedata.split("_");
     var idsd = "";
     if(st.length==3){
     idsd = "_" + st[st.length - 1];
     }else if(st.length==2){
     idsd = "";
     }
     var sl = jQuery('[name="cf_4715'+idsd+'"]').val();
     var sle = jQuery('[name="cf_4717'+idsd+'"]').val();
     if(sl==undefined || sl==""){
       sl = 0;
     }
     if(sle==undefined || sle==""){
       sle=0;
     }
     var sk = parseFloat(sl) * parseFloat(sle);
     jQuery('[name="cf_4719'+idsd+'"]').val(sk);
   });


   jQuery(document).on('blur','[name^="cf_4717"]',function(e){
     var getnamedata = $(this).prop('name');
     var st = getnamedata.split("_");
     var idsd = "";
     if(st.length==3){
     idsd = "_" + st[st.length - 1];
     }else if(st.length==2){
     idsd = "";
     }
     var sl = jQuery('[name="cf_4715'+idsd+'"]').val();
     var sle = jQuery('[name="cf_4717'+idsd+'"]').val();
     if(sl==undefined || sl==""){
       sl = 0;
     }

     if(sle==undefined || sle==""){
       sle=0;
     }

     var sk = parseFloat(sl) * parseFloat(sle);
     jQuery('[name="cf_4719'+idsd+'"]').val(sk);
   });


  }



	if(sourceModule=="RouteMaster" && view=='Edit')
	{
		jQuery(document).ready(function(e) {
		jQuery('[name="cf_1438"]').prop("readonly",true);
    jQuery('[name="name"]').prop("readonly",true);
    jQuery('[name="cf_3471"]').val(0);

		});





    jQuery(document).on('keyup','[name^="cf_1471"]',function(e) {
    var linect = jQuery('#totalRowCount_LineItem').val();
    var lines  = linect.split(',');
    var count = lines.length;
    var datastr = "";
    jQuery.each(lines,function(index,value){
    var datas = "";
    if(count==1){
     datas =  jQuery('[name="cf_1471"]').val();
    }else{
     datas =  jQuery('[name="cf_1471_'+value+'"]').val();
    }
    if(datas!=undefined || datas!=""){
      datastr = datastr + datas + " - ";
    }
    });
    datastr = datastr.substring(0, datastr.length - 2);
    jQuery('[name="name"]').val(jQuery.trim(datastr));
    });

    jQuery(document).on('click','.deleteLineItemRow',function(e) {
    var linect = jQuery('#totalRowCount_LineItem').val();
    var lines  = linect.split(',');
    var count = lines.length;
    var datastr = "";
    jQuery.each(lines,function(index,value){
    var datas = "";
    if(count==1){
     datas =  jQuery('[name="cf_1471"]').val();
    }else{
     datas =  jQuery('[name="cf_1471_'+value+'"]').val();
    }
    if(datas!=undefined || datas!=""){
      datastr = datastr + datas + " - ";
    }
    });
    datastr = datastr.substring(0, datastr.length - 2);
    jQuery('[name="name"]').val(jQuery.trim(datastr));
    });



		jQuery(document).on('keyup','[name^="cf_3471"]',function(e) {
		var linect = jQuery('#totalRowCount_LineItem').val();
		var lines  = linect.split(',');
		var count = lines.length;
		var sum = 0;
		jQuery.each(lines,function(index,value){
		var datas = "";
		if(count==1){
		 datas =  jQuery('[name="cf_3471"]').val();
		}else{
		 datas =  jQuery('[name="cf_3471_'+value+'"]').val();
		}
		if(datas==undefined || datas==""){
		datas = 0;
		}
		sum = parseFloat(sum) + parseFloat(datas);
		});
		jQuery('[name="cf_1438"]').val(sum);
		});



	}


	if(sourceModule=="Invoice" && view=='Edit')
	{

		   jQuery(document).on('change','[name="cf_3552"]', function(e) {
			var invoice_type = this.value;
			  if(invoice_type=="Sales Order To Invoice"){
				$('#salesorder_id_display').attr('required',true);
			  }
			});
	}

	if(sourceModule=="Invoice" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4623"]').select2().select2('readonly',true);
			$('[name="cf_4625"]').select2().select2('readonly',true);
			$('[name="cf_4627"]').datepicker("remove");
			$('[name="cf_4627"]').attr("readonly",true);
		}
		$('select[name="invoicestatus"]').select2().select2('readonly',true);
		$('[name="cf_4991"]').attr('readonly',true);
	if(recordid == "" || recordid == undefined)
	{	
	var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4625"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4623"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4627"]').val(postingdate);
	}
		 $.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster164_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster164_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster164_id_display"]').attr('readonly',true);
							$('#Invoice_editView_fieldName_cf_nrl_plantmaster164_id_select').parent().remove();
							$('#Invoice_editView_fieldName_cf_nrl_plantmaster164_id_create').parent().remove();
							var yr = $('select[name="cf_4623"]').val();
	var month = $('select[name="cf_4625"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4627"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4627"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4627"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4627"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});	
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
	
	
		if(recordid !="" && recordid != undefined)
		{
			var grid = $('input[name="cf_nrl_goodsreceipt721_id"]').val();
			var type = $('select[name="cf_3288"]').val();
			var soid = $('input[name="salesorder_id"]').val();
			$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {recordid: recordid, grid: grid, soid: soid, type: type, action: 'purchasePaymentInvoiceDetails'},
				    dataType: 'json',
                    success:function(response)
                    {
						$('#advancePayment').val(response.advanceval);
						$('#debit').val(response.debitval);
						$('#credit').val(response.creditval);
						$('#advancePayment').attr('readonly','true');
						$('#debit').attr('readonly','true');
						$('#credit').attr('readonly','true');
						var reference = $('[name="cf_3288"]').val();
							
						var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval));
			}
			/*var advancepayment = $('#advancePayment').val();
			if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}
			var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}
			var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}
			if(reference == 'Sales Invoice' || reference == 'Direct Sales')
			{
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advancepayment) + parseFloat(creditinv));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advancepayment) + parseFloat(creditinv));
			}
			}
			else
			{
				if(adjusticon == '+')
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advancepayment));
				}
				else
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advancepayment));
				}
			}*/
			$('#grandTotal').text(postgrand.toFixed(2));
					}
					});
		}
		jQuery(document).on('change','[name="cf_3288"]', function(e) {
			var reference = $(this).val();
			if(reference == 'Direct Sales')
			{
				$('[name="cf_5209"]').select2('data', { id: 'No', text: 'No'});
				$('[name="cf_5209"]').select2().select2('readonly',true);
			}
			else
			{
				$('[name="cf_5209"]').select2().select2('readonly',false);
			}
		});
		jQuery(document).on('blur','#adjustment', function(e) {
				var reference = $('[name="cf_3288"]').val();
			var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			var advancepayment = $('#advancePayment').val();
			/*if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}*/
			/*var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}*/
			/*var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}*/
			
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval));
			}
			$('#grandTotal').text(postgrand.toFixed(2));
		});
		
		jQuery(document).on('blur','[name="schemediscount"]', function(e) {
			var sdis = $(this).val();
			var custid = $('[name="account_id"]').val();
					$.ajax(
					{
					type:"post",
					url: "shirshaAjax.php",
					data: {custid: custid, action: 'getcustDetails'},
					dataType: 'json',
					success:function(response)
					{
						var custpoint = response.custpoint;
						if(custpoint == "" || custpoint == undefined || custpoint == null)
						{
							custpoint = 0;
						}
						var disberse = response.amount;
						if(disberse == "" || disberse == undefined || disberse == null)
						{
							disberse = 0;
						}
						if(custpoint == '0' && disberse == '0')
						{
								$('#schemediscount').attr('max',0);
						}
						else
						{
							var trid = localStorage.getItem('selectedtrid');
							var trlen = trid.length;
							var dataselid = trid.substr('3',trlen);
							var allpoint = 0;
							var productid = new Array();
							var quantity = new Array();
							for(var i = 1;i<=dataselid;i++)
							{
								productid[i-1] = $("input[name='hdnProductId"+i+"']").val();
								quantity[i-1] = $("input[name='qty"+i+"']").val();
							}
							$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {productid: productid, quantity:quantity, action: 'getProductPoints'},
								dataType: 'json',
								success:function(response)
								{
									var allpoint = response.point;
									allpoint = parseFloat(allpoint) + parseFloat(custpoint);
									if(parseInt(allpoint) >= parseInt(200) && parseInt(allpoint) < parseInt(300))
									{
										var incentive = 1000;
									}
									else if(parseInt(allpoint) >= parseInt(300) && parseInt(allpoint) < parseInt(600))
									{
										var incentive = 2000;
									}
									else if(parseInt(allpoint) >= parseInt(600) && parseInt(allpoint) < parseInt(1200))
									{
										var incentive = 4500;
									}
									else if(parseInt(allpoint) >= parseInt(1200) && parseInt(allpoint) < parseInt(3000))
									{
										var incentive = 10000;
									}
									else if(parseInt(allpoint) >= parseInt(3000) && parseInt(allpoint) < parseInt(6000))
									{
										var incentive = 27000;
									}
									else if(parseInt(allpoint) >= parseInt(6000) && parseInt(allpoint) < parseInt(9000))
									{
										var incentive = 60000;
									}
									else if(parseInt(allpoint) >= parseInt(9000) && parseInt(allpoint) < parseInt(30000))
									{
										var incentive = 200000;
									}
									else if(parseInt(allpoint) >= parseInt(30000))
									{
										var incentive = 350000;
									}
									else
									{
										var incentive = 0;
									}
									var discount = parseFloat(incentive) - parseFloat(disberse);
									if(parseFloat(sdis)>parseFloat(discount))
									{
										$('#schemediscount').attr('max',discount);
									}	
									else
									{
										var pretaxtotal = $('#preTaxTotal').text();
										var taxtotal = $('#tax_final').text();
										var total = parseFloat(pretaxtotal) + parseFloat(taxtotal);
										var schemediscount = $('#schemediscount').val();
										if(schemediscount == '')
										{
											schemediscount = 0;
										}
										var grandtotal = parseFloat(total) - parseFloat(schemediscount);
										$('#grandTotal').text(grandtotal.toFixed(2));
									}
								}							
							});
						}
					}
				});
		});
		if(recordid == "" || recordid == undefined)
		{
			jQuery(document).on('change','[name="cf_5209"]', function(e) {
				jQuery('.saveButton').removeAttr("disabled");
				var tablelen = $('table#lineItemTab > tbody > tr').length - 1;
				var accountid = $('input[name="account_id"]').val();
				var itemno = tablelen;
				var totalqty = 0;
				for(i=1;i<=itemno;i++)
				{
					var qty = $('#qty'+i).val();
					totalqty = parseInt(totalqty) + parseInt(qty);
				}
				var postingdate = $('input[name="cf_4627"]').val();
				var nettotalprice = $('#netTotal').text();
				var category = $('select[name="productcategory"]').val();
				var branch = $('[name="cf_nrl_plantmaster164_id"]').val();
				var discountallow = $('[name="cf_5197"]').val();
				var advdiscountallow = $('[name="cf_5209"]').val();
				if(branch == '')
				{
					alert("Please Select Branch First");
				}
				if(category == '')
				{
					alert("Please Select Category First");
				}
				if(postingdate == '')
				{
					alert("Please Select Posting Date First");
				}
				if(accountid == '')
				{
					alert("Please Select Customer First");
				}
				if(discountallow == '')
				{
					alert("Please Select Discount Allow or Not");
				}
				if(advdiscountallow == '')
				{
					alert("Please Select Cash Discount on Advance Payment Allow or Not");
				}
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {branch: branch, category: category, totalqty: totalqty, nettotalprice: nettotalprice, date: postingdate, accountid: accountid, discountallow: discountallow, advdiscountallow: advdiscountallow, action: 'checkTotalDiscount'},
				dataType: 'json',
				success:function(response)
				{
					if(response.discountapply == 'Yes')
					{
						$('#dynamicDiscount').addClass('hide');
						$('#staticDiscount').removeClass('hide');
						
					if(response.totalamount == null)
					{
						response.totalamount = nettotalprice;
					}
					if(response.totaldeductamount == null)
					{
						response.totaldeductamount = 0.00;
					}
					$('#preTaxTotal').text(response.totalamount);
					var taxtotal = $('#tax_final').text();
					var grandtotal = (parseFloat(response.totalamount) + parseFloat(taxtotal)).toFixed(2);
					$('#grandTotal').text(grandtotal);
					$('#overallDiscount').text("("+response.totaldeductamount+")");
					$('#discountTotal_final').text(response.totaldeductamount);
					if(response.advpercent != null || response.paypercent != null || response.paypercentcash !=null || response.pay7percent != null || response.pay15percent != null || response.pay30percent != null)
					{
						$('.popupPaymentTable').show();
						$('#overalladvancepercent').val(response.advpercent);
						$('#overalladvancepercentval').val(response.advpercentamount);
						$('#overallsamedaypercent').val(response.paypercent);
						$('#overallsamedaypercentval').val(response.paypercentamount);
						$('#samedayInvoiceId').val(response.involdsame);
						$('#overallsamedaycashpercent').val(response.paypercentcash);
						$('#overallsamedaycashpercentval').val(response.paypercentcashamount);
						$('#samedaycashInvoiceId').val(response.involdsamecash);
						$('#overall7dayspercent').val(response.pay7percent);
						$('#overall7dayspercentval').val(response.pay7percentamount);
						$('#within7daysInvoiceId').val(response.invold7);
						$('#overall15dayspercent').val(response.pay15percent);
						$('#overall15dayspercentval').val(response.pay15percentamount);
						$('#within15daysInvoiceId').val(response.invold15);
						$('#overall30dayspercent').val(response.pay30percent);
						$('#overall30dayspercentval').val(response.pay30percentamount);
						$('#within30daysInvoiceId').val(response.invold30);
					}
					else
					{
						$('.popupPaymentTable').hide();
						$('#overalladvancepercent').val(0.00);
						$('#overalladvancepercentval').val(0.00);
						$('#overallsamedaypercent').val(0.00);
						$('#overallsamedaypercentval').val(0.00);
						$('#samedayInvoiceId').val('');
						$('#overallsamedaycashpercent').val(0.00);
						$('#overallsamedaycashpercentval').val(0.00);
						$('#samedaycashInvoiceId').val('');
						$('#overall7dayspercent').val(0.00);
						$('#overall7dayspercentval').val(0.00);
						$('#within7daysInvoiceId').val('');
						$('#overall15dayspercent').val(0.00);
						$('#overall15dayspercentval').val(0.00);
						$('#within15daysInvoiceId').val('');
						$('#overall30dayspercent').val(0.00);
						$('#overall30dayspercentval').val(0.00);
						$('#within30daysInvoiceId').val('');
					}
					if(response.monthlydiscountstatus == 'Active')
					{
						$('.popupMonthlyTable').show();
						$('#overallmonthlycashamount').val(response.monthunitamount);
						$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
						$('#overallmonthlycashpercent').val(response.monthcashpercent);
						$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
						$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
						$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
						$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
						$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					}
					else
					{
						$('.popupMonthlyTable').hide();
						$('#overallmonthlycashamount').val(0.00);
						$('#totaloverallmonthlycashamount').val(0.00);
						$('#overallmonthlycashpercent').val(0.00);
						$('#overallmonthlycashpercentval').val(0.00);
						$('#overallmonthlytargetpercent').val(0.00);
						$('#overallmonthlytargetpercentval').val(0.00);
						$('#overallmonthlyretailerpercent').val(0.00);
						$('#overallmonthlyretailerpercentval').val(0.00);
					}
					if(response.quarterlydiscountstatus == 'Active')
					{
						$('.popupQuarterlyTable').show();
						$('#overallquarterlycashamount').val(response.quarterunitamount);
						$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
						$('#overallquarterlycashpercent').val(response.quartercashpercent);
						$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
						$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
						$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
						$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
						$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					}
					else
					{
						$('.popupQuarterlyTable').hide();
						$('#overallquarterlycashamount').val(0.00);
						$('#totaloverallquarterlycashamount').val(0.00);
						$('#overallquarterlycashpercent').val(0.00);
						$('#overallquarterlycashpercentval').val(0.00);
						$('#overallquarterlytargetpercent').val(0.00);
						$('#overallquarterlytargetpercentval').val(0.00);
						$('#overallquarterlyretailerpercent').val(0.00);
						$('#overallquarterlyretailerpercentval').val(0.00);
					}
					if(response.halfyearlydiscountstatus == 'Active')
					{
						$('.popupHalfYearlyTable').show();
						$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
						$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
						$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
						$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
						$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
						$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
						$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
						$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					}
					else
					{
						$('.popupHalfYearlyTable').hide();
						$('#overallhalfyearlycashamount').val(0.00);
						$('#totaloverallhalfyearlycashamount').val(0.00);
						$('#overallhalfyearlycashpercent').val(0.00);
						$('#overallhalfyearlycashpercentval').val(0.00);
						$('#overallhalfyearlytargetpercent').val(0.00);
						$('#overallhalfyearlytargetpercentval').val(0.00);
						$('#overallhalfyearlyretailerpercent').val(0.00);
						$('#overallhalfyearlyretailerpercentval').val(0.00);
					}
					if(response.annuallydiscountstatus == 'Active')
					{
						$('.popupAnnuallyTable').show();
						$('#overallannuallycashamount').val(response.annualunitamount);
						$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
						$('#overallannuallycashpercent').val(response.annualcashpercent);
						$('#overallannuallycashpercentval').val(response.annualcashpercentval);
						$('#overallannuallytargetpercent').val(response.annualtargetpercent);
						$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
						$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
						$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					}
					else
					{
						$('.popupAnnuallyTable').hide();
						$('#overallannuallycashamount').val(0.00);
						$('#totaloverallannuallycashamount').val(0.00);
						$('#overallannuallycashpercent').val(0.00);
						$('#overallannuallycashpercentval').val(0.00);
						$('#overallannuallytargetpercent').val(0.00);
						$('#overallannuallytargetpercentval').val(0.00);
						$('#overallannuallyretailerpercent').val(0.00);
						$('#overallannuallyretailerpercentval').val(0.00);
					}
					$('.popoverButton').click();
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overallsamedaycashpercent').prop('readonly','true');
					$('#overallsamedaycashpercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
				}
				else
				{
					$('#dynamicDiscount').removeClass('hide');
					$('#staticDiscount').addClass('hide');
					if($('#staticDiscount').hasClass('hide') == true){
					$('.lineItemPopupModalFooter').html('<center><button class="btn btn-success popoverButton" type="button"><strong>'+app.vtranslate('JS_LBL_SAVE')+'</strong></button><a href="#" class="popoverCancel" type="reset">'+app.vtranslate('JS_LBL_CANCEL')+'</a></center>');
					}
				}

				}
				});
			});
			jQuery(document).on('blur','[name^="listPrice"]', function(e) {
				var id = $(this).attr('id');
				var itemno = id[id.length -1];
				var accountid = $('input[name="account_id"]').val();
				//var qty = $(this).val();
				var totalqty = 0;
				for(i=1;i<=itemno;i++)
				{
					var qty = $('#qty'+i).val();
					totalqty = parseInt(totalqty) + parseInt(qty);
				}
				var postingdate = $('input[name="cf_4627"]').val();
				var nettotalprice = $('#netTotal').text();
				var category = $('select[name="productcategory"]').val();
				var branch = $('[name="cf_nrl_plantmaster164_id"]').val();
				var discountallow = $('[name="cf_5197"]').val();
				var advdiscountallow = $('[name="cf_5209"]').val();
				if(branch == '')
				{
					alert("Please Select Branch First");
				}
				if(category == '')
				{
					alert("Please Select Category First");
				}
				if(postingdate == '')
				{
					alert("Please Select Posting Date First");
				}
				if(accountid == '')
				{
					alert("Please Select Customer First");
				}
				if(discountallow == '')
				{
					alert("Please Select Discount Allow or Not");
				}
				if(advdiscountallow == '')
				{
					alert("Please Select Cash Discount on Advance Payment Allow or Not");
				}
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {branch: branch, category: category, totalqty: totalqty, nettotalprice: nettotalprice, date: postingdate, accountid: accountid, discountallow: discountallow, advdiscountallow: advdiscountallow, action: 'checkTotalDiscount'},
				dataType: 'json',
				success:function(response)
				{
					if(response.discountapply == 'Yes')
					{
						$('#dynamicDiscount').addClass('hide');
						$('#staticDiscount').removeClass('hide');
						
					if(response.totalamount == null)
					{
						response.totalamount = nettotalprice;
					}
					if(response.totaldeductamount == null)
					{
						response.totaldeductamount = 0.00;
					}
					$('#preTaxTotal').text(response.totalamount);
					var taxtotal = $('#tax_final').text();
					var grandtotal = (parseFloat(response.totalamount) + parseFloat(taxtotal)).toFixed(2);
					$('#grandTotal').text(grandtotal);
					$('#overallDiscount').text("("+response.totaldeductamount+")");
					$('#discountTotal_final').text(response.totaldeductamount);
					if(response.advpercent != null || response.paypercent != null || response.paypercentcash !=null || response.pay7percent != null || response.pay15percent != null || response.pay30percent != null)
					{
						$('.popupPaymentTable').show();
						$('#overalladvancepercent').val(response.advpercent);
						$('#overalladvancepercentval').val(response.advpercentamount);
						$('#overallsamedaypercent').val(response.paypercent);
						$('#overallsamedaypercentval').val(response.paypercentamount);
						$('#samedayInvoiceId').val(response.involdsame);
						$('#overallsamedaycashpercent').val(response.paypercentcash);
						$('#overallsamedaycashpercentval').val(response.paypercentcashamount);
						$('#samedaycashInvoiceId').val(response.involdsamecash);
						$('#overall7dayspercent').val(response.pay7percent);
						$('#overall7dayspercentval').val(response.pay7percentamount);
						$('#within7daysInvoiceId').val(response.invold7);
						$('#overall15dayspercent').val(response.pay15percent);
						$('#overall15dayspercentval').val(response.pay15percentamount);
						$('#within15daysInvoiceId').val(response.invold15);
						$('#overall30dayspercent').val(response.pay30percent);
						$('#overall30dayspercentval').val(response.pay30percentamount);
						$('#within30daysInvoiceId').val(response.invold30);
					}
					else
					{
						$('.popupPaymentTable').hide();
						$('#overalladvancepercent').val(0.00);
						$('#overalladvancepercentval').val(0.00);
						$('#overallsamedaypercent').val(0.00);
						$('#overallsamedaypercentval').val(0.00);
						$('#samedayInvoiceId').val('');
						$('#overallsamedaycashpercent').val(0.00);
						$('#overallsamedaycashpercentval').val(0.00);
						$('#samedaycashInvoiceId').val('');
						$('#overall7dayspercent').val(0.00);
						$('#overall7dayspercentval').val(0.00);
						$('#within7daysInvoiceId').val('');
						$('#overall15dayspercent').val(0.00);
						$('#overall15dayspercentval').val(0.00);
						$('#within15daysInvoiceId').val('');
						$('#overall30dayspercent').val(0.00);
						$('#overall30dayspercentval').val(0.00);
						$('#within30daysInvoiceId').val('');
					}
					if(response.monthlydiscountstatus == 'Active')
					{
						$('.popupMonthlyTable').show();
						$('#overallmonthlycashamount').val(response.monthunitamount);
						$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
						$('#overallmonthlycashpercent').val(response.monthcashpercent);
						$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
						$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
						$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
						$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
						$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					}
					else
					{
						$('.popupMonthlyTable').hide();
						$('#overallmonthlycashamount').val(0.00);
						$('#totaloverallmonthlycashamount').val(0.00);
						$('#overallmonthlycashpercent').val(0.00);
						$('#overallmonthlycashpercentval').val(0.00);
						$('#overallmonthlytargetpercent').val(0.00);
						$('#overallmonthlytargetpercentval').val(0.00);
						$('#overallmonthlyretailerpercent').val(0.00);
						$('#overallmonthlyretailerpercentval').val(0.00);
					}
					if(response.quarterlydiscountstatus == 'Active')
					{
						$('.popupQuarterlyTable').show();
						$('#overallquarterlycashamount').val(response.quarterunitamount);
						$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
						$('#overallquarterlycashpercent').val(response.quartercashpercent);
						$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
						$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
						$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
						$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
						$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					}
					else
					{
						$('.popupQuarterlyTable').hide();
						$('#overallquarterlycashamount').val(0.00);
						$('#totaloverallquarterlycashamount').val(0.00);
						$('#overallquarterlycashpercent').val(0.00);
						$('#overallquarterlycashpercentval').val(0.00);
						$('#overallquarterlytargetpercent').val(0.00);
						$('#overallquarterlytargetpercentval').val(0.00);
						$('#overallquarterlyretailerpercent').val(0.00);
						$('#overallquarterlyretailerpercentval').val(0.00);
					}
					if(response.halfyearlydiscountstatus == 'Active')
					{
						$('.popupHalfYearlyTable').show();
						$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
						$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
						$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
						$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
						$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
						$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
						$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
						$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					}
					else
					{
						$('.popupHalfYearlyTable').hide();
						$('#overallhalfyearlycashamount').val(0.00);
						$('#totaloverallhalfyearlycashamount').val(0.00);
						$('#overallhalfyearlycashpercent').val(0.00);
						$('#overallhalfyearlycashpercentval').val(0.00);
						$('#overallhalfyearlytargetpercent').val(0.00);
						$('#overallhalfyearlytargetpercentval').val(0.00);
						$('#overallhalfyearlyretailerpercent').val(0.00);
						$('#overallhalfyearlyretailerpercentval').val(0.00);
					}
					if(response.annuallydiscountstatus == 'Active')
					{
						$('.popupAnnuallyTable').show();
						$('#overallannuallycashamount').val(response.annualunitamount);
						$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
						$('#overallannuallycashpercent').val(response.annualcashpercent);
						$('#overallannuallycashpercentval').val(response.annualcashpercentval);
						$('#overallannuallytargetpercent').val(response.annualtargetpercent);
						$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
						$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
						$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					}
					else
					{
						$('.popupAnnuallyTable').hide();
						$('#overallannuallycashamount').val(0.00);
						$('#totaloverallannuallycashamount').val(0.00);
						$('#overallannuallycashpercent').val(0.00);
						$('#overallannuallycashpercentval').val(0.00);
						$('#overallannuallytargetpercent').val(0.00);
						$('#overallannuallytargetpercentval').val(0.00);
						$('#overallannuallyretailerpercent').val(0.00);
						$('#overallannuallyretailerpercentval').val(0.00);
					}
					$('.popoverButton').click();
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overallsamedaycashpercent').prop('readonly','true');
					$('#overallsamedaycashpercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
				}
				else
				{
					$('#dynamicDiscount').removeClass('hide');
					$('#staticDiscount').addClass('hide');
					if($('#staticDiscount').hasClass('hide') == true){
					$('.lineItemPopupModalFooter').html('<center><button class="btn btn-success popoverButton" type="button"><strong>'+app.vtranslate('JS_LBL_SAVE')+'</strong></button><a href="#" class="popoverCancel" type="reset">'+app.vtranslate('JS_LBL_CANCEL')+'</a></center>');
					}
				}
				}
				});
			});
			jQuery(document).on('blur','[name^="qty"]', function(e) {
				var qtyval = $(this).val();
				var plantid = $('input[name="cf_nrl_plantmaster164_id"]').val();
				var trid = localStorage.getItem('selectedtrid');
				var trlen = trid.length;
				var dataselid = trid.substr('3',trlen);
				var productid = $("input[name='hdnProductId"+dataselid+"']").val();
				var reftype = $('[name="cf_3288"]').val();
				if(reftype == 'Direct Sales')
				{
					$.ajax(
					{
					type:"post",
					url: "shirshaAjax.php",
					data: {qtyval: qtyval, plantid: plantid, productid: productid, action: 'checkStock'},
					dataType: 'json',
					success:function(response)
					{
						if(response.message!="")
						{
							alert(response.message);
							$('#qty'+dataselid).val('');
							$('#qty'+dataselid).focus();
						}
					}
					});
				}
				var id = $(this).attr('id');
				var itemno = id[id.length -1];
				var accountid = $('input[name="account_id"]').val();
				//var qty = $(this).val();
				var totalqty = 0;
				for(i=1;i<=itemno;i++)
				{
					var qty = $('#qty'+i).val();
					totalqty = parseInt(totalqty) + parseInt(qty);
				}
				var postingdate = $('input[name="cf_4627"]').val();
				var nettotalprice = $('#netTotal').text();
				var category = $('select[name="productcategory"]').val();
				var branch = $('[name="cf_nrl_plantmaster164_id"]').val();
				var discountallow = $('[name="cf_5197"]').val();
				var advdiscountallow = $('[name="cf_5209"]').val();
				if(branch == '')
				{
					alert("Please Select Branch First");
				}
				if(category == '')
				{
					alert("Please Select Category First");
				}
				if(postingdate == '')
				{
					alert("Please Select Posting Date First");
				}
				if(accountid == '')
				{
					alert("Please Select Customer First");
				}
				if(discountallow == '')
				{
					alert("Please Select Discount Allow or Not");
				}
				if(advdiscountallow == '')
				{
					alert("Please Select Cash Discount on Advance Payment Allow or Not");
				}
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {branch: branch, category: category, totalqty: totalqty, nettotalprice: nettotalprice, date: postingdate, accountid: accountid, discountallow: discountallow, advdiscountallow: advdiscountallow, action: 'checkTotalDiscount'},
				dataType: 'json',
				success:function(response)
				{
					if(response.discountapply == 'Yes')
					{
						$('#dynamicDiscount').addClass('hide');
						$('#staticDiscount').removeClass('hide');
						
					if(response.totalamount == null)
					{
						response.totalamount = nettotalprice;
					}
					if(response.totaldeductamount == null)
					{
						response.totaldeductamount = 0.00;
					}
					$('#preTaxTotal').text(response.totalamount);
					var taxtotal = $('#tax_final').text();
					var grandtotal = (parseFloat(response.totalamount) + parseFloat(taxtotal)).toFixed(2);
					$('#grandTotal').text(grandtotal);
					$('#overallDiscount').text("("+response.totaldeductamount+")");
					$('#discountTotal_final').text(response.totaldeductamount);
					if(response.advpercent != null || response.paypercent != null || response.paypercentcash !=null || response.pay7percent != null || response.pay15percent != null || response.pay30percent != null)
					{
						$('.popupPaymentTable').show();
						$('#overalladvancepercent').val(response.advpercent);
						$('#overalladvancepercentval').val(response.advpercentamount);
						$('#overallsamedaypercent').val(response.paypercent);
						$('#overallsamedaypercentval').val(response.paypercentamount);
						$('#samedayInvoiceId').val(response.involdsame);
						$('#overallsamedaycashpercent').val(response.paypercentcash);
						$('#overallsamedaycashpercentval').val(response.paypercentcashamount);
						$('#samedaycashInvoiceId').val(response.involdsamecash);
						$('#overall7dayspercent').val(response.pay7percent);
						$('#overall7dayspercentval').val(response.pay7percentamount);
						$('#within7daysInvoiceId').val(response.invold7);
						$('#overall15dayspercent').val(response.pay15percent);
						$('#overall15dayspercentval').val(response.pay15percentamount);
						$('#within15daysInvoiceId').val(response.invold15);
						$('#overall30dayspercent').val(response.pay30percent);
						$('#overall30dayspercentval').val(response.pay30percentamount);
						$('#within30daysInvoiceId').val(response.invold30);
					}
					else
					{
						$('.popupPaymentTable').hide();
						$('#overalladvancepercent').val(0.00);
						$('#overalladvancepercentval').val(0.00);
						$('#overallsamedaypercent').val(0.00);
						$('#overallsamedaypercentval').val(0.00);
						$('#samedayInvoiceId').val('');
						$('#overallsamedaycashpercent').val(0.00);
						$('#overallsamedaycashpercentval').val(0.00);
						$('#samedaycashInvoiceId').val('');
						$('#overall7dayspercent').val(0.00);
						$('#overall7dayspercentval').val(0.00);
						$('#within7daysInvoiceId').val('');
						$('#overall15dayspercent').val(0.00);
						$('#overall15dayspercentval').val(0.00);
						$('#within15daysInvoiceId').val('');
						$('#overall30dayspercent').val(0.00);
						$('#overall30dayspercentval').val(0.00);
						$('#within30daysInvoiceId').val('');
					}
					if(response.monthlydiscountstatus == 'Active')
					{
						$('.popupMonthlyTable').show();
						$('#overallmonthlycashamount').val(response.monthunitamount);
						$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
						$('#overallmonthlycashpercent').val(response.monthcashpercent);
						$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
						$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
						$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
						$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
						$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					}
					else
					{
						$('.popupMonthlyTable').hide();
						$('#overallmonthlycashamount').val(0.00);
						$('#totaloverallmonthlycashamount').val(0.00);
						$('#overallmonthlycashpercent').val(0.00);
						$('#overallmonthlycashpercentval').val(0.00);
						$('#overallmonthlytargetpercent').val(0.00);
						$('#overallmonthlytargetpercentval').val(0.00);
						$('#overallmonthlyretailerpercent').val(0.00);
						$('#overallmonthlyretailerpercentval').val(0.00);
					}
					if(response.quarterlydiscountstatus == 'Active')
					{
						$('.popupQuarterlyTable').show();
						$('#overallquarterlycashamount').val(response.quarterunitamount);
						$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
						$('#overallquarterlycashpercent').val(response.quartercashpercent);
						$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
						$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
						$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
						$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
						$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					}
					else
					{
						$('.popupQuarterlyTable').hide();
						$('#overallquarterlycashamount').val(0.00);
						$('#totaloverallquarterlycashamount').val(0.00);
						$('#overallquarterlycashpercent').val(0.00);
						$('#overallquarterlycashpercentval').val(0.00);
						$('#overallquarterlytargetpercent').val(0.00);
						$('#overallquarterlytargetpercentval').val(0.00);
						$('#overallquarterlyretailerpercent').val(0.00);
						$('#overallquarterlyretailerpercentval').val(0.00);
					}
					if(response.halfyearlydiscountstatus == 'Active')
					{
						$('.popupHalfYearlyTable').show();
						$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
						$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
						$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
						$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
						$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
						$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
						$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
						$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					}
					else
					{
						$('.popupHalfYearlyTable').hide();
						$('#overallhalfyearlycashamount').val(0.00);
						$('#totaloverallhalfyearlycashamount').val(0.00);
						$('#overallhalfyearlycashpercent').val(0.00);
						$('#overallhalfyearlycashpercentval').val(0.00);
						$('#overallhalfyearlytargetpercent').val(0.00);
						$('#overallhalfyearlytargetpercentval').val(0.00);
						$('#overallhalfyearlyretailerpercent').val(0.00);
						$('#overallhalfyearlyretailerpercentval').val(0.00);
					}
					if(response.annuallydiscountstatus == 'Active')
					{
						$('.popupAnnuallyTable').show();
						$('#overallannuallycashamount').val(response.annualunitamount);
						$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
						$('#overallannuallycashpercent').val(response.annualcashpercent);
						$('#overallannuallycashpercentval').val(response.annualcashpercentval);
						$('#overallannuallytargetpercent').val(response.annualtargetpercent);
						$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
						$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
						$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					}
					else
					{
						$('.popupAnnuallyTable').hide();
						$('#overallannuallycashamount').val(0.00);
						$('#totaloverallannuallycashamount').val(0.00);
						$('#overallannuallycashpercent').val(0.00);
						$('#overallannuallycashpercentval').val(0.00);
						$('#overallannuallytargetpercent').val(0.00);
						$('#overallannuallytargetpercentval').val(0.00);
						$('#overallannuallyretailerpercent').val(0.00);
						$('#overallannuallyretailerpercentval').val(0.00);
					}
					$('.popoverButton').click();
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overallsamedaycashpercent').prop('readonly','true');
					$('#overallsamedaycashpercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
				}
				else
				{
					$('#dynamicDiscount').removeClass('hide');
					$('#staticDiscount').addClass('hide');
					if($('#staticDiscount').hasClass('hide') == true){
					$('.lineItemPopupModalFooter').html('<center><button class="btn btn-success popoverButton" type="button"><strong>'+app.vtranslate('JS_LBL_SAVE')+'</strong></button><a href="#" class="popoverCancel" type="reset">'+app.vtranslate('JS_LBL_CANCEL')+'</a></center>');
					}
				}
				}
				});
		});
		}
		else
		{
			$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {recordid: recordid, action: 'getInvoiceDiscountValues'},
				dataType: 'json',
				success:function(response)
				{
					$('#overallmonthlycashamount').val(response.monthunitamount);
					$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
					$('#overallmonthlycashpercent').val(response.monthcashpercent);
					$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
					$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
					$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
					$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
					$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					$('#overallquarterlycashamount').val(response.quarterunitamount);
					$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
					$('#overallquarterlycashpercent').val(response.quartercashpercent);
					$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
					$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
					$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
					$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
					$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
					$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
					$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
					$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
					$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
					$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
					$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
					$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					$('#overallannuallycashamount').val(response.annualunitamount);
					$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
					$('#overallannuallycashpercent').val(response.annualcashpercent);
					$('#overallannuallycashpercentval').val(response.annualcashpercentval);
					$('#overallannuallytargetpercent').val(response.annualtargetpercent);
					$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
					$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
					$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					$('#overalladvancepercent').val(response.advpercent);
					$('#overalladvancepercentval').val(response.advpercentamount);
					$('#overallsamedaypercent').val(response.paypercent);
					$('#overallsamedaypercentval').val(response.paypercentamount);
					$('#overallsamedaycashpercent').val(response.paycashpercent);
					$('#overallsamedaycashpercentval').val(response.paycashpercentamount);
					$('#overall7dayspercent').val(response.pay7percent);
					$('#overall7dayspercentval').val(response.pay7percentamount);
					$('#overall15dayspercent').val(response.pay15percent);
					$('#overall15dayspercentval').val(response.pay15percentamount);
					$('#overall30dayspercent').val(response.pay30percent);
					$('#overall30dayspercentval').val(response.pay30percentamount);
					$('#schemediscount').val(response.schemediscount);
					//$('.popoverButton').css('display','none');
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
				}
				});
		}
		
		
		

			jQuery(document).on('change','[name="productcategory"]', function(e) {
			var type = $('[name="cf_3288"]').val();
			var pono = $('[name="arocrm_purchaseorder"]').val();
			var idtype = $(this).val();
			if(type=='ST Invoice'){
			$.ajax(
			{
			type:"post",
			url: "arocrmAjax.php",
			data: {pono: pono, idtype: idtype, action: 'getInvoiceLineitemfromSTPO'},
			dataType: 'json',
			success:function(response)
			{
			if(response.message!="")
			{
			$('table#lineItemTab > tbody').html(response.message);
			$('#addProduct').prop("disabled",true);
			$('#addService').prop("disabled",true);
			$('.dropdown-toggle').prop("disabled",true);
			$('[name="taxtype"]').select2().select2('readonly',true);
			$('#netTotal').html(response.totalamount);
			$('#preTaxTotal').html(response.totalamount);
			$('#pre_tax_total').val(response.totalamount);
			$('#grandTotal').html(response.totalamount.toFixed(2));
			$('#balance').val(response.totalamount);
			}
			}
			});			
		}
		});
		
		
		
		jQuery(document).on('change','[name="cf_3288"]', function(e) {
		var type = $(this).val();
		if(type == 'Purchase Invoice')
		{
			jQuery(document).on('change','[name="advpay[]"]', function(e) {
			var payment = $('.optselect option:selected').toArray().map(item => item.text).join();
			var payval = payment.toString();
			var pay = payval.split(",");
			var len = pay.length;
			var apps = $('#ap').val();
			if(apps == "" || apps == undefined)
			{
				apps = 0;
			}
			var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			//var debitinv = $('#debit').val();
			var creditinv = $('#credit').val();
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval));
			}
			var grandtotal = $("#grandTotal").text();
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			var venadvpay = new Array();
			var j = 0;
			var total = 0;
			var sumtotal = 0;
			for(var i=0;i<len;i++)
			{
				var venpay = pay[i].split(' - ');
				if(venpay[1] != undefined)
				{
					total = parseFloat(adv) + parseFloat(venpay[1]);
					sumtotal = parseFloat(sumtotal) + parseFloat(venpay[1]);
				}
			}
			if((parseFloat(grandtotal) > parseFloat(venpay[1])) || (parseFloat(postgrand) > parseFloat(total)))
			{
				venadvpay[j] = venpay[1];
				j++;
			}
			else
			{
				$('#adv').text("You cannot set advance payment here, because grandtotal value less than advancepayment");
			}
								
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			if(parseFloat(sumtotal)<parseFloat(adv))
			{
						venadvpay[j] = venpay[1];
						j++;
						$('#adv').text("");
			}
			//var soadv = parseFloat(sumtotal) + parseFloat(apps);
			for(var i=0;i<len;i++)
			{
				var venpay = pay[i].split(' - ');
				if(venpay[1] != undefined)
				{
					total = parseFloat(adv) + parseFloat(venpay[1]);
					sumtotal = parseFloat(sumtotal) + parseFloat(venpay[1]);
				}
			}
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			if(parseFloat(sumtotal)<= parseFloat(adv))
			{
						$('#adv').text("");
			}
			if((parseFloat(sumtotal) > parseFloat(venpay[1])) || (parseFloat(postgrand) > parseFloat(total)))
					{
						grandtotal = parseFloat(postgrand) - parseFloat(sumtotal);	
						$('#advancePayment').val(parseFloat(sumtotal) + parseFloat(apps));
						$('#advPayment').val(parseFloat(sumtotal) + parseFloat(apps));
						j++;
					}
					else
					{
						$('#adv').text("You cannot set advance payment here, because grandtotal value less than advancepayment");
					}
			$("#grandTotal").text(grandtotal.toFixed(2));
		});
			/*jQuery(document).on('change','[name="advdebitpay[]"]', function(e) {
				var payment = $('.optdebitselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var pretax = $('#preTaxTotal').text();
				var tax = $('#tax_final').text();
				var taxcharge = $('#chargeTaxTotal').text();
				var deducttax = $('#deductTaxesTotalAmount').text();
				var adjusticon = $("input[name='adjustmentType']:checked").val();
				var adjustval = $('#adjustment').val();
				var schemediscount = $('#schemediscount').val();
				var advanceval = $('#advancePayment').val();
				var creditinv = $('#credit').val();
				if(adjusticon == '+')
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advanceval));
				}
				else
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advanceval));
				}	
				var grandtotal = $("#grandTotal").text();
				var deb = $('#deb').val();
				if(deb == "" || deb == undefined)
				{
					deb = 0;
				}		
				var vendebpay = new Array();
				var j = 0;
				var total = 0;
				var sum = $('#dn').val();
				if(sum == "" || sum == undefined)
				{
					sum = 0;
				}
				var sumtotal = 0;
				for(var i=0;i<len;i++)
				{
					var debitarr = pay[i].split(' - ');
					if(debitarr[1] != undefined)
					{
						total = parseFloat(deb) + parseFloat(debitarr[1]);
						sumtotal = parseFloat(sumtotal) + parseFloat(debitarr[1]);
						if((parseFloat(grandtotal) > parseFloat(debitarr[1])) || (parseFloat(postgrand) > parseFloat(total)))
						{
							vendebpay[j] = debitarr[1];
							j++;
						}
						else
						{
							$('#dnote').text("You cannot set this debit note here, because grandtotal value less than Debit amount");
						}
					}
				}
				var deb = $('#deb').val();
				if(deb == "" || deb == undefined)
				{
					deb = 0;
				}
				if(parseFloat(sumtotal)<parseFloat(deb))
				{
							vendebpay[j] = debitarr[1];
							j++;
							$('#dnote').text("");
				}
				grandtotal = parseFloat(postgrand) - parseFloat(sumtotal);	
				$('#debit').val(parseFloat(sumtotal) + parseFloat(sum));
				$('#deb').val(parseFloat(sumtotal) + parseFloat(sum));
				$("#grandTotal").text(grandtotal.toFixed(2));
			});*/
			jQuery(document).on('change','[name="advcreditpay[]"]', function(e) {
				var payment = $('.optcreditselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var pretax = $('#preTaxTotal').text();
				var tax = $('#tax_final').text();
				var taxcharge = $('#chargeTaxTotal').text();
				var deducttax = $('#deductTaxesTotalAmount').text();
				var adjusticon = $("input[name='adjustmentType']:checked").val();
				var adjustval = $('#adjustment').val();
				var schemediscount = $('#schemediscount').val();
				var advanceval = $('#advancePayment').val();
				//var debitinv = $('#debit').val();
				if(adjusticon == '+')
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advanceval));
				}
				else
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advanceval));
				}
				var grandtotal = $("#grandTotal").text();
				var vencrepay = new Array();
				var sum = $('#cn').val();
				if(sum == "" || sum == undefined)
				{
					sum = 0;
				}
				var j = 0;
				for(var i=0;i<len;i++)
				{
					var creditarr = pay[i].split(' - ');
					if(creditarr[1] != undefined)
					{
						vencrepay[j] = creditarr[1];
						j++;
					}
					/*else
					{
						var cre = $('#cre').val();
						if(cre == "" || cre == undefined)
						{
							cre = 0;
						}
						var credit = $('#credit').val(); 
						if(credit == "" || credit == undefined)
						{
							credit = 0;
						}
						var total = parseFloat(grandtotal) - parseFloat(cre);
						$("#grandTotal").text(total);
						credit = parseFloat(credit) - parseFloat(cre);
						$('#credit').val(credit);
					}*/
				}
				/*var cre = $('#cre').val();
				if(cre == "" || cre == undefined)
				{
					cre = 0;
				}		
				var credit = $('#credit').val(); 
				if(credit == "" || credit == undefined)
				{
					credit = 0;
				}
				grandtotal = parseFloat(grandtotal) - parseFloat(credit);*/
				grandtotal = parseFloat(postgrand) + parseFloat(sumtotal);	
				$('#credit').val(parseFloat(sumtotal) + parseFloat(sum));
				$('#cre').val(parseFloat(sumtotal) + parseFloat(sum));
				$("#grandTotal").text(grandtotal.toFixed(2));
			});
		}
		if(type == 'Sales Invoice' || type == 'Direct Sales')
		{
jQuery(document).on('change','[name="advpay[]"]', function(e) {
			var payment = $('.optselect option:selected').toArray().map(item => item.text).join();
			var payval = payment.toString();
			var pay = payval.split(",");
			var len = pay.length;
			var ap = $('[name="ap"]').val();
			var cn = $('[name="cn"]').val();
			if(ap == "" || ap == undefined)
			{
				ap = 0;
			}
			if(cn == "" || cn == undefined)
			{
				cn = 0;
			}
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			var venadvpay = new Array();
			var j = 0;
			var total = 0;
			var sumtotal = 0;
			for(var i=0;i<len;i++)
			{
				var venpay = pay[i].split(' - ');
				if(venpay[1] != undefined)
				{
					total = parseFloat(adv) + parseFloat(venpay[1]);
					sumtotal = parseFloat(sumtotal) + parseFloat(venpay[1]);
					
				}
			}
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			 sumtotal = parseFloat(ap) + parseFloat(sumtotal);
			$('#advancePayment').val(sumtotal);
			$('#advPayment').val(sumtotal);
			var creditinv = $('#credit').val();
			if(creditinv == "" || creditinv == undefined)
			{
				creditinv = 0;
			}
			creditinv = parseFloat(cn) + parseFloat(creditinv);
			var totalreceive = parseFloat(sumtotal) + parseFloat(creditinv);
			$("#received_amount").val(totalreceive.toFixed(2));	
			var grandtotal = $('#grandTotal').text();
			var actualbalance = parseFloat(grandtotal) - parseFloat(totalreceive);
			$("#received_amount").val(totalreceive.toFixed(2));
			$("#actual_balance").val(actualbalance.toFixed(2));
			$('#balance').val(actualbalance.toFixed(2));
			if(parseFloat(actualbalance) < 0)
			{
				$('#balance').val('0.00');
			}
		});
		
		
		
		
		
		jQuery(document).ready(function(e){
            setInterval(function(){
		    var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			var advancepayment = $('#advancePayment').val();
			if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}
			/*var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}*/
			var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}
			var ref = $('[name="cf_3288"]').val();
			if(ref=='Direct Sales' || ref=='Sales Invoice' || ref=='ST Invoice'){
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advancepayment) + parseFloat(creditinv));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advancepayment) + parseFloat(creditinv));
			}
			}else{
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advancepayment));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advancepayment));
			}	
				
			}
			
			
			$('#balance').val(postgrand.toFixed(2));
			$('#actual_balance').val(postgrand.toFixed(2));
			if(postgrand.toFixed(2) < 0){
			$('#balance').val('0.00');
			}
		},300);
		});
		
		
			/*jQuery(document).on('change','[name="advdebitpay[]"]', function(e) {
	var payment = $('.optdebitselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			var advanceval = $('#advancePayment').val();
			var creditinv = $('#credit').val();
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advanceval) + parseFloat(creditinv));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advanceval) + parseFloat(creditinv));
			}
			
				var posttax = parseFloat(pretax) + parseFloat(tax);
				var grandtotal = $("#grandTotal").text();
				var vendebpay = new Array();
				var sum = $('#dn').val();
				if(sum == "" || sum == undefined)
				{
					sum = 0;
				}
				var sumtotal = 0;
				var j = 0;
				for(var i=0;i<len;i++)
				{
					var debitarr = pay[i].split(' - ');
					if(debitarr[1] != undefined)
					{
						vendebpay[j] = debitarr[1];
						j++;
					}
					/*else
					{
						var deb = $('#deb').val();
						if(deb == "" || deb == undefined)
						{
							deb = 0;
						}
						var debit = $('#debit').val(); 
						if(debit == "" || debit == undefined)
						{
							debit = 0;
						}
						var total = parseFloat(grandtotal) - parseFloat(deb);
						$("#grandTotal").text(total);
						debit = parseFloat(debit) - parseFloat(deb);
						$('#debit').val(debit);
						$('#dnote').text("");
					}*/
				//}
				/*var deb = $('#deb').val();
				if(deb == "" || deb == undefined)
				{
					deb = 0;
				}
				var debit = $('#debit').val(); 
				if(debit == "" || debit == undefined)
				{
					debit = 0;
				}
				grandtotal = parseFloat(grandtotal) - parseFloat(debit);*/
				/*grandtotal = parseFloat(postgrand) + parseFloat(sumtotal);	
				$('#debit').val(parseFloat(sumtotal) + parseFloat(sum));
				$('#deb').val(parseFloat(sumtotal) + parseFloat(sum));
				$("#grandTotal").text(grandtotal.toFixed(2));			
			});*/
			jQuery(document).on('change','[name="advcreditpay[]"]', function(e) {
				var payment = $('.optcreditselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var ap = $('[name="ap"]').val();
				var cn = $('[name="cn"]').val();
				if(ap == "" || ap == undefined)
				{
					ap = 0;
				}
				if(cn == "" || cn == undefined)
				{
					cn = 0;
				}
				var cre = $('#cre').val();
				if(cre == "" || cre == undefined)
				{
					cre = 0;
				}		
				var vencrepay = new Array();
				var j = 0;
				var total = 0;
				var sumtotal = 0;
				
				for(var i=0;i<len;i++)
				{
					var creditarr = pay[i].split(' - ');
					if(creditarr[1] != undefined)
					{
						total = parseFloat(cre) + parseFloat(creditarr[1]);
						sumtotal = parseFloat(sumtotal) + parseFloat(creditarr[1]);
					}
				}
				var cre = $('#cre').val();
				if(cre == "" || cre == undefined)
				{
					cre = 0;
				}
			
			sumtotal = parseFloat(cn) + parseFloat(sumtotal);
			$('#credit').val(sumtotal);
			$('#cre').val(sumtotal);
			var advance = $('#advancePayment').val();
			if(advance == "" || advance == undefined)
			{
				advance = 0;
			}
			advance = parseFloat(ap) + parseFloat(advance);
				var totalreceive = parseFloat(sumtotal) + parseFloat(advance);
				$("#received_amount").val(totalreceive.toFixed(2));
				var grandtotal = $('#grandTotal').text();
				var actualbalance = parseFloat(grandtotal) - parseFloat(totalreceive);
				$("#received_amount").val(totalreceive.toFixed(2));
				$("#actual_balance").val(actualbalance.toFixed(2));
				$('#balance').val(actualbalance.toFixed(2));
				if(parseFloat(actualbalance) < 0)
				{
					$('#balance').val('0.00');
				}
		});
		}
		});
		jQuery(document).on('change','[name^=cf_4623]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4625"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster164_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4627"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4627"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4627"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4627"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4625]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4623"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster164_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4627"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4627"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4627"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4627"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	}
	if(sourceModule=="RFQMaintain" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4623"]').select2().select2('readonly',true);
			$('[name="cf_4625"]').select2().select2('readonly',true);
			$('[name="cf_4800"]').datepicker("remove");
			$('[name="cf_4800"]').attr("readonly",true);
		}
	if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4625"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4623"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4800"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster353_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster353_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster353_id_display"]').attr('readonly',true);
							$('#RFQMaintain_editView_fieldName_cf_nrl_plantmaster353_id_select').parent().remove();
							$('#RFQMaintain_editView_fieldName_cf_nrl_plantmaster353_id_create').parent().remove();
							var yr = $('select[name="cf_4623"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4625"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4800"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4800"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4800"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4800"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
	

		jQuery(document).ready(function(e) {
			$('[name="cf_4811"]').select2().select2('readonly',true);
		});
		
		jQuery(document).on('change','[name^=cf_4623]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4625"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster353_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4800"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4800"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4800"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4800"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4625]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4623"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster353_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4800"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4800"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4800"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4800"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	}
	if(sourceModule=="SalesOrder" && view=='Edit' && duplicate=='true')
	{
		$('#preTaxTotal').text('0.00');
		$('#grandTotal').text('0.00');
		var nettotal = $('#netTotal').text();
		$('#discountTotal_final').text(nettotal);
		$('#overallDiscount').text('(100%)');
		$('.groupTaxTotal').val('0.00');
		$('#tax_final').text('0.00');
	}
	if(sourceModule=="SalesOrder" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4618"]').select2().select2('readonly',true);
			$('[name="cf_4620"]').select2().select2('readonly',true);
			$('[name="cf_4306"]').datepicker("remove");
			$('[name="cf_4306"]').attr("readonly",true);
		}
		jQuery('[name="cf_5199"]').select2().select2('readonly','true');
		jQuery('[name="cf_5201"]').select2().select2('readonly',true);
	if(recordid == "" || recordid == undefined)
	{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4620"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4618"]').select2('data', { id: year, text: year});
	
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4306"]').val(postingdate);
	}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster580_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster580_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster580_id_display"]').attr('readonly',true);
							$('#SalesOrder_editView_fieldName_cf_nrl_plantmaster580_id_select').parent().remove();
							$('#SalesOrder_editView_fieldName_cf_nrl_plantmaster580_id_create').parent().remove();
							var yr = $('select[name="cf_4618"]').val();
	var month = $('select[name="cf_4620"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4306"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4306"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4306"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4306"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});	
						}
					}
					});
		
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		jQuery(document).on('change','[name="cf_3286"]', function(e) {
			var reference = $(this).val();
			if(reference == 'Against Warranty')
			{
				$('[name="cf_5207"]').select2('data', { id: 'No', text: 'No'});
				$('[name="cf_5207"]').select2().select2('readonly',true);
				$('[name^="listPrice"]').attr('readonly',true);
				$('.popupMonthlyTable').hide();
				$('.popupQuarterlyTable').hide();
				$('.popupHalfYearlyTable').hide();
				$('.popupAnnuallyTable').hide();
				$('.popupPaymentTable').hide();
			}
			else
			{
				$('[name="cf_5207"]').select2().select2('readonly',false);
				$('.popupMonthlyTable').show();
				$('.popupQuarterlyTable').show();
				$('.popupHalfYearlyTable').show();
				$('.popupAnnuallyTable').show();
				$('.popupPaymentTable').show();
			}
		});
		jQuery('[name="sostatus"]').select2().select2('readonly','true');
		jQuery('#addService').css('display','none');
		if(recordid !="" && recordid != undefined)
		{
			$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {recordid: recordid, action: 'salesPaymentDetails'},
				    dataType: 'json',
                    success:function(response)
                    {
						$('#advancePayment').val(response.advanceval);
						$('#debit').val(response.debitval);
						$('#credit').val(response.creditval);
						$('#advancePayment').attr('readonly','true');
						$('#debit').attr('readonly','true');
						$('#credit').attr('readonly','true');
						var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			/*var advancepayment = $('#advancePayment').val();
			if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}
			var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}
			var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}*/
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval));
			}
			
			$('#grandTotal').text(postgrand.toFixed(2));
					}
					});
		}
		jQuery(document).ready(function(e){
            setInterval(function(){
		    var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			var advancepayment = $('#advancePayment').val();
			if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}
			/*var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}*/
			var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advancepayment) + parseFloat(creditinv));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advancepayment) + parseFloat(creditinv));
			}
			
			$('#balance').val(postgrand.toFixed(2));
			$('#actual_balance').val(postgrand.toFixed(2));
			if(postgrand.toFixed(2) < 0){
			$('#balance').val('0.00');
			}
		},300);
		});
		
		
		jQuery(document).on('blur','#adjustment', function(e) {
			var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			/*var advancepayment = $('#advancePayment').val();
			if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}
			var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}
			var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}*/
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval));
			}
			$('#grandTotal').text(postgrand.toFixed(2));
		});
	
				
		jQuery(document).on('change','[name^=cf_4618]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4620"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster580_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4306"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4306"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4306"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4306"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4620]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4618"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster580_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}

									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4306"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4306"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4306"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4306"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('blur','[name="schemediscount"]', function(e) {
			var sdis = $(this).val();
			var custid = $('[name="account_id"]').val();
					$.ajax(
					{
					type:"post",
					url: "shirshaAjax.php",
					data: {custid: custid, action: 'getcustDetails'},
					dataType: 'json',
					success:function(response)
					{
						var custpoint = response.custpoint;
						if(custpoint == "" || custpoint == undefined || custpoint == null)
						{
							custpoint = 0;
						}
						var disberse = response.amount;
						if(disberse == "" || disberse == undefined || disberse == null)
						{
							disberse = 0;
						}
						if(custpoint == '0' && disberse == '0')
						{
								$('#schemediscount').attr('max',0);
						}
						else
						{
							var trid = localStorage.getItem('selectedtrid');
							var trlen = trid.length;
							var dataselid = trid.substr('3',trlen);
							var allpoint = 0;
							var productid = new Array();
							var quantity = new Array();
							for(var i = 1;i<=dataselid;i++)
							{
								productid[i-1] = $("input[name='hdnProductId"+i+"']").val();
								quantity[i-1] = $("input[name='qty"+i+"']").val();
							}
							$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {productid: productid, quantity:quantity, action: 'getProductPoints'},
								dataType: 'json',
								success:function(response)
								{
									var allpoint = response.point;
									allpoint = parseFloat(allpoint) + parseFloat(custpoint);
									if(parseInt(allpoint) >= parseInt(200) && parseInt(allpoint) < parseInt(300))
									{
										var incentive = 1000;
									}
									else if(parseInt(allpoint) >= parseInt(300) && parseInt(allpoint) < parseInt(600))
									{
										var incentive = 2000;
									}
									else if(parseInt(allpoint) >= parseInt(600) && parseInt(allpoint) < parseInt(1200))
									{
										var incentive = 4500;
									}
									else if(parseInt(allpoint) >= parseInt(1200) && parseInt(allpoint) < parseInt(3000))
									{
										var incentive = 10000;
									}
									else if(parseInt(allpoint) >= parseInt(3000) && parseInt(allpoint) < parseInt(6000))
									{
										var incentive = 27000;
									}
									else if(parseInt(allpoint) >= parseInt(6000) && parseInt(allpoint) < parseInt(9000))
									{
										var incentive = 60000;
									}
									else if(parseInt(allpoint) >= parseInt(9000) && parseInt(allpoint) < parseInt(30000))
									{
										var incentive = 200000;
									}
									else if(parseInt(allpoint) >= parseInt(30000))
									{
										var incentive = 350000;
									}
									else
									{
										var incentive = 0;
									}
									var discount = parseFloat(incentive) - parseFloat(disberse);
									if(parseFloat(sdis)>parseFloat(discount))
									{
										$('#schemediscount').attr('max',discount);
									}	
									else
									{
										var pretaxtotal = $('#preTaxTotal').text();
										var taxtotal = $('#tax_final').text();
										var total = parseFloat(pretaxtotal) + parseFloat(taxtotal);
										var schemediscount = $('#schemediscount').val();
										if(schemediscount == '')
										{
											schemediscount = 0;
										}
										var grandtotal = parseFloat(total) - parseFloat(schemediscount);
										$('#grandTotal').text(grandtotal.toFixed(2));
									}
								}							
							});
						}
					}
				});
		});
		
		jQuery(document).on('click','button.confirm-box-ok', function() {
				alert("hi");
				
		});
			jQuery(document).on('click','button.confirm-box-ok', function() {
				var tablelen = $('table#lineItemTab > tbody > tr').length - 2;
				var accountid = $('input[name="account_id"]').val();
				var itemno = tablelen;
				var totalqty = 0;
				for(i=1;i<=itemno;i++)
				{
					var qty = $('#qty'+i).val();
					totalqty = parseInt(totalqty) + parseInt(qty);
				}
				var postingdate = $('input[name="cf_4306"]').val();
				var nettotalprice = $('#netTotal').text();
				var category = $('select[name="productcategory"]').val();
				var branch = $('[name="cf_nrl_plantmaster580_id"]').val();
				var discountallow = $('[name="cf_5195"]').val();
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {branch: branch, category: category, totalqty: totalqty, nettotalprice: nettotalprice, date: postingdate, accountid: accountid, discountallow: discountallow, action: 'checkTotalDiscount'},
				dataType: 'json',
				success:function(response)
				{
					if(response.totalamount == null)
					{
						response.totalamount = nettotalprice;
					}
					if(response.totaldeductamount == null)
					{
						response.totaldeductamount = 0.00;
					}
					$('#preTaxTotal').text(response.totalamount);
					var taxtotal = $('#tax_final').text();
					var grandtotal = parseFloat(response.totalamount) + parseFloat(taxtotal);
					$('#grandTotal').text(grandtotal.toFixed(2));
					$('#overallDiscount').text("("+response.totaldeductamount+")");
					$('#discountTotal_final').text(response.totaldeductamount);
					if(response.advpercent != null || response.paypercent != null || response.paypercentcash !=null || response.pay7percent != null || response.pay15percent != null || response.pay30percent != null)
					{
						$('.popupPaymentTable').show();
						$('#overalladvancepercent').val(response.advpercent);
						$('#overalladvancepercentval').val(response.advpercentamount);
						$('#overallsamedaypercent').val(response.paypercent);
						$('#overallsamedaypercentval').val(response.paypercentamount);
						$('#samedayInvoiceId').val(response.involdsame);
						$('#overallsamedaycashpercent').val(response.paypercentcash);
						$('#overallsamedaycashpercentval').val(response.paypercentcashamount);
						$('#samedaycashInvoiceId').val(response.involdsamecash);
						$('#overall7dayspercent').val(response.pay7percent);
						$('#overall7dayspercentval').val(response.pay7percentamount);
						$('#within7daysInvoiceId').val(response.invold7);
						$('#overall15dayspercent').val(response.pay15percent);
						$('#overall15dayspercentval').val(response.pay15percentamount);
						$('#within15daysInvoiceId').val(response.invold15);
						$('#overall30dayspercent').val(response.pay30percent);
						$('#overall30dayspercentval').val(response.pay30percentamount);
						$('#within30daysInvoiceId').val(response.invold30);
					}
					else
					{
						$('.popupPaymentTable').hide();
						$('#overalladvancepercent').val(0.00);
						$('#overalladvancepercentval').val(0.00);
						$('#overallsamedaypercent').val(0.00);
						$('#overallsamedaypercentval').val(0.00);
						$('#samedayInvoiceId').val('');
						$('#overallsamedaycashpercent').val(0.00);
						$('#overallsamedaycashpercentval').val(0.00);
						$('#samedaycashInvoiceId').val('');
						$('#overall7dayspercent').val(0.00);
						$('#overall7dayspercentval').val(0.00);
						$('#within7daysInvoiceId').val('');
						$('#overall15dayspercent').val(0.00);
						$('#overall15dayspercentval').val(0.00);
						$('#within15daysInvoiceId').val('');
						$('#overall30dayspercent').val(0.00);
						$('#overall30dayspercentval').val(0.00);
						$('#within30daysInvoiceId').val('');
					}
					if(response.monthlydiscountstatus == 'Active')
					{
						$('.popupMonthlyTable').show();
						$('#overallmonthlycashamount').val(response.monthunitamount);
						$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
						$('#overallmonthlycashpercent').val(response.monthcashpercent);
						$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
						$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
						$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
						$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
						$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					}
					else
					{
						$('.popupMonthlyTable').hide();
						$('#overallmonthlycashamount').val(0.00);
						$('#totaloverallmonthlycashamount').val(0.00);
						$('#overallmonthlycashpercent').val(0.00);
						$('#overallmonthlycashpercentval').val(0.00);
						$('#overallmonthlytargetpercent').val(0.00);
						$('#overallmonthlytargetpercentval').val(0.00);
						$('#overallmonthlyretailerpercent').val(0.00);
						$('#overallmonthlyretailerpercentval').val(0.00);
					}
					if(response.quarterlydiscountstatus == 'Active')
					{
						$('.popupQuarterlyTable').show();
						$('#overallquarterlycashamount').val(response.quarterunitamount);
						$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
						$('#overallquarterlycashpercent').val(response.quartercashpercent);
						$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
						$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
						$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
						$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
						$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					}
					else
					{
						$('.popupQuarterlyTable').hide();
						$('#overallquarterlycashamount').val(0.00);
						$('#totaloverallquarterlycashamount').val(0.00);
						$('#overallquarterlycashpercent').val(0.00);
						$('#overallquarterlycashpercentval').val(0.00);
						$('#overallquarterlytargetpercent').val(0.00);
						$('#overallquarterlytargetpercentval').val(0.00);
						$('#overallquarterlyretailerpercent').val(0.00);
						$('#overallquarterlyretailerpercentval').val(0.00);
					}
					if(response.halfyearlydiscountstatus == 'Active')
					{
						$('.popupHalfYearlyTable').show();
						$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
						$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
						$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
						$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
						$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
						$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
						$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
						$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					}
					else
					{
						$('.popupHalfYearlyTable').hide();
						$('#overallhalfyearlycashamount').val(0.00);
						$('#totaloverallhalfyearlycashamount').val(0.00);
						$('#overallhalfyearlycashpercent').val(0.00);
						$('#overallhalfyearlycashpercentval').val(0.00);
						$('#overallhalfyearlytargetpercent').val(0.00);
						$('#overallhalfyearlytargetpercentval').val(0.00);
						$('#overallhalfyearlyretailerpercent').val(0.00);
						$('#overallhalfyearlyretailerpercentval').val(0.00);
					}
					if(response.annuallydiscountstatus == 'Active')
					{
						$('.popupAnnuallyTable').show();
						$('#overallannuallycashamount').val(response.annualunitamount);
						$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
						$('#overallannuallycashpercent').val(response.annualcashpercent);
						$('#overallannuallycashpercentval').val(response.annualcashpercentval);
						$('#overallannuallytargetpercent').val(response.annualtargetpercent);
						$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
						$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
						$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					}
					else
					{
						$('.popupAnnuallyTable').hide();
						$('#overallannuallycashamount').val(0.00);
						$('#totaloverallannuallycashamount').val(0.00);
						$('#overallannuallycashpercent').val(0.00);
						$('#overallannuallycashpercentval').val(0.00);
						$('#overallannuallytargetpercent').val(0.00);
						$('#overallannuallytargetpercentval').val(0.00);
						$('#overallannuallyretailerpercent').val(0.00);
						$('#overallannuallyretailerpercentval').val(0.00);
					}
					$('.popoverButton').click();
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');

				}
				});
			});
			jQuery(document).on('change','[name="cf_5207"]', function(e) {
				jQuery('.saveButton').removeAttr("disabled");
				var tablelen = $('table#lineItemTab > tbody > tr').length - 2;
				var accountid = $('input[name="account_id"]').val();
				var itemno = tablelen;
				var totalqty = 0;
				for(i=1;i<=itemno;i++)
				{
					var qty = $('#qty'+i).val();
					totalqty = parseInt(totalqty) + parseInt(qty);
				}
				var postingdate = $('input[name="cf_4306"]').val();
				var nettotalprice = $('#netTotal').text();
				var category = $('select[name="productcategory"]').val();
				var branch = $('[name="cf_nrl_plantmaster580_id"]').val();
				var discountallow = $('[name="cf_5195"]').val();
				var advdiscountallow = $('[name="cf_5207"]').val();
				if(branch == '')
				{
					alert("Please Select Branch First");
				}
				if(category == '')
				{
					alert("Please Select Category First");
				}
				if(postingdate == '')
				{
					alert("Please Select Posting Date First");
				}
				if(accountid == '')
				{
					alert("Please Select Customer First");
				}
				if(discountallow == '')
				{
					alert("Please Select Discount Allow or Not");
				}
				if(advdiscountallow == '')
				{
					alert("Please Select Cash Discount on Advance Payment Allow or Not");
				}
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {branch: branch, category: category, totalqty: totalqty, nettotalprice: nettotalprice, date: postingdate, accountid: accountid, discountallow: discountallow, advdiscountallow: advdiscountallow, action: 'checkTotalDiscount'},
				dataType: 'json',
				success:function(response)
				{
					if(response.discountapply == 'Yes')
					{
						$('#dynamicDiscount').addClass('hide');
						$('#staticDiscount').removeClass('hide');
					if(response.totalamount == null)
					{
						response.totalamount = nettotalprice;
					}
					if(response.totaldeductamount == null)
					{
						response.totaldeductamount = 0.00;
					}
					$('#preTaxTotal').text(response.totalamount);
					var taxtotal = $('#tax_final').text();
					var grandtotal = (parseFloat(response.totalamount) + parseFloat(taxtotal)).toFixed(2);
					$('#grandTotal').text(grandtotal);
					$('#overallDiscount').text("("+response.totaldeductamount+")");
					$('#discountTotal_final').text(response.totaldeductamount);
					if(response.advpercent != null || response.paypercent != null || response.paypercentcash !=null || response.pay7percent != null || response.pay15percent != null || response.pay30percent != null)
					{
						$('.popupPaymentTable').show();
						$('#overalladvancepercent').val(response.advpercent);
						$('#overalladvancepercentval').val(response.advpercentamount);
						$('#overallsamedaypercent').val(response.paypercent);
						$('#overallsamedaypercentval').val(response.paypercentamount);
						$('#samedayInvoiceId').val(response.involdsame);
						$('#overallsamedaycashpercent').val(response.paypercentcash);
						$('#overallsamedaycashpercentval').val(response.paypercentcashamount);
						$('#samedaycashInvoiceId').val(response.involdsamecash);
						$('#overall7dayspercent').val(response.pay7percent);
						$('#overall7dayspercentval').val(response.pay7percentamount);
						$('#within7daysInvoiceId').val(response.invold7);
						$('#overall15dayspercent').val(response.pay15percent);
						$('#overall15dayspercentval').val(response.pay15percentamount);
						$('#within15daysInvoiceId').val(response.invold15);
						$('#overall30dayspercent').val(response.pay30percent);
						$('#overall30dayspercentval').val(response.pay30percentamount);
						$('#within30daysInvoiceId').val(response.invold30);
					}
					else
					{
						$('.popupPaymentTable').hide();
						$('#overalladvancepercent').val(0.00);
						$('#overalladvancepercentval').val(0.00);
						$('#overallsamedaypercent').val(0.00);
						$('#overallsamedaypercentval').val(0.00);
						$('#samedayInvoiceId').val('');
						$('#overallsamedaycashpercent').val(0.00);
						$('#overallsamedaycashpercentval').val(0.00);
						$('#samedaycashInvoiceId').val('');
						$('#overall7dayspercent').val(0.00);
						$('#overall7dayspercentval').val(0.00);
						$('#within7daysInvoiceId').val('');
						$('#overall15dayspercent').val(0.00);
						$('#overall15dayspercentval').val(0.00);
						$('#within15daysInvoiceId').val('');
						$('#overall30dayspercent').val(0.00);
						$('#overall30dayspercentval').val(0.00);
						$('#within30daysInvoiceId').val('');
					}
					if(response.monthlydiscountstatus == 'Active')
					{
						$('.popupMonthlyTable').show();
						$('#overallmonthlycashamount').val(response.monthunitamount);
						$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
						$('#overallmonthlycashpercent').val(response.monthcashpercent);
						$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
						$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
						$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
						$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
						$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					}
					else
					{
						$('.popupMonthlyTable').hide();
						$('#overallmonthlycashamount').val(0.00);
						$('#totaloverallmonthlycashamount').val(0.00);
						$('#overallmonthlycashpercent').val(0.00);
						$('#overallmonthlycashpercentval').val(0.00);
						$('#overallmonthlytargetpercent').val(0.00);
						$('#overallmonthlytargetpercentval').val(0.00);
						$('#overallmonthlyretailerpercent').val(0.00);
						$('#overallmonthlyretailerpercentval').val(0.00);
					}
					if(response.quarterlydiscountstatus == 'Active')
					{
						$('.popupQuarterlyTable').show();
						$('#overallquarterlycashamount').val(response.quarterunitamount);
						$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
						$('#overallquarterlycashpercent').val(response.quartercashpercent);
						$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
						$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
						$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
						$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
						$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					}
					else
					{
						$('.popupQuarterlyTable').hide();
						$('#overallquarterlycashamount').val(0.00);
						$('#totaloverallquarterlycashamount').val(0.00);
						$('#overallquarterlycashpercent').val(0.00);
						$('#overallquarterlycashpercentval').val(0.00);
						$('#overallquarterlytargetpercent').val(0.00);
						$('#overallquarterlytargetpercentval').val(0.00);
						$('#overallquarterlyretailerpercent').val(0.00);
						$('#overallquarterlyretailerpercentval').val(0.00);
					}
					if(response.halfyearlydiscountstatus == 'Active')
					{
						$('.popupHalfYearlyTable').show();
						$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
						$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
						$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
						$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
						$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
						$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
						$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
						$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					}
					else
					{
						$('.popupHalfYearlyTable').hide();
						$('#overallhalfyearlycashamount').val(0.00);
						$('#totaloverallhalfyearlycashamount').val(0.00);
						$('#overallhalfyearlycashpercent').val(0.00);
						$('#overallhalfyearlycashpercentval').val(0.00);
						$('#overallhalfyearlytargetpercent').val(0.00);
						$('#overallhalfyearlytargetpercentval').val(0.00);
						$('#overallhalfyearlyretailerpercent').val(0.00);
						$('#overallhalfyearlyretailerpercentval').val(0.00);
					}
					if(response.annuallydiscountstatus == 'Active')
					{
						$('.popupAnnuallyTable').show();
						$('#overallannuallycashamount').val(response.annualunitamount);
						$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
						$('#overallannuallycashpercent').val(response.annualcashpercent);
						$('#overallannuallycashpercentval').val(response.annualcashpercentval);
						$('#overallannuallytargetpercent').val(response.annualtargetpercent);
						$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
						$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
						$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					}
					else
					{
						$('.popupAnnuallyTable').hide();
						$('#overallannuallycashamount').val(0.00);
						$('#totaloverallannuallycashamount').val(0.00);
						$('#overallannuallycashpercent').val(0.00);
						$('#overallannuallycashpercentval').val(0.00);
						$('#overallannuallytargetpercent').val(0.00);
						$('#overallannuallytargetpercentval').val(0.00);
						$('#overallannuallyretailerpercent').val(0.00);
						$('#overallannuallyretailerpercentval').val(0.00);
					}
					$('.popoverButton').click();
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overallsamedaycashpercent').prop('readonly','true');
					$('#overallsamedaycashpercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
				}
				else
				{
					$('#dynamicDiscount').removeClass('hide');
					$('#staticDiscount').addClass('hide');
					if($('#staticDiscount').hasClass('hide') == true){
					$('.lineItemPopupModalFooter').html('<center><button class="btn btn-success popoverButton" type="button"><strong>'+app.vtranslate('JS_LBL_SAVE')+'</strong></button><a href="#" class="popoverCancel" type="reset">'+app.vtranslate('JS_LBL_CANCEL')+'</a></center>');
					}
				}

				}
				});
			});
			jQuery(document).on('blur','[name^="listPrice"]', function(e) {
				var id = $(this).attr('id');
				var itemno = id[id.length -1];
				var accountid = $('input[name="account_id"]').val();
				//var qty = $(this).val();
				var totalqty = 0;
				for(i=1;i<=itemno;i++)
				{
					var qty = $('#qty'+i).val();
					totalqty = parseInt(totalqty) + parseInt(qty);
				}
				var postingdate = $('input[name="cf_4306"]').val();
				var nettotalprice = $('#netTotal').text();
				var category = $('select[name="productcategory"]').val();
				var branch = $('[name="cf_nrl_plantmaster580_id"]').val();
				var discountallow = $('[name="cf_5195"]').val();
				var advdiscountallow = $('[name="cf_5207"]').val();
				if(branch == '')
				{
					alert("Please Select Branch First");
				}
				if(category == '')
				{
					alert("Please Select Category First");
				}
				if(postingdate == '')
				{
					alert("Please Select Posting Date First");
				}
				if(accountid == '')
				{
					alert("Please Select Customer First");
				}
				if(discountallow == '')
				{
					alert("Please Select Discount Allow or Not");
				}
				if(advdiscountallow == '')
				{
					alert("Please Select Cash Discount on Advance Payment Allow or Not");
				}
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {branch: branch, category: category, totalqty: totalqty, nettotalprice: nettotalprice, date: postingdate, accountid: accountid, discountallow: discountallow, advdiscountallow: advdiscountallow, action: 'checkTotalDiscount'},
				dataType: 'json',
				success:function(response)
				{
					if(response.discountapply == 'Yes')
					{
						$('#dynamicDiscount').addClass('hide');
						$('#staticDiscount').removeClass('hide');
					if(response.totalamount == null)
					{
						response.totalamount = nettotalprice;
					}
					if(response.totaldeductamount == null)
					{
						response.totaldeductamount = 0.00;
					}
					$('#preTaxTotal').text(response.totalamount);
					var taxtotal = $('#tax_final').text();
					var grandtotal = (parseFloat(response.totalamount) + parseFloat(taxtotal)).toFixed(2);
					$('#grandTotal').text(grandtotal);
					$('#overallDiscount').text("("+response.totaldeductamount+")");
					$('#discountTotal_final').text(response.totaldeductamount);
					if(response.advpercent != null || response.paypercent != null || response.paypercentcash !=null || response.pay7percent != null || response.pay15percent != null || response.pay30percent != null)
					{
						$('.popupPaymentTable').show();
						$('#overalladvancepercent').val(response.advpercent);
						$('#overalladvancepercentval').val(response.advpercentamount);
						$('#overallsamedaypercent').val(response.paypercent);
						$('#overallsamedaypercentval').val(response.paypercentamount);
						$('#samedayInvoiceId').val(response.involdsame);
						$('#overallsamedaycashpercent').val(response.paypercentcash);
						$('#overallsamedaycashpercentval').val(response.paypercentcashamount);
						$('#samedaycashInvoiceId').val(response.involdsamecash);
						$('#overall7dayspercent').val(response.pay7percent);
						$('#overall7dayspercentval').val(response.pay7percentamount);
						$('#within7daysInvoiceId').val(response.invold7);
						$('#overall15dayspercent').val(response.pay15percent);
						$('#overall15dayspercentval').val(response.pay15percentamount);
						$('#within15daysInvoiceId').val(response.invold15);
						$('#overall30dayspercent').val(response.pay30percent);
						$('#overall30dayspercentval').val(response.pay30percentamount);
						$('#within30daysInvoiceId').val(response.invold30);
					}
					else
					{
						$('.popupPaymentTable').hide();
						$('#overalladvancepercent').val(0.00);
						$('#overalladvancepercentval').val(0.00);
						$('#overallsamedaypercent').val(0.00);
						$('#overallsamedaypercentval').val(0.00);
						$('#samedayInvoiceId').val('');
						$('#overallsamedaycashpercent').val(0.00);
						$('#overallsamedaycashpercentval').val(0.00);
						$('#samedaycashInvoiceId').val('');
						$('#overall7dayspercent').val(0.00);
						$('#overall7dayspercentval').val(0.00);
						$('#within7daysInvoiceId').val('');
						$('#overall15dayspercent').val(0.00);
						$('#overall15dayspercentval').val(0.00);
						$('#within15daysInvoiceId').val('');
						$('#overall30dayspercent').val(0.00);
						$('#overall30dayspercentval').val(0.00);
						$('#within30daysInvoiceId').val('');
					}
					if(response.monthlydiscountstatus == 'Active')
					{
						$('.popupMonthlyTable').show();
						$('#overallmonthlycashamount').val(response.monthunitamount);
						$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
						$('#overallmonthlycashpercent').val(response.monthcashpercent);
						$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
						$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
						$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
						$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
						$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					}
					else
					{
						$('.popupMonthlyTable').hide();
						$('#overallmonthlycashamount').val(0.00);
						$('#totaloverallmonthlycashamount').val(0.00);
						$('#overallmonthlycashpercent').val(0.00);
						$('#overallmonthlycashpercentval').val(0.00);
						$('#overallmonthlytargetpercent').val(0.00);
						$('#overallmonthlytargetpercentval').val(0.00);
						$('#overallmonthlyretailerpercent').val(0.00);
						$('#overallmonthlyretailerpercentval').val(0.00);
					}
					if(response.quarterlydiscountstatus == 'Active')
					{
						$('.popupQuarterlyTable').show();
						$('#overallquarterlycashamount').val(response.quarterunitamount);
						$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
						$('#overallquarterlycashpercent').val(response.quartercashpercent);
						$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
						$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
						$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
						$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
						$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					}
					else
					{
						$('.popupQuarterlyTable').hide();
						$('#overallquarterlycashamount').val(0.00);
						$('#totaloverallquarterlycashamount').val(0.00);
						$('#overallquarterlycashpercent').val(0.00);
						$('#overallquarterlycashpercentval').val(0.00);
						$('#overallquarterlytargetpercent').val(0.00);
						$('#overallquarterlytargetpercentval').val(0.00);
						$('#overallquarterlyretailerpercent').val(0.00);
						$('#overallquarterlyretailerpercentval').val(0.00);
					}
					if(response.halfyearlydiscountstatus == 'Active')
					{
						$('.popupHalfYearlyTable').show();
						$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
						$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
						$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
						$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
						$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
						$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
						$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
						$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					}
					else
					{
						$('.popupHalfYearlyTable').hide();
						$('#overallhalfyearlycashamount').val(0.00);
						$('#totaloverallhalfyearlycashamount').val(0.00);
						$('#overallhalfyearlycashpercent').val(0.00);
						$('#overallhalfyearlycashpercentval').val(0.00);
						$('#overallhalfyearlytargetpercent').val(0.00);
						$('#overallhalfyearlytargetpercentval').val(0.00);
						$('#overallhalfyearlyretailerpercent').val(0.00);
						$('#overallhalfyearlyretailerpercentval').val(0.00);
					}
					if(response.annuallydiscountstatus == 'Active')
					{
						$('.popupAnnuallyTable').show();
						$('#overallannuallycashamount').val(response.annualunitamount);
						$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
						$('#overallannuallycashpercent').val(response.annualcashpercent);
						$('#overallannuallycashpercentval').val(response.annualcashpercentval);
						$('#overallannuallytargetpercent').val(response.annualtargetpercent);
						$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
						$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
						$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					}
					else
					{
						$('.popupAnnuallyTable').hide();
						$('#overallannuallycashamount').val(0.00);
						$('#totaloverallannuallycashamount').val(0.00);
						$('#overallannuallycashpercent').val(0.00);
						$('#overallannuallycashpercentval').val(0.00);
						$('#overallannuallytargetpercent').val(0.00);
						$('#overallannuallytargetpercentval').val(0.00);
						$('#overallannuallyretailerpercent').val(0.00);
						$('#overallannuallyretailerpercentval').val(0.00);
					}
					$('.popoverButton').click();
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overallsamedaycashpercent').prop('readonly','true');
					$('#overallsamedaycashpercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
				}
				else
				{
					$('#dynamicDiscount').removeClass('hide');
					$('#staticDiscount').addClass('hide');
					if($('#staticDiscount').hasClass('hide') == true){
					$('.lineItemPopupModalFooter').html('<center><button class="btn btn-success popoverButton" type="button"><strong>'+app.vtranslate('JS_LBL_SAVE')+'</strong></button><a href="#" class="popoverCancel" type="reset">'+app.vtranslate('JS_LBL_CANCEL')+'</a></center>');
					}
				}

				}
				});
			});
			jQuery(document).on('blur','[name^="qty"]', function(e) {
				var id = $(this).attr('id');
				var itemno = id[id.length -1];
				var accountid = $('input[name="account_id"]').val();
				//var qty = $(this).val();
				var totalqty = 0;
				for(i=1;i<=itemno;i++)
				{
					var qty = $('#qty'+i).val();
					totalqty = parseInt(totalqty) + parseInt(qty);
				}
				var postingdate = $('input[name="cf_4306"]').val();
				var nettotalprice = $('#netTotal').text();
				var category = $('select[name="productcategory"]').val();
				var branch = $('[name="cf_nrl_plantmaster580_id"]').val();
				var discountallow = $('[name="cf_5195"]').val();
				var advdiscountallow = $('[name="cf_5207"]').val();
				if(branch == '')
				{
					alert("Please Select Branch First");
				}
				if(category == '')
				{
					alert("Please Select Category First");
				}
				if(postingdate == '')
				{
					alert("Please Select Posting Date First");
				}
				if(accountid == '')
				{
					alert("Please Select Customer First");
				}
				if(discountallow == '')
				{
					alert("Please Select Discount Allow or Not");
				}
				if(advdiscountallow == '')
				{
					alert("Please Select Cash Discount on Advance Payment Allow or Not");
				}
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {branch: branch, category: category, totalqty: totalqty, nettotalprice: nettotalprice, date: postingdate, accountid: accountid, discountallow: discountallow, advdiscountallow: advdiscountallow, action: 'checkTotalDiscount'},
				dataType: 'json',
				success:function(response)
				{
					if(response.discountapply == 'Yes')
					{
						$('#dynamicDiscount').addClass('hide');
						$('#staticDiscount').removeClass('hide');
					if(response.totalamount == null)
					{
						response.totalamount = nettotalprice;
					}
					if(response.totaldeductamount == null)
					{
						response.totaldeductamount = 0.00;
					}
					$('#preTaxTotal').text(response.totalamount);
					var taxtotal = $('#tax_final').text();
					var grandtotal = (parseFloat(response.totalamount) + parseFloat(taxtotal)).toFixed(2);
					$('#grandTotal').text(grandtotal);
					$('#overallDiscount').text("("+response.totaldeductamount+")");
					$('#discountTotal_final').text(response.totaldeductamount);
					if(response.advpercent != null || response.paypercent != null || response.paypercentcash !=null || response.pay7percent != null || response.pay15percent != null || response.pay30percent != null)
					{
						$('.popupPaymentTable').show();
						$('#overalladvancepercent').val(response.advpercent);
						$('#overalladvancepercentval').val(response.advpercentamount);
						$('#overallsamedaypercent').val(response.paypercent);
						$('#overallsamedaypercentval').val(response.paypercentamount);
						$('#samedayInvoiceId').val(response.involdsame);
						$('#overallsamedaycashpercent').val(response.paypercentcash);
						$('#overallsamedaycashpercentval').val(response.paypercentcashamount);
						$('#samedaycashInvoiceId').val(response.involdsamecash);
						$('#overall7dayspercent').val(response.pay7percent);
						$('#overall7dayspercentval').val(response.pay7percentamount);
						$('#within7daysInvoiceId').val(response.invold7);
						$('#overall15dayspercent').val(response.pay15percent);
						$('#overall15dayspercentval').val(response.pay15percentamount);
						$('#within15daysInvoiceId').val(response.invold15);
						$('#overall30dayspercent').val(response.pay30percent);
						$('#overall30dayspercentval').val(response.pay30percentamount);
						$('#within30daysInvoiceId').val(response.invold30);
					}
					else
					{
						$('.popupPaymentTable').hide();
						$('#overalladvancepercent').val(0.00);
						$('#overalladvancepercentval').val(0.00);
						$('#overallsamedaypercent').val(0.00);
						$('#overallsamedaypercentval').val(0.00);
						$('#samedayInvoiceId').val('');
						$('#overallsamedaycashpercent').val(0.00);
						$('#overallsamedaycashpercentval').val(0.00);
						$('#samedaycashInvoiceId').val('');
						$('#overall7dayspercent').val(0.00);
						$('#overall7dayspercentval').val(0.00);
						$('#within7daysInvoiceId').val('');
						$('#overall15dayspercent').val(0.00);
						$('#overall15dayspercentval').val(0.00);
						$('#within15daysInvoiceId').val('');
						$('#overall30dayspercent').val(0.00);
						$('#overall30dayspercentval').val(0.00);
						$('#within30daysInvoiceId').val('');
					}
					if(response.monthlydiscountstatus == 'Active')
					{
						$('.popupMonthlyTable').show();
						$('#overallmonthlycashamount').val(response.monthunitamount);
						$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
						$('#overallmonthlycashpercent').val(response.monthcashpercent);
						$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
						$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
						$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
						$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
						$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					}
					else
					{
						$('.popupMonthlyTable').hide();
						$('#overallmonthlycashamount').val(0.00);
						$('#totaloverallmonthlycashamount').val(0.00);
						$('#overallmonthlycashpercent').val(0.00);
						$('#overallmonthlycashpercentval').val(0.00);
						$('#overallmonthlytargetpercent').val(0.00);
						$('#overallmonthlytargetpercentval').val(0.00);
						$('#overallmonthlyretailerpercent').val(0.00);
						$('#overallmonthlyretailerpercentval').val(0.00);
					}
					if(response.quarterlydiscountstatus == 'Active')
					{
						$('.popupQuarterlyTable').show();
						$('#overallquarterlycashamount').val(response.quarterunitamount);
						$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
						$('#overallquarterlycashpercent').val(response.quartercashpercent);
						$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
						$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
						$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
						$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
						$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					}
					else
					{
						$('.popupQuarterlyTable').hide();
						$('#overallquarterlycashamount').val(0.00);
						$('#totaloverallquarterlycashamount').val(0.00);
						$('#overallquarterlycashpercent').val(0.00);
						$('#overallquarterlycashpercentval').val(0.00);
						$('#overallquarterlytargetpercent').val(0.00);
						$('#overallquarterlytargetpercentval').val(0.00);
						$('#overallquarterlyretailerpercent').val(0.00);
						$('#overallquarterlyretailerpercentval').val(0.00);
					}
					if(response.halfyearlydiscountstatus == 'Active')
					{
						$('.popupHalfYearlyTable').show();
						$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
						$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
						$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
						$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
						$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
						$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
						$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
						$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					}
					else
					{
						$('.popupHalfYearlyTable').hide();
						$('#overallhalfyearlycashamount').val(0.00);
						$('#totaloverallhalfyearlycashamount').val(0.00);
						$('#overallhalfyearlycashpercent').val(0.00);
						$('#overallhalfyearlycashpercentval').val(0.00);
						$('#overallhalfyearlytargetpercent').val(0.00);
						$('#overallhalfyearlytargetpercentval').val(0.00);
						$('#overallhalfyearlyretailerpercent').val(0.00);
						$('#overallhalfyearlyretailerpercentval').val(0.00);
					}
					if(response.annuallydiscountstatus == 'Active')
					{
						$('.popupAnnuallyTable').show();
						$('#overallannuallycashamount').val(response.annualunitamount);
						$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
						$('#overallannuallycashpercent').val(response.annualcashpercent);
						$('#overallannuallycashpercentval').val(response.annualcashpercentval);
						$('#overallannuallytargetpercent').val(response.annualtargetpercent);
						$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
						$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
						$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					}
					else
					{
						$('.popupAnnuallyTable').hide();
						$('#overallannuallycashamount').val(0.00);
						$('#totaloverallannuallycashamount').val(0.00);
						$('#overallannuallycashpercent').val(0.00);
						$('#overallannuallycashpercentval').val(0.00);
						$('#overallannuallytargetpercent').val(0.00);
						$('#overallannuallytargetpercentval').val(0.00);
						$('#overallannuallyretailerpercent').val(0.00);
						$('#overallannuallyretailerpercentval').val(0.00);
					}
					$('.popoverButton').click();
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overallsamedaycashpercent').prop('readonly','true');
					$('#overallsamedaycashpercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
				}
				else
				{
					$('#dynamicDiscount').removeClass('hide');
					$('#staticDiscount').addClass('hide');
					if($('#staticDiscount').hasClass('hide') == true){
					$('.lineItemPopupModalFooter').html('<center><button class="btn btn-success popoverButton" type="button"><strong>'+app.vtranslate('JS_LBL_SAVE')+'</strong></button><a href="#" class="popoverCancel" type="reset">'+app.vtranslate('JS_LBL_CANCEL')+'</a></center>');
					}
				}

				}
				});
		});
		if(recordid !="" && recordid != undefined)
		{
			$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {recordid: recordid, action: 'getDiscountValues'},
				dataType: 'json',
				success:function(response)
				{
					$('#overallmonthlycashamount').val(response.monthunitamount);
					$('#totaloverallmonthlycashamount').val(response.monthtotaldeduct);
					$('#overallmonthlycashpercent').val(response.monthcashpercent);
					$('#overallmonthlycashpercentval').val(response.monthcashpercentval);
					$('#overallmonthlytargetpercent').val(response.monthtargetpercent);
					$('#overallmonthlytargetpercentval').val(response.monthtargetpercentval);
					$('#overallmonthlyretailerpercent').val(response.monthretailerpercent);
					$('#overallmonthlyretailerpercentval').val(response.monthretailerpercentval);
					$('#overallquarterlycashamount').val(response.quarterunitamount);
					$('#totaloverallquarterlycashamount').val(response.quartertotaldeduct);
					$('#overallquarterlycashpercent').val(response.quartercashpercent);
					$('#overallquarterlycashpercentval').val(response.quartercashpercentval);
					$('#overallquarterlytargetpercent').val(response.quartertargetpercent);
					$('#overallquarterlytargetpercentval').val(response.quartertargetpercentval);
					$('#overallquarterlyretailerpercent').val(response.quarterretailerpercent);
					$('#overallquarterlyretailerpercentval').val(response.quarterretailerpercentval);
					$('#overallhalfyearlycashamount').val(response.halfyearunitamount);
					$('#totaloverallhalfyearlycashamount').val(response.halfyeartotaldeduct);
					$('#overallhalfyearlycashpercent').val(response.halfyearcashpercent);
					$('#overallhalfyearlycashpercentval').val(response.halfyearcashpercentval);
					$('#overallhalfyearlytargetpercent').val(response.halfyeartargetpercent);
					$('#overallhalfyearlytargetpercentval').val(response.halfyeartargetpercentval);
					$('#overallhalfyearlyretailerpercent').val(response.halfyearretailerpercent);
					$('#overallhalfyearlyretailerpercentval').val(response.halfyearretailerpercentval);
					$('#overallannuallycashamount').val(response.annualunitamount);
					$('#totaloverallannuallycashamount').val(response.annnualtotaldeduct);
					$('#overallannuallycashpercent').val(response.annualcashpercent);
					$('#overallannuallycashpercentval').val(response.annualcashpercentval);
					$('#overallannuallytargetpercent').val(response.annualtargetpercent);
					$('#overallannuallytargetpercentval').val(response.annualtargetpercentval);
					$('#overallannuallyretailerpercent').val(response.annualretailerpercent);
					$('#overallannuallyretailerpercentval').val(response.annualretailerpercentval);
					$('#overalladvancepercent').val(response.advpercent);
					$('#overalladvancepercentval').val(response.advpercentamount);
					$('#overallsamedaypercent').val(response.paypercent);
					$('#overallsamedaypercentval').val(response.paypercentamount);
					$('#overallsamedaycashpercent').val(response.paycashpercent);
					$('#overallsamedaycashpercentval').val(response.paycashpercentamount);
					$('#overall7dayspercent').val(response.pay7percent);
					$('#overall7dayspercentval').val(response.pay7percentamount);
					$('#overall15dayspercent').val(response.pay15percent);
					$('#overall15dayspercentval').val(response.pay15percentamount);
					$('#overall30dayspercent').val(response.pay30percent);
					$('#overall30dayspercentval').val(response.pay30percentamount);
					$('#schemediscount').val(response.schemediscount);
					//$('.popoverButton').css('display','none');
					$('#overalladvancepercent').prop('readonly','true');
					$('#overalladvancepercentval').prop('readonly','true');
					$('#overallsamedaypercent').prop('readonly','true');
					$('#overallsamedaypercentval').prop('readonly','true');
					$('#overall7dayspercent').prop('readonly','true');
					$('#overall7dayspercentval').prop('readonly','true');
					$('#overall15dayspercent').prop('readonly','true');
					$('#overall15dayspercentval').prop('readonly','true');
					$('#overall30dayspercent').prop('readonly','true');
					$('#overall30dayspercentval').prop('readonly','true');
					$('#overallmonthlycashamount').prop('readonly','true');
					$('#totaloverallmonthlycashamount').prop('readonly','true');
					$('#overallmonthlycashpercent').prop('readonly','true');
					$('#overallmonthlycashpercentval').prop('readonly','true');
					$('#overallmonthlytargetpercent').prop('readonly','true');
					$('#overallmonthlytargetpercentval').prop('readonly','true');
					$('#overallmonthlyretailerpercent').prop('readonly','true');
					$('#overallmonthlyretailerpercentval').prop('readonly','true');
					$('#overallquarterlycashamount').prop('readonly','true');
					$('#totaloverallquarterlycashamount').prop('readonly','true');
					$('#overallquarterlycashpercent').prop('readonly','true');
					$('#overallquarterlycashpercentval').prop('readonly','true');
					$('#overallquarterlytargetpercent').prop('readonly','true');
					$('#overallquarterlytargetpercentval').prop('readonly','true');
					$('#overallquarterlyretailerpercent').prop('readonly','true');
					$('#overallquarterlyretailerpercentval').prop('readonly','true');
					$('#overallhalfyearlycashamount').prop('readonly','true');
					$('#totaloverallhalfyearlycashamount').prop('readonly','true');
					$('#overallhalfyearlycashpercent').prop('readonly','true');
					$('#overallhalfyearlycashpercentval').prop('readonly','true');
					$('#overallhalfyearlytargetpercent').prop('readonly','true');
					$('#overallhalfyearlytargetpercentval').prop('readonly','true');
					$('#overallhalfyearlyretailerpercent').prop('readonly','true');
					$('#overallhalfyearlyretailerpercentval').prop('readonly','true');
					$('#overallannuallycashamount').prop('readonly','true');
					$('#totaloverallannuallycashamount').prop('readonly','true');
					$('#overallannuallycashpercent').prop('readonly','true');
					$('#overallannuallycashpercentval').prop('readonly','true');
					$('#overallannuallytargetpercent').prop('readonly','true');
					$('#overallannuallyretailerpercent').prop('readonly','true');
					$('#overallannuallyretailerpercentval').prop('readonly','true');
				}
				});
		}
		jQuery(document).on('change','[name="cf_3550"]', function(e) {
			var so_type = this.value;
			  if(so_type=="Quote To Sales Order"){
				$('#quote_id_display').attr('required',true);
			  }
			});

		jQuery(document).on('change','[name="advpay[]"]', function(e) {
			var payment = $('.optselect option:selected').toArray().map(item => item.text).join();
			var payval = payment.toString();
			var pay = payval.split(",");
			var len = pay.length;
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			var venadvpay = new Array();
			var j = 0;
			var total = 0;
			var sumtotal = 0;
			for(var i=0;i<len;i++)
			{
				var venpay = pay[i].split(' - ');
				if(venpay[1] != undefined)
				{
					total = parseFloat(adv) + parseFloat(venpay[1]);
					sumtotal = parseFloat(sumtotal) + parseFloat(venpay[1]);
					
				}
			}
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			$('#advancePayment').val(sumtotal);
			$('#advPayment').val(sumtotal);
			var creditinv = $('#credit').val();
			if(creditinv == "" || creditinv == undefined)
			{
				creditinv = 0;
			}
			var totalreceive = parseFloat(sumtotal) + parseFloat(creditinv);
			$("#received_amount").val(totalreceive.toFixed(2));	
			var grandtotal = $('#grandTotal').text();
			var actualbalance = parseFloat(grandtotal) - parseFloat(totalreceive);
			$("#received_amount").val(totalreceive.toFixed(2));
			$("#actual_balance").val(actualbalance.toFixed(2));
			$('#balance').val(actualbalance.toFixed(2));
			if(parseFloat(actualbalance) < 0)
			{
				$('#balance').val('0.00');
			}
		});
			/*jQuery(document).on('change','[name="advdebitpay[]"]', function(e) {
	var payment = $('.optdebitselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			var advanceval = $('#advancePayment').val();
			var creditinv = $('#credit').val();
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advanceval) + parseFloat(creditinv));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advanceval) + parseFloat(creditinv));
			}
			
				var posttax = parseFloat(pretax) + parseFloat(tax);
				var grandtotal = $("#grandTotal").text();
				var vendebpay = new Array();
				var sumtotal = 0;
				var j = 0;
				for(var i=0;i<len;i++)
				{
					var debitarr = pay[i].split(' - ');
					if(debitarr[1] != undefined)
					{
						vendebpay[j] = debitarr[1];
						j++;
					}
					/*else
					{
						var deb = $('#deb').val();
						if(deb == "" || deb == undefined)
						{
							deb = 0;
						}
						var debit = $('#debit').val(); 
						if(debit == "" || debit == undefined)
						{
							debit = 0;
						}
						var total = parseFloat(grandtotal) - parseFloat(deb);
						$("#grandTotal").text(total);
						debit = parseFloat(debit) - parseFloat(deb);
						$('#debit').val(debit);
						$('#dnote').text("");
					}*/
				//}
				/*var deb = $('#deb').val();
				if(deb == "" || deb == undefined)
				{
					deb = 0;
				}
				var debit = $('#debit').val(); 
				if(debit == "" || debit == undefined)
				{
					debit = 0;
				}
				grandtotal = parseFloat(grandtotal) - parseFloat(debit);*/
				/*grandtotal = parseFloat(postgrand) + parseFloat(sumtotal);	
				$('#debit').val(sumtotal);
				$('#deb').val(sumtotal);
				$("#grandTotal").text(grandtotal.toFixed(2));			
			});*/
			jQuery(document).on('change','[name="advcreditpay[]"]', function(e) {
				var payment = $('.optcreditselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var cre = $('#cre').val();
				if(cre == "" || cre == undefined)
				{
					cre = 0;
				}		
				var vencrepay = new Array();
				var j = 0;
				var total = 0;
				var sumtotal = 0;
				
				for(var i=0;i<len;i++)
				{
					var creditarr = pay[i].split(' - ');
					if(creditarr[1] != undefined)
					{
						total = parseFloat(cre) + parseFloat(creditarr[1]);
						sumtotal = parseFloat(sumtotal) + parseFloat(creditarr[1]);
					}
				}
				var cre = $('#cre').val();
				if(cre == "" || cre == undefined)
				{
					cre = 0;
				}
				$('#credit').val(sumtotal);
				$('#cre').val(sumtotal);
				var advance = $('#advancePayment').val();
				if(advance == "" || advance == undefined)
				{
					advance = 0;
				}
				var totalreceive = parseFloat(sumtotal) + parseFloat(advance);
				$("#received_amount").val(totalreceive.toFixed(2));
				var grandtotal = $('#grandTotal').text();
				var actualbalance = parseFloat(grandtotal) - parseFloat(totalreceive);
				$("#received_amount").val(totalreceive.toFixed(2));
				$("#actual_balance").val(actualbalance.toFixed(2));
				$('#balance').val(actualbalance.toFixed(2));
				if(parseFloat(actualbalance) < 0)
				{
					$('#balance').val('0.00');
				}
		});
	}
	if(sourceModule=="MarketAnalysis" && view=='Edit')
	{
		$(window).load(function(){
		setTimeout(function(){	
		$('[name="cf_4803"]').select2().select2('readonly',true);
		},1000);
		});
		
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		jQuery(document).on('click','[name^="cf_2192"]', function(e) {
			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = "";
			if(rowLength==2)
			{
				rowNum = "";
			}else if(rowLength==3){
			rowNum = "_"+rowArray[rowLength-1];
			}
			var date = new Date();
			var month = date.toLocaleString('en-us', { month: 'long' });
			if(month == "April")
			{
				var div = 12;
			}
			else if(month == "March")
			{
				var div = 11;
			}
			else if(month == "February")
			{
				var div = 10;
			}
			else if(month == "January")
			{
				var div = 9;
			}
			var year = $('select[name="cf_3422"]').val();
			var fiscalyr = year.split(" - ");
			if(year == '2019 - 2020')
			{
				$('input[name="cf_2210'+rowNum+'"]').attr('readonly',false);
			}
			if(year != '2019 - 2020')
			{
				var yr = fiscalyr[0];
			//if(yr >= '2020')
			//{
				var district = $('input[name="cf_2188'+rowNum+'"]').val();
				$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
						dataType: 'json',
						success:function(response)
						{
							$('input[name="cf_2210'+rowNum+'"]').val(response.qty4w);
							$('input[name="cf_2210'+rowNum+'"]').attr('readonly','true');
						}
						});
			}
			//}
		});
		/*--Start--4W--*/
		jQuery(document).on('keyup','[name^="cf_2192"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');

						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');

						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2194"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');
						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2196"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');

						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2198"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');

						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2200"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');

						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');
						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2202"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');
						}
		}


		});

		jQuery(document).on('keyup','[name^="cf_2204"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');
						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2206"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');
						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2208"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{

			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');
						}
		}
		});

		jQuery(document).on('keyup','[name^="cf_2210"]', function(e) {
		var trid = $(this).closest('tr').attr('id');
		var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='4 Wheeler Battery')
		{
			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = 0;
			if(rowLength==2)
			{
				rowNum = 0;
			}else if(rowLength==3){
			rowNum = rowArray[rowLength-1];
			}

			   if(rowNum>=1)
						{
var exide = ($.trim($('input[name="cf_2192_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2192_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2192_'+rowNum+'"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2194_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2194_'+rowNum+'"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2196_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2196_'+rowNum+'"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2198_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2198_'+rowNum+'"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2200_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2200_'+rowNum+'"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2202_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2202_'+rowNum+'"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2204_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2204_'+rowNum+'"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2206_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2206_'+rowNum+'"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2208_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2208_'+rowNum+'"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2210_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2210_'+rowNum+'"]').val()) : 0.00;
$('input[name="cf_2212_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212_'+rowNum+'"]').attr('readonly','true');
						}else{
var exide = ($.trim($('input[name="cf_2192"]').val()) != "" && !isNaN($('input[name="cf_2192"]').val())) ? parseFloat($('input[name="cf_2192"]').val()) : 0.00;
var amaron = ($.trim($('input[name="cf_2194"]').val()) != "" && !isNaN($('input[name="cf_2194"]').val())) ? parseFloat($('input[name="cf_2194"]').val()) : 0.00;
var sf = ($.trim($('input[name="cf_2196"]').val()) != "" && !isNaN($('input[name="cf_2196"]').val())) ? parseFloat($('input[name="cf_2196"]').val()) : 0.00;
var tgy = ($.trim($('input[name="cf_2198"]').val()) != "" && !isNaN($('input[name="cf_2198"]').val())) ? parseFloat($('input[name="cf_2198"]').val()) : 0.00;
var amco = ($.trim($('input[name="cf_2200"]').val()) != "" && !isNaN($('input[name="cf_2200"]').val())) ? parseFloat($('input[name="cf_2200"]').val()) : 0.00;
var livguard = ($.trim($('input[name="cf_2202"]').val()) != "" && !isNaN($('input[name="cf_2202"]').val())) ? parseFloat($('input[name="cf_2202"]').val()) : 0.00;
var livfast = ($.trim($('input[name="cf_2204"]').val()) != "" && !isNaN($('input[name="cf_2204"]').val())) ? parseFloat($('input[name="cf_2204"]').val()) : 0.00;
var other_organised = ($.trim($('input[name="cf_2206"]').val()) != "" && !isNaN($('input[name="cf_2206"]').val())) ? parseFloat($('input[name="cf_2206"]').val()) : 0.00;
var other_unorganised = ($.trim($('input[name="cf_2208"]').val()) != "" && !isNaN($('input[name="cf_2208"]').val())) ? parseFloat($('input[name="cf_2208"]').val()) : 0.00;
var centurian = ($.trim($('input[name="cf_2210"]').val()) != "" && !isNaN($('input[name="cf_2210"]').val())) ? parseFloat($('input[name="cf_2210"]').val()) : 0.00;
$('input[name="cf_2212"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
$('input[name="cf_2212"]').attr('readonly','true');
						}
		}
		});

		/*--End--4W--*/

		jQuery(document).on('click','[name^="cf_2219"]', function(e) {
			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = "";
			if(rowLength==2)
			{
				rowNum = "";
			}else if(rowLength==3){
			rowNum = "_"+rowArray[rowLength-1];
			}
			var date = new Date();
			var month = date.toLocaleString('en-us', { month: 'long' });
			if(month == "April")
			{
				var div = 12;
			}
			else if(month == "March")
			{
				var div = 11;
			}
			else if(month == "February")
			{
				var div = 10;
			}
			else if(month == "January")
			{
				var div = 9;
			}
			var year = $('select[name="cf_3422"]').val();
			var fiscalyr = year.split("-");
			if(year == '2019 - 2020')
			{
				$('input[name="cf_2237'+rowNum+'"]').attr('readonly',false);
			}
			else
			{
			var yr = fiscalyr[0];
			//if(yr >= '2020')
			//{
				var district = $('input[name="cf_2215'+rowNum+'"]').val();
				$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
						dataType: 'json',
						success:function(response)
						{
							console.log(response);
							$('input[name="cf_2237'+rowNum+'"]').val(response.qty2w);
							$('input[name="cf_2237'+rowNum+'"]').attr('readonly','true');
						}
						});
			}
			//}
		});

		/*--Start--2W--*/
		jQuery(document).on('keyup','[name^="cf_2219"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
		}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2221"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
		}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2223"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
		}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2225"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
		}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2227"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
		}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2229"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
		}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2231"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2233"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');

							}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2235"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
							}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2237"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='2 Wheeler Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2219_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2219_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2219_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2221_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2221_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2221_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2223_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2223_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2223_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2225_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2225_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2225_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2227_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2227_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2227_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2229_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2229_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2229_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2231_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2231_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2231_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2233_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2233_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2233_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2235_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2235_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2235_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2237_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2237_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2237_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2239_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2219"]').val()) != "" && !isNaN($('input[name="cf_2219"]').val())) ? parseFloat($('input[name="cf_2219"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2221"]').val()) != "" && !isNaN($('input[name="cf_2221"]').val())) ? parseFloat($('input[name="cf_2221"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2223"]').val()) != "" && !isNaN($('input[name="cf_2223"]').val())) ? parseFloat($('input[name="cf_2223"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2225"]').val()) != "" && !isNaN($('input[name="cf_2225"]').val())) ? parseFloat($('input[name="cf_2225"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2227"]').val()) != "" && !isNaN($('input[name="cf_2227"]').val())) ? parseFloat($('input[name="cf_2227"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2229"]').val()) != "" && !isNaN($('input[name="cf_2229"]').val())) ? parseFloat($('input[name="cf_2229"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2231"]').val()) != "" && !isNaN($('input[name="cf_2231"]').val())) ? parseFloat($('input[name="cf_2231"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2233"]').val()) != "" && !isNaN($('input[name="cf_2233"]').val())) ? parseFloat($('input[name="cf_2233"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2235"]').val()) != "" && !isNaN($('input[name="cf_2235"]').val())) ? parseFloat($('input[name="cf_2235"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2237"]').val()) != "" && !isNaN($('input[name="cf_2237"]').val())) ? parseFloat($('input[name="cf_2237"]').val()) : 0.00;
		$('input[name="cf_2239"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2239"]').attr('readonly','true');
		}
				}
		});
		/*--End--2W--*/

		jQuery(document).on('click','[name^="cf_2258"]', function(e) {
			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = "";
			if(rowLength==2)
			{
				rowNum = "";
			}else if(rowLength==3){
			rowNum = "_"+rowArray[rowLength-1];
			}
			var date = new Date();
			var month = date.toLocaleString('en-us', { month: 'long' });
			if(month == "April")
			{
				var div = 12;
			}
			else if(month == "March")
			{
				var div = 11;
			}
			else if(month == "February")
			{
				var div = 10;
			}
			else if(month == "January")
			{
				var div = 9;
			}
			var year = $('select[name="cf_3422"]').val();
			var fiscalyr = year.split("-");
			var yr = fiscalyr[0];
			if(year == '2019 - 2020')
			{
				$('input[name="cf_2276'+rowNum+'"]').attr('readonly',false);
			}
			else
			{
			//if(yr >= '2020')
			//{
				var district = $('input[name="cf_2254'+rowNum+'"]').val();
				$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
						dataType: 'json',
						success:function(response)
						{
							$('input[name="cf_2276'+rowNum+'"]').val(response.qtyib);
							$('input[name="cf_2276'+rowNum+'"]').attr('readonly','true');
						}
						});
			}
			//}
		});

		/*--Start--IB--*/
		jQuery(document).on('keyup','[name^="cf_2258"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');

								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
						}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2260"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2262"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2264"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2266"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2268"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2270"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2272"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
						}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2274"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2276"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='Inverter Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2258_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2258_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2258_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2260_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2260_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2260_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2262_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2262_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2262_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2264_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2264_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2264_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2266_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2266_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2266_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2268_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2268_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2268_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2270_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2270_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2270_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2272_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2272_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2272_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2274_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2274_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2274_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2276_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2276_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2276_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2278_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2258"]').val()) != "" && !isNaN($('input[name="cf_2258"]').val())) ? parseFloat($('input[name="cf_2258"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2260"]').val()) != "" && !isNaN($('input[name="cf_2260"]').val())) ? parseFloat($('input[name="cf_2260"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2262"]').val()) != "" && !isNaN($('input[name="cf_2262"]').val())) ? parseFloat($('input[name="cf_2262"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2264"]').val()) != "" && !isNaN($('input[name="cf_2264"]').val())) ? parseFloat($('input[name="cf_2264"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2266"]').val()) != "" && !isNaN($('input[name="cf_2266"]').val())) ? parseFloat($('input[name="cf_2266"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2268"]').val()) != "" && !isNaN($('input[name="cf_2268"]').val())) ? parseFloat($('input[name="cf_2268"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2270"]').val()) != "" && !isNaN($('input[name="cf_2270"]').val())) ? parseFloat($('input[name="cf_2270"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2272"]').val()) != "" && !isNaN($('input[name="cf_2272"]').val())) ? parseFloat($('input[name="cf_2272"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2274"]').val()) != "" && !isNaN($('input[name="cf_2274"]').val())) ? parseFloat($('input[name="cf_2274"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2276"]').val()) != "" && !isNaN($('input[name="cf_2276"]').val())) ? parseFloat($('input[name="cf_2276"]').val()) : 0.00;
		$('input[name="cf_2278"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2278"]').attr('readonly','true');
		}
				}
		});
		/*--End--IB--*/

		jQuery(document).on('click','[name^="cf_2289"]', function(e) {
			var rowName = $(this).prop('name');
		    var rowArray = rowName.split("_");
			var rowLength = rowArray.length;
			var rowNum = "";
			if(rowLength==2)
			{
				rowNum = "";
			}else if(rowLength==3){
			rowNum = "_"+rowArray[rowLength-1];
			}
			var date = new Date();
			var month = date.toLocaleString('en-us', { month: 'long' });
			if(month == "April")
			{
				var div = 12;
			}
			else if(month == "March")
			{
				var div = 11;
			}
			else if(month == "February")
			{
				var div = 10;
			}
			else if(month == "January")
			{
				var div = 9;
			}
			var year = $('select[name="cf_3422"]').val();
			var fiscalyr = year.split("-");
			var yr = fiscalyr[0];
			if(year == '2019 - 2020')
			{
				$('input[name="cf_2331'+rowNum+'"]').attr('readonly',false);
			}
			else
			{
			//if(yr >= '2020')
			//{
				var district = $('input[name="cf_2285'+rowNum+'"]').val();
				$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
						dataType: 'json',
						success:function(response)
						{
							$('input[name="cf_2331'+rowNum+'"]').val(response.qtyer);
							$('input[name="cf_2331'+rowNum+'"]').attr('readonly','true');
						}
						});
			}
			//}
		});

		/*--Start--ER--*/
		jQuery(document).on('keyup','[name^="cf_2289"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2291"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2293"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2295"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2297"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2301"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2303"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2327"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2329"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		jQuery(document).on('keyup','[name^="cf_2331"]', function(e) {
				var trid = $(this).closest('tr').attr('id');
				var tablabel = $('.related-tabs').find('li.active').find('span.tab-label').text();
		if(tablabel=='E-Rickshaw Battery')
		{
					var rowName = $(this).prop('name');
					var rowArray = rowName.split("_");
					var rowLength = rowArray.length;
					var rowNum = 0;
					if(rowLength==2)
					{
						rowNum = 0;
					}else if(rowLength==3){
					rowNum = rowArray[rowLength-1];
					}

					   if(rowNum>=1)
								{
		var exide = ($.trim($('input[name="cf_2289_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2289_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2289_'+rowNum+'"]').val()) : 0.00;

		var amaron = ($.trim($('input[name="cf_2291_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2291_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2291_'+rowNum+'"]').val()) : 0.00;

		var sf = ($.trim($('input[name="cf_2293_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2293_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2293_'+rowNum+'"]').val()) : 0.00;

		var tgy = ($.trim($('input[name="cf_2295_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2295_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2295_'+rowNum+'"]').val()) : 0.00;

		var amco = ($.trim($('input[name="cf_2297_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2297_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2297_'+rowNum+'"]').val()) : 0.00;

		var livguard = ($.trim($('input[name="cf_2301_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2301_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2301_'+rowNum+'"]').val()) : 0.00;

		var livfast = ($.trim($('input[name="cf_2303_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2303_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2303_'+rowNum+'"]').val()) : 0.00;

		var other_organised = ($.trim($('input[name="cf_2327_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2327_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2327_'+rowNum+'"]').val()) : 0.00;

		var other_unorganised = ($.trim($('input[name="cf_2329_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2329_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2329_'+rowNum+'"]').val()) : 0.00;

		var centurian = ($.trim($('input[name="cf_2331_'+rowNum+'"]').val()) != "" && !isNaN($('input[name="cf_2331_'+rowNum+'"]').val())) ? parseFloat($('input[name="cf_2331_'+rowNum+'"]').val()) : 0.00;

		$('input[name="cf_2333_'+rowNum+'"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333_'+rowNum+'"]').attr('readonly','true');
								}else{
		var exide = ($.trim($('input[name="cf_2289"]').val()) != "" && !isNaN($('input[name="cf_2289"]').val())) ? parseFloat($('input[name="cf_2289"]').val()) : 0.00;
		var amaron = ($.trim($('input[name="cf_2291"]').val()) != "" && !isNaN($('input[name="cf_2291"]').val())) ? parseFloat($('input[name="cf_2291"]').val()) : 0.00;
		var sf = ($.trim($('input[name="cf_2293"]').val()) != "" && !isNaN($('input[name="cf_2293"]').val())) ? parseFloat($('input[name="cf_2293"]').val()) : 0.00;
		var tgy = ($.trim($('input[name="cf_2295"]').val()) != "" && !isNaN($('input[name="cf_2295"]').val())) ? parseFloat($('input[name="cf_2295"]').val()) : 0.00;
		var amco = ($.trim($('input[name="cf_2297"]').val()) != "" && !isNaN($('input[name="cf_2297"]').val())) ? parseFloat($('input[name="cf_2297"]').val()) : 0.00;
		var livguard = ($.trim($('input[name="cf_2301"]').val()) != "" && !isNaN($('input[name="cf_2301"]').val())) ? parseFloat($('input[name="cf_2301"]').val()) : 0.00;
		var livfast = ($.trim($('input[name="cf_2303"]').val()) != "" && !isNaN($('input[name="cf_2303"]').val())) ? parseFloat($('input[name="cf_2303"]').val()) : 0.00;
		var other_organised = ($.trim($('input[name="cf_2327"]').val()) != "" && !isNaN($('input[name="cf_2327"]').val())) ? parseFloat($('input[name="cf_2327"]').val()) : 0.00;
		var other_unorganised = ($.trim($('input[name="cf_2329"]').val()) != "" && !isNaN($('input[name="cf_2329"]').val())) ? parseFloat($('input[name="cf_2329"]').val()) : 0.00;
		var centurian = ($.trim($('input[name="cf_2331"]').val()) != "" && !isNaN($('input[name="cf_2331"]').val())) ? parseFloat($('input[name="cf_2331"]').val()) : 0.00;
		$('input[name="cf_2333"]').val(exide + amaron + sf + tgy + amco + livguard + livfast + other_organised + other_unorganised + centurian);
		$('input[name="cf_2333"]').attr('readonly','true');
								}
				}
		});

		/*--End--ER--*/

	}
	/*if(sourceModule=="HelpDesk" && view=='odit')
	{
		jQuery(document).on('click','#HelpDesk_editView_fieldName_cf_nrl_servicecontracts843_id_select', function(e) {
		var organisation = $('input[name="parent_id"]').val();
		$.ajax(
                    {
                    type:"post",
                    url: "rahulAjax.php",
                    data: {id: organisation, action: 'getOrgName'},
				    dataType: 'json',
                    success:function(response)
                    {
						localStorage.setItem("temporg",response.orgname);
					}
					});
		});
	}*/
	if(sourceModule=="HelpDesk" && view=='Edit')
	{
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster913_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster913_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster913_id_display"]').attr('readonly',true);
							$('#HelpDesk_editView_fieldName_cf_nrl_plantmaster913_id_select').parent().remove();
							$('#HelpDesk_editView_fieldName_cf_nrl_plantmaster913_id_create').parent().remove();
						}
					}
					});
		$('input[name="cf_4790"]').attr('readonly','true');
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		jQuery(document).on('blur','input[name="cf_2991"]', function(e) {
			var serial = $(this).val();
			$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {serial: serial, action: 'getSerialWarrantyConsumerDetails'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.message == "")
						{
							$('input[name="cf_nrl_servicecontracts843_id"]').val(response.warrantyno);
							$('input[name="cf_nrl_servicecontracts843_id_display"]').val(response.warranty);
							$('#HelpDesk_editView_fieldName_cf_nrl_servicecontracts843_id_select').closest('span').css('display','none');
							$('#HelpDesk_editView_fieldName_cf_nrl_servicecontracts843_id_create').closest('span').css('display','none');
							$('input[name="cf_4228"]').val(response.mfgdate);
							$('input[name="cf_4230"]').val(response.selldate);
							$('input[name="cf_4238"]').val(response.cp);
							$('input[name="cf_nrl_plantmaster913_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster913_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster913_id_display"]').attr('readonly',true);
							$('#HelpDesk_editView_fieldName_cf_nrl_plantmaster913_id_select').parent().remove();
							$('#HelpDesk_editView_fieldName_cf_nrl_plantmaster913_id_create').parent().remove();
							$('input[name="cf_4232"]').val(response.productcode);
							$('input[name="product_id"]').val(response.productid);
							$('input[name="product_id_display"]').val(response.productname);
							$('#HelpDesk_editView_fieldName_product_id_select').closest('span').css('display','none');
							$('#HelpDesk_editView_fieldName_product_id_create').closest('span').css('display','none');
							$('input[name="cf_4234"]').val(response.productgroup);
							$('input[name="cf_4236"]').val(response.productcategory);
							if(response.productcategory == '4W' || response.productcategory == '2W')
							{
								$('#Electrical_Performance_of_the_Vehicle_at_the_time_of_Fitment_divblock').show();
								$('#Inverter_Details_divblock').hide();
								$('#Electrical_Performance_of_E_Rickshaw_at_the_time_of_Fitment_divblock').hide();
							}
							else if(response.productcategory == 'IB')
							{
								$('#Electrical_Performance_of_the_Vehicle_at_the_time_of_Fitment_divblock').hide();
								$('#Inverter_Details_divblock').show();
								$('#Electrical_Performance_of_E_Rickshaw_at_the_time_of_Fitment_divblock').hide();
							}
							else if(response.productcategory == 'ER')
							{
								$('#Electrical_Performance_of_the_Vehicle_at_the_time_of_Fitment_divblock').hide();
								$('#Inverter_Details_divblock').hide();
								$('#Electrical_Performance_of_E_Rickshaw_at_the_time_of_Fitment_divblock').show();
							}
							$('input[name="cf_4240"]').val(response.sellperiod);
							$('input[name="cf_4848"]').val(response.eaplsellperiod);
							$('input[name="cf_4242"]').val(response.wfreeperiod);
							$('input[name="cf_4244"]').val(response.wprorataperiod);
							$('input[name="cf_4268"]').val(response.cfreedate);
							$('input[name="cf_4270"]').val(response.cproratadate);
							$('input[name="cf_4272"]').val(response.afreedate);
							$('input[name="cf_4274"]').val(response.aproratadate);
							$('input[name="cf_4250"]').val(response.consumer);
							$('input[name="cf_4254"]').val(response.mail);
							$('input[name="cf_4256"]').val(response.mobile);
							$('input[name="cf_4280"]').val(response.street);
							$('input[name="cf_4282"]').val(response.po);
							$('input[name="cf_4284"]').val(response.city);
							$('input[name="cf_4286"]').val(response.state);
							$('input[name="cf_4288"]').val(response.zip);
							$('input[name="cf_4290"]').val(response.country);
							$('input[name="cf_4258"]').val(response.ppoint);
							$('input[name="cf_4260"]').val(response.pplace);
							$('input[name="cf_4262"]').val(response.pdis);
							$('input[name="cf_4264"]').val(response.pstate);
							$('input[name="cf_4252"]').val(response.purchasedate);
							$('input[name="cf_4246"]').val(response.stage);
							$('input[name="cf_4248"]').val(response.status);
							$('input[name="cf_4543"]').val(response.vehiclemake);
							$('input[name="cf_4545"]').val(response.modelno);
							$('input[name="cf_4547"]').val(response.voltagewithoutload);
							$('input[name="cf_4549"]').val(response.acligthsload);
							$('input[name="cf_4551"]').val(response.leakage);
							$('input[name="cf_4553"]').val(response.OEFitment);
							$('input[name="cf_4555"]').val(response.datecheckap);
							$('input[name="cf_4557"]').val(response.installdp);
							$('input[name="cf_5049"]').val(response.invertermodel);
							$('input[name="cf_4559"]').val(response.invertermake);
							$('input[name="cf_4561"]').val(response.capacity);
							$('input[name="cf_4563"]').val(response.sysvoltage);
							$('input[name="cf_4565"]').val(response.dcvoltagerate);
							$('input[name="cf_4567"]').val(response.charge);
							$('input[name="cf_4569"]').val(response.discharge);
							$('input[name="cf_4571"]').val(response.line);
							$('input[name="cf_4573"]').val(response.inverterop);
							$('input[name="cf_4575"]').val(response.drivermotor);
							$('input[name="cf_4577"]').val(response.controlsys);
							$('input[name="cf_4579"]').val(response.amps);
							$('input[name="cf_4581"]').val(response.erleakage);
							$('input[name="cf_4583"]').val(response.extra);
							$('input[name="cf_4585"]').val(response.datecheck);
							$('input[name="cf_4587"]').val(response.make);
							$('input[name="cf_4589"]').val(response.modeltype);
							$('input[name="cf_4591"]').val(response.my);
							$('input[name="cf_4593"]').val(response.life);
							$('input[name="cf_4923"]').val(response.invoiceno);
							
							$('input[name="cf_4923"]').attr('readonly',true);		
							$('input[name="cf_5049"]').prop('readonly',true);
							$('input[name="cf_4543"]').prop('readonly','true');
							$('input[name="cf_4848"]').prop('readonly','true');
							$('input[name="cf_4545"]').prop('readonly','true');
							$('input[name="cf_4547"]').prop('readonly','true');
							$('input[name="cf_4549"]').prop('readonly','true');
							$('input[name="cf_4551"]').prop('readonly','true');
							$('input[name="cf_4553"]').prop('readonly','true');
							$('input[name="cf_4555"]').prop('readonly','true');
							$('input[name="cf_4557"]').prop('readonly','true');
							$('input[name="cf_4559"]').prop('readonly','true');
							$('input[name="cf_4561"]').prop('readonly','true');
							$('input[name="cf_4563"]').prop('readonly','true');
							$('input[name="cf_4565"]').prop('readonly','true');
							$('input[name="cf_4567"]').prop('readonly','true');
							$('input[name="cf_4569"]').prop('readonly','true');
							$('input[name="cf_4571"]').prop('readonly','true');
							$('input[name="cf_4573"]').prop('readonly','true');
							$('input[name="cf_4575"]').prop('readonly','true');
							$('input[name="cf_4577"]').prop('readonly','true');
							$('input[name="cf_4579"]').prop('readonly','true');
							$('input[name="cf_4581"]').prop('readonly','true');
							$('input[name="cf_4583"]').prop('readonly','true');
							$('input[name="cf_4585"]').prop('readonly','true');
							$('input[name="cf_4587"]').prop('readonly','true');
							$('input[name="cf_4589"]').prop('readonly','true');
							$('input[name="cf_4591"]').prop('readonly','true');
							$('input[name="cf_4593"]').prop('readonly','true');
							$('input[name="cf_4228"]').prop('readonly','true');
							$('input[name="cf_4230"]').prop('readonly','true');
							$('input[name="cf_4238"]').prop('readonly','true');
							$('input[name="cf_4232"]').prop('readonly','true');
							$('input[name="cf_4234"]').prop('readonly','true');
							$('input[name="cf_4236"]').prop('readonly','true');
							$('input[name="cf_4240"]').prop('readonly','true');
							$('input[name="cf_4242"]').prop('readonly','true');
							$('input[name="cf_4244"]').prop('readonly','true');
							$('input[name="cf_4268"]').prop('readonly','true');
							$('input[name="cf_4270"]').prop('readonly','true');
							$('input[name="cf_4272"]').prop('readonly','true');
							$('input[name="cf_4274"]').prop('readonly','true');
							$('input[name="cf_4250"]').prop('readonly','true');
							$('input[name="cf_4254"]').prop('readonly','true');
							$('input[name="cf_4256"]').prop('readonly','true');
							$('input[name="cf_4280"]').prop('readonly','true');
							$('input[name="cf_4282"]').prop('readonly','true');
							$('input[name="cf_4284"]').prop('readonly','true');
							$('input[name="cf_4286"]').prop('readonly','true');
							$('input[name="cf_4288"]').prop('readonly','true');
							$('input[name="cf_4290"]').prop('readonly','true');
							$('input[name="cf_4258"]').prop('readonly','true');
							$('input[name="cf_4260"]').prop('readonly','true');
							$('input[name="cf_4262"]').prop('readonly','true');
							$('input[name="cf_4264"]').prop('readonly','true');
							$('input[name="cf_4252"]').prop('readonly','true');
							$('input[name="cf_4246"]').prop('readonly','true');
							$('input[name="cf_4248"]').prop('readonly','true');
							$('input[name="cf_nrl_servicecontracts843_id_display"]').prop('readonly','true');
							$('input[name="product_id_display"]').prop('readonly','true');
						}
						else
						{
							alert(response.message);
							window.location.reload();
						}
					}
					});
		});
	}

	if(sourceModule=="ServiceContracts" && view=='Edit')
	{
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster460_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster460_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster460_id_display"]').attr('readonly',true);
							$('#ServiceContracts_editView_fieldName_cf_nrl_plantmaster460_id_select').parent().remove();
							$('#ServiceContracts_editView_fieldName_cf_nrl_plantmaster460_id_create').parent().remove();
						}
					}
					});
		jQuery(document).on('blur','input[name="cf_3628"]', function(e) {
			var type = $('select[name="cf_3707"]').val();
			if(type == "Fresh")
			{
				var serial = $(this).val();
				$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {serial: serial, action: 'getSerialNoDetails'},
						dataType: 'json',
						success:function(response)
						{
							if(response.message == "")
							{
								var serialno = response.serialno;
								$.ajax(
									{
									type:"post",
									url: "rahulAjax.php",
									data: {id: serialno, action: 'getAllDetails'},
									dataType: 'json',
									success:function(response)
									{
										$('input[name="cf_2989"]').val(response.manufacturingdate);
										$('input[name="cf_2971"]').val(response.sellingdate);
										$('input[name="cf_3615"]').val(response.customer);
										$('input[name="cf_4921"]').val(response.invoiceno);
										$('input[name="cf_4921"]').attr('readonly',true);
										$('input[name="cf_nrl_plantmaster460_id"]').val(response.plantid);
										$('input[name="cf_nrl_plantmaster460_id_display"]').val(response.plantname);
										$('input[name="cf_nrl_plantmaster460_id_display"]').attr('readonly',true);
										$('#ServiceContracts_editView_fieldName_cf_nrl_plantmaster460_id_select').parent().remove();
										$('#ServiceContracts_editView_fieldName_cf_nrl_plantmaster460_id_create').parent().remove();
										$('input[name="cf_2973"]').val(response.productcode);
										$('input[name="cf_nrl_products997_id"]').val(response.productid);
										$('input[name="cf_nrl_products997_id_display"]').val(response.productname);
										$('input[name="cf_3709"]').val(response.productgroup);
										$('select[name="productcategory"]').select2('data', { id: response.productcategory, text: response.productcategory});
										if(response.productcategory == '4W' || response.productcategory == '2W')
										{
											$('#Electrical_Performance_of_the_Vehicle_at_the_time_of_Fitment_divblock').show();
											$('#Inverter_Details_divblock').hide();
											$('#Electrical_Performance_of_the_E_Rickshaw_at_the_Time_of_Fitment_divblock').hide();
										}
										if(response.productcategory == 'IB')
										{
											$('#Inverter_Details_divblock').show();
											$('#Electrical_Performance_of_the_Vehicle_at_the_time_of_Fitment_divblock').hide();
											$('#Electrical_Performance_of_the_E_Rickshaw_at_the_Time_of_Fitment_divblock').hide();
										}
										if(response.productcategory == 'ER')
										{
											$('#Electrical_Performance_of_the_E_Rickshaw_at_the_Time_of_Fitment_divblock').show();
											$('#Electrical_Performance_of_the_Vehicle_at_the_time_of_Fitment_divblock').hide();
											$('#Inverter_Details_divblock').hide();
										}
										$('select[name="productcategory"]').select2().select2('readonly','true');
										$('input[name="cf_3124"]').val(response.sellingtime);
										$('input[name="cf_3420"]').val(response.guaranteetime);
										$('input[name="cf_3126"]').val(response.warrantytime);
										$('input[name="cf_4846"]').val(response.eaplselltime);
										$('input[name="cf_4846"]').prop('readonly','true');
										$('input[name="cf_2989"]').prop('readonly','true');
										$('input[name="cf_2971"]').prop('readonly','true');
										$('input[name="cf_3615"]').prop('readonly','true');
										$('input[name="cf_2973"]').prop('readonly','true');
										$('input[name="cf_3709"]').prop('readonly','true');
										$('input[name="cf_3124"]').prop('readonly','true');
										$('input[name="cf_3126"]').prop('readonly','true');
										$('input[name="cf_3420"]').prop('readonly','true');
										$('input[name="cf_nrl_products997_id_display"]').prop('readonly','true');
										$('input[name="cf_nrl_products997_id_display"]').prop('readonly','true');
										$('#ServiceContracts_editView_fieldName_cf_nrl_products997_id_select').closest('span').css('display','none');
										$('#ServiceContracts_editView_fieldName_cf_nrl_products997_id_create').closest('span').css('display','none');
										var sellperiod = response.sellingtime;
										var saletime = response.eaplselltime;
										var warrantyperiod = response.guaranteetime;
										var warranty = response.warrantytime;
										var manufacturingdate = response.manufacturingdate;
										var eaplsaledate = response.sellingdate;

										jQuery(document).on('change','input[name="cf_3619"]', function(e) {
										var makedate = new Date(manufacturingdate.split('-')[2],manufacturingdate.split('-')[1]-1,manufacturingdate.split('-')[0]);
										var totalmonth = parseInt(sellperiod) + parseInt(warrantyperiod) + parseInt(warranty);
										makedate.setMonth(makedate.getMonth() + totalmonth);
										var dd = makedate.getDate();
										 if(dd<10)
										 {
											dd = '0'+dd;
										 }
										 var mm = makedate.getMonth() + 1;
										 if(mm<10)
										 {
											mm = '0'+mm;
										 }
										 var y = makedate.getFullYear();
										 var actual = dd + '-' + mm + '-' + y;
										 $('input[name="cf_2977"]').val(actual);
										 $('input[name="cf_2977"]').prop('readonly',true);

										 var makenewdate = new Date(manufacturingdate.split('-')[2],manufacturingdate.split('-')[1]-1,manufacturingdate.split('-')[0]);
										makenewdate.setMonth(makenewdate.getMonth() + parseInt(sellperiod));
										var dd = makenewdate.getDate();
										 if(dd<10)
										 {
											dd = '0'+dd;
										 }
										 var mm = makenewdate.getMonth() + 1;
										 if(mm<10)
										 {
											mm = '0'+mm;
										 }
										 var y = makenewdate.getFullYear();
										 var mdate = dd + '-' + mm + '-' + y;


										 var esdate = new Date(eaplsaledate.split('-')[2],eaplsaledate.split('-')[1]-1,eaplsaledate.split('-')[0]);
										esdate.setMonth(esdate.getMonth() + parseInt(saletime));
										var dd = esdate.getDate();
										 if(dd<10)
										 {
											dd = '0'+dd;
										 }
										 var mm = esdate.getMonth() + 1;
										 if(mm<10)
										 {
											mm = '0'+mm;
										 }
										 var y = esdate.getFullYear();
										 var esale = dd + '-' + mm + '-' + y;


										 var makeextenddate = new Date(manufacturingdate.split('-')[2],manufacturingdate.split('-')[1]-1,manufacturingdate.split('-')[0]);
										var totalmonthextend = parseInt(sellperiod) + parseInt(warrantyperiod);
										makeextenddate.setMonth(makeextenddate.getMonth() + totalmonthextend);
										var dd = makeextenddate.getDate();
										 if(dd<10)
										 {
											dd = '0'+dd;
										 }
										 var mm = makeextenddate.getMonth() + 1;
										 if(mm<10)
										 {
											mm = '0'+mm;
										 }
										 var y = makeextenddate.getFullYear();
										 var actualextend = dd + '-' + mm + '-' + y;
										 $('input[name="cf_3640"]').val(actualextend);
										 $('input[name="cf_3640"]').prop('readonly',true);

										 var sellingdate = $('input[name="cf_3619"]').val();
										 var selldate = new Date(sellingdate.split('-')[2],sellingdate.split('-')[1]-1,sellingdate.split('-')[0]);
										 var mtime = new Date(mdate.split('-')[2],mdate.split('-')[1]-1,mdate.split('-')[0]);
										 var esaletime = new Date(esale.split('-')[2],esale.split('-')[1]-1,esale.split('-')[0]);
										if(mtime<esaletime)
										{
											if(mtime<selldate)
											{
												$('input[name="cf_4768"]').prop('checked', true);
											}
											else
											{
												$('input[name="cf_4768"]').prop('checked', false);
											}
										}
										else
										{
											if(mtime>esaletime)
											{
												if(esaletime<selldate)
												{
													$('input[name="cf_4768"]').prop('checked', true);
												}
												else
												{
													$('input[name="cf_4768"]').prop('checked', false);
												}
											}
											else
											{
												$('input[name="cf_4768"]').prop('checked', false);
											}
										}
										 selldate.setMonth(selldate.getMonth() + parseInt(warrantyperiod) + parseInt(warranty));
										 selldate.setDate( selldate.getDate() - 1 );
										var dd = selldate.getDate();
										if(dd<10)
										{
											dd = '0'+dd;
										}
										var mm = selldate.getMonth() + 1;
										if(mm<10)
										{
											mm = '0'+mm;
										}
										var y = selldate.getFullYear();
										var customerexpirydate = dd + '-' + mm + '-' + y;
										$('input[name="cf_2975"]').val(customerexpirydate);
										$('input[name="cf_2975"]').prop('readonly',true);

										 var extenddate = new Date(sellingdate.split('-')[2],sellingdate.split('-')[1]-1,sellingdate.split('-')[0]);
										extenddate.setMonth(extenddate.getMonth() + parseInt(warrantyperiod));
										extenddate.setDate( extenddate.getDate() - 1 );
										var dd = extenddate.getDate();
										if(dd<10)
										{
											dd = '0'+dd;
										}
										var mm = extenddate.getMonth() + 1;
										if(mm<10)
										{
											mm = '0'+mm;
										}
										var y = extenddate.getFullYear();
										var customerexpire = dd + '-' + mm + '-' + y;
										$('input[name="cf_3638"]').val(customerexpire);
										$('input[name="cf_3638"]').prop('readonly',true);

										 var fullDate = new Date();
										var twoDigitMonth = (fullDate.getMonth()<10)? '0' + (fullDate.getMonth()+1):(fullDate.getMonth()+1);
										var currentDate = fullDate.getDate() + "-" + twoDigitMonth + "-" + fullDate.getFullYear();
										var customerexpiry = new Date(customerexpirydate.split('-')[2],customerexpirydate.split('-')[1]-1,customerexpirydate.split('-')[0]);
										var actualexpiry = new Date(actual.split('-')[2],actual.split('-')[1]-1,actual.split('-')[0]);
										var customerextend = new Date(customerexpire.split('-')[2],customerexpire.split('-')[1]-1,customerexpire.split('-')[0]);
										var actualexpiryextend = new Date(actualextend.split('-')[2],actualextend.split('-')[1]-1,actualextend.split('-')[0]);

										if(fullDate>customerexpiry)
										{
											var warrantystatus = "Expired";
											var wstatus = "Not Validated";
										}
										else if(customerextend<fullDate && fullDate<customerexpiry)
										{
											var warrantystatus = "Pro-Rata";
											var wstatus = "Validated";
										}
										/*else if(actualexpiry<customerexpiry)
										{
											var warrantystatus = "Old Code";
											var wstatus = "Not Validated";
										}*/
										else if(fullDate<actualexpiry)
										{
											var warrantystatus = "Free Replacement";
											var wstatus = "Validated";
										}
										if(($('input[name="cf_4768"]').is(":checked")) == true)
										{
											wstatus = "Not Validated";
										}
										var selectedValue = warrantystatus;
										$('select[name="contract_status"]').select2('data', { id: selectedValue, text: selectedValue});
										$('select[name="cf_3661"]').select2('data', { id: wstatus, text: wstatus});
										$('select[name="contract_status"]').select2().select2('readonly','true');
										$('select[name="cf_3661"]').select2().select2('readonly','true');
										});
									}
								});
							}
							else
							{
								alert(response.message);
								window.location.reload();
								//app.helper.showAlertNotification({'message': response.message});
							}
						}
						});
			}
			});
	}


  if(sourceModule=="PurchaseOrder" && view=='Edit')
	{
		$('[name="postatus"]').select2().select2('readonly',true);
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4605"]').select2().select2('readonly',true);
			$('[name="cf_4607"]').select2().select2('readonly',true);
			$('[name="cf_3653"]').datepicker("remove");
			$('[name="cf_3653"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4607"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4605"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3653"]').val(postingdate);
}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster950_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster950_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster950_id_display"]').attr('readonly',true);
							$('#PurchaseOrder_editView_fieldName_cf_nrl_plantmaster950_id_select').parent().remove();
							$('#PurchaseOrder_editView_fieldName_cf_nrl_plantmaster950_id_create').parent().remove();
							var yr = $('select[name="cf_4605"]').val();
							var month = $('select[name="cf_4607"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3653"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3653"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3653"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3653"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		
	

   
	
	if(recordid !="" && recordid != undefined)
	{
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {recordid: recordid, action: 'purchasePaymentDetails'},
				    dataType: 'json',
                    success:function(response)
                    {
						$('#advancePayment').val(response.advanceval);
						$('#debit').val(response.debitval);
						$('#credit').val(response.creditval);
						$('#advancePayment').attr('readonly','true');
						$('#debit').attr('readonly','true');
						$('#credit').attr('readonly','true');
var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			var advancepayment = $('#advancePayment').val();
			if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}
			/*var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}*/
			var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}
				if(adjusticon == '+')
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advancepayment));
				}
				else
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval)  + parseFloat(advancepayment));
				}
			$('#grandTotal').text(postgrand.toFixed(2));
					}
					});
		}
		jQuery(document).on('blur','#adjustment', function(e) {
			var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			var advancepayment = $('#advancePayment').val();
			if(advancepayment == '' || advancepayment == undefined || isNaN(advancepayment) == true)
			{
				advancepayment = 0;
			}
			/*var debitinv = $('#debit').val();
			if(debitinv == '' || debitinv == undefined || isNaN(debitinv) == true)
			{
				debitinv = 0;
			}*/
			var creditinv = $('#credit').val();
			if(creditinv == '' || creditinv == undefined || isNaN(creditinv) == true)
			{
				creditinv = 0;
			}
			
			
				if(adjusticon == '+')
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount)  + parseFloat(advancepayment));
				}
				else
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advancepayment));
				}
			$('#grandTotal').text(postgrand.toFixed(2));
		});
	jQuery(document).on('change','[name="advpay[]"]', function(e) {
			var payment = $('.optselect option:selected').toArray().map(item => item.text).join();
			var payval = payment.toString();
			var pay = payval.split(",");
			var len = pay.length;
			var pretax = $('#preTaxTotal').text();
			var tax = $('#tax_final').text();
			var taxcharge = $('#chargeTaxTotal').text();
			var deducttax = $('#deductTaxesTotalAmount').text();
			var adjusticon = $("input[name='adjustmentType']:checked").val();
			var adjustval = $('#adjustment').val();
			var schemediscount = $('#schemediscount').val();
			//var debitinv = $('#debit').val();
			var creditinv = $('#credit').val();
			if(adjusticon == '+')
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount));
			}
			else
			{
				var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval));
			}
			var grandtotal = $("#grandTotal").text();
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			var venadvpay = new Array();
			var j = 0;
			var total = 0;
			var sumtotal = 0;
			for(var i=0;i<len;i++)
			{
				var venpay = pay[i].split(' - ');
				if(venpay[1] != undefined)
				{
					total = parseFloat(adv) + parseFloat(venpay[1]);
					sumtotal = parseFloat(sumtotal) + parseFloat(venpay[1]);
					
				}
			}
			var adv = $('#advPayment').val();
			if(adv == "" || adv == undefined)
			{
				adv = 0;
			}
			if(parseFloat(sumtotal)<= parseFloat(adv))
			{
						$('#adv').text("");
			}
			if((parseFloat(sumtotal) > parseFloat(venpay[1])) || (parseFloat(postgrand) > parseFloat(total)))
					{
						grandtotal = parseFloat(postgrand) - parseFloat(sumtotal);	
						$('#advancePayment').val(parseFloat(sumtotal) + parseFloat(apps));
						$('#advPayment').val(parseFloat(sumtotal) + parseFloat(apps));
						j++;
					}
					else
					{
						$('#adv').text("You cannot set advance payment here, because grandtotal value less than advancepayment");
					}
			$("#grandTotal").text(grandtotal.toFixed(2));
		});
			/*jQuery(document).on('change','[name="advdebitpay[]"]', function(e) {
				var payment = $('.optdebitselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var pretax = $('#preTaxTotal').text();
				var tax = $('#tax_final').text();
				var taxcharge = $('#chargeTaxTotal').text();
				var deducttax = $('#deductTaxesTotalAmount').text();
				var adjusticon = $("input[name='adjustmentType']:checked").val();
				var adjustval = $('#adjustment').val();
				var schemediscount = $('#schemediscount').val();
				var advanceval = $('#advancePayment').val();
				var creditinv = $('#credit').val();
				if(adjusticon == '+')
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advanceval));
				}
				else
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(creditinv)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advanceval));
				}	
				var grandtotal = $("#grandTotal").text();
				var deb = $('#deb').val();
				if(deb == "" || deb == undefined)
				{
					deb = 0;
				}		
				var vendebpay = new Array();
				var j = 0;
				var total = 0;
				var sumtotal = 0;
				for(var i=0;i<len;i++)
				{
					var debitarr = pay[i].split(' - ');
					if(debitarr[1] != undefined)
					{
						total = parseFloat(deb) + parseFloat(debitarr[1]);
						sumtotal = parseFloat(sumtotal) + parseFloat(debitarr[1]);
						if((parseFloat(grandtotal) > parseFloat(debitarr[1])) || (parseFloat(postgrand) > parseFloat(total)))
						{
							vendebpay[j] = debitarr[1];
							j++;
						}
						else
						{
							$('#dnote').text("You cannot set this debit note here, because grandtotal value less than Debit amount");
						}
					}
				}
				var deb = $('#deb').val();
				if(deb == "" || deb == undefined)
				{
					deb = 0;
				}
				if(parseFloat(sumtotal)<parseFloat(deb))
				{
							vendebpay[j] = debitarr[1];
							j++;
							$('#dnote').text("");
				}
				grandtotal = parseFloat(postgrand) - parseFloat(sumtotal);	
				$('#debit').val(sumtotal);
				$('#deb').val(sumtotal);
				$("#grandTotal").text(grandtotal.toFixed(2));
			});*/
			jQuery(document).on('change','[name="advcreditpay[]"]', function(e) {
				var payment = $('.optcreditselect option:selected').toArray().map(item => item.text).join();
				var payval = payment.toString();
				var pay = payval.split(",");
				var len = pay.length;
				var pretax = $('#preTaxTotal').text();
				var tax = $('#tax_final').text();
				var taxcharge = $('#chargeTaxTotal').text();
				var deducttax = $('#deductTaxesTotalAmount').text();
				var adjusticon = $("input[name='adjustmentType']:checked").val();
				var adjustval = $('#adjustment').val();
				var schemediscount = $('#schemediscount').val();
				var advanceval = $('#advancePayment').val();
				//var debitinv = $('#debit').val();
				if(adjusticon == '+')
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge) + parseFloat(adjustval)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(advanceval));
				}
				else
				{
					var postgrand = parseFloat(parseFloat(pretax) + parseFloat(tax) + parseFloat(taxcharge)) - (parseFloat(deducttax) + parseFloat(schemediscount) + parseFloat(adjustval) + parseFloat(advanceval));
				}
				var grandtotal = $("#grandTotal").text();
				var vencrepay = new Array();
				var j = 0;
				for(var i=0;i<len;i++)
				{
					var creditarr = pay[i].split(' - ');
					if(creditarr[1] != undefined)
					{
						vencrepay[j] = creditarr[1];
						j++;
					}
					/*else
					{
						var cre = $('#cre').val();
						if(cre == "" || cre == undefined)
						{
							cre = 0;
						}
						var credit = $('#credit').val(); 
						if(credit == "" || credit == undefined)
						{
							credit = 0;
						}
						var total = parseFloat(grandtotal) - parseFloat(cre);
						$("#grandTotal").text(total);
						credit = parseFloat(credit) - parseFloat(cre);
						$('#credit').val(credit);
					}*/
				}
				/*var cre = $('#cre').val();
				if(cre == "" || cre == undefined)
				{
					cre = 0;
				}		
				var credit = $('#credit').val(); 
				if(credit == "" || credit == undefined)
				{
					credit = 0;
				}
				grandtotal = parseFloat(grandtotal) - parseFloat(credit);*/
				grandtotal = parseFloat(postgrand) + parseFloat(sumtotal);	
				$('#credit').val(sumtotal);
				$('#cre').val(sumtotal);
				$("#grandTotal").text(grandtotal.toFixed(2));
			});
	jQuery(document).on('change','[name^=cf_4605]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4607"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var reference = $('[name="cf_2712"]').val();
					if(reference == 'Reference to STR')
					{
						var plant = $('input[name="cf_nrl_plantmaster953_id"]').val();
					}
					else
					{
						var plant = $('input[name="cf_nrl_plantmaster950_id"]').val();
					}
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3653"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3653"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3653"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3653"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4607]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4605"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var reference = $('[name="cf_2712"]').val();
					if(reference == 'Reference to STR')
					{
						var plant = $('input[name="cf_nrl_plantmaster953_id"]').val();
					}
					else
					{
						var plant = $('input[name="cf_nrl_plantmaster950_id"]').val();
					}
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3653"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3653"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3653"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3653"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
jQuery(document).on('blur','[name="inr_exchange_rate"]', function(e) {
  var inrex = $(this).val();
  if(inrex==undefined || inrex==''){
    inrex = 0;
  }
  $('[name^="listPrice"]').each(function(){
    var dataid = $(this).prop('id');
    var tlenght = dataid.length;
    var ids = dataid.substr(9,tlenght);
    var vals = $(this).val();
    if(vals==undefined || vals==''){
      vals = 0;
    }
    var datasval = parseFloat(vals) * parseFloat(inrex);
    $('[name="inr_rate'+ids+'"]').val(datasval);
  });
});


jQuery(document).on('blur','[name^="listPrice"]', function(e) {
  var dataid = $(this).prop('id');
  var tlenght = dataid.length;
  var ids = dataid.substr(9,tlenght);
  var vals = $(this).val();
  if(vals==undefined || vals==''){
    vals = 0;
  }
  var inrex = $('[name="inr_exchange_rate"]').val();
  if(inrex==undefined || inrex==''){
    inrex = 0;
  }
  var datasval = parseFloat(vals) * parseFloat(inrex);
  $('[name="inr_rate'+ids+'"]').val(datasval);
});


    jQuery(document).on('change','[name="cf_4300"]', function(e) {
  	var data = jQuery('[name="cf_4300"]').select2('data').id;
    if(data=="Second Next Month"){
    jQuery('[name="cf_2709"]').select2('data',{ id:"Provisional", text: "Provisional"});
    }else{
    jQuery('[name="cf_2709"]').select2('data',{ id:"Stock Item", text: "Stock Item"});
    }
    });


    jQuery(document).on('change','[name="cf_2709"]', function(e) {
  	var data = jQuery('[name="cf_2709"]').select2('data').id;
    if(data=="Stock Item"){
    jQuery('[name="cf_4300"]').select2('data',{ id:"Next Month", text: "Next Month"});
    }else{
    jQuery('[name="cf_4300"]').select2('data',{ id:"Second Next Month", text: "Second Next Month"});
    }
    });

	jQuery(document).on('change','[name="cf_2709"]', function(e) {
	var data = jQuery('[name="cf_2709"]').select2('data').id;
 if(data=='Service Order'){
jQuery('#addProduct').prop("disabled",true);
jQuery('[name="lineItemType1"]').val('Services');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').html('<i class="vicon-services" title="Services"></i>');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').attr('data-popup','ServicesPopup');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').prop('title','Services');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').attr('data-module-name','Services');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').attr('data-field-name','serviceid');
 }else{
jQuery('#addProduct').prop("disabled",false);
jQuery('[name="lineItemType1"]').val('Products');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').html('<i class="vicon-products" title="Products"></i>');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').attr('data-popup','ProductsPopup');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').prop('title','Products');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').attr('data-module-name','Products');
jQuery('table#lineItemTab > tbody > tr:nth-child(3) > td:nth-child(2)').find('span.lineItemPopup').attr('data-field-name','productid');

 }
  });
  }
 if(sourceModule=="GoodsReceipt" && view=='Edit')
 {
	 $('[name="cf_4824"]').select2().select2('readonly',true);
	 if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4613"]').select2().select2('readonly',true);
			$('[name="cf_4615"]').select2().select2('readonly',true);
			$('[name="cf_3223"]').datepicker("remove");
			$('[name="cf_3223"]').attr("readonly",true);
		}
	 if(recordid == "" || recordid == undefined)
	 {
	 var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4615"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4613"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3223"]').val(postingdate);
	 }
	 $.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster388_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster388_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster388_id_display"]').attr('readonly',true);
							$('#GoodsReceipt_editView_fieldName_cf_nrl_plantmaster388_id_select').parent().remove();
							$('#GoodsReceipt_editView_fieldName_cf_nrl_plantmaster388_id_create').parent().remove();
							var d = new Date();
							var curmonth = d.getMonth()+1;
							var curday = d.getDate();
							var curyear = d.getFullYear();
							var yr = $('select[name="cf_4613"]').val();
							var month = $('select[name="cf_4615"]').val();
							var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3223"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3223"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3223"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3223"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
	 if(recordid != "" || recordid != undefined)
	 {
		$.ajax(
					{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
					});
	 }
	 
	
	jQuery(document).on('change','[name^=cf_4613]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4615"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster388_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3223"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3223"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3223"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3223"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4615]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4613"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster388_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3223"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3223"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3223"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3223"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
 }
	if(sourceModule=="QualityInspection" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4609"]').select2().select2('readonly',true);
			$('[name="cf_4611"]').select2().select2('readonly',true);
			$('[name="cf_3227"]').datepicker("remove");
			$('[name="cf_3227"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4611"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4609"]').select2('data', { id: year, text: year});
	
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3227"]').val(postingdate);
		}
	
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster114_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster114_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster114_id_display"]').attr('readonly',true);
							$('#QualityInspection_editView_fieldName_cf_nrl_plantmaster114_id_select').parent().remove();
							$('#QualityInspection_editView_fieldName_cf_nrl_plantmaster114_id_create').parent().remove();
							var yr = $('select[name="cf_4609"]').val();
	var month = $('select[name="cf_4611"]').val();
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3227"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3227"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3227"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3227"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});	
						}
					}
					});
	
	jQuery(document).on('change','[name^="cf_1808"]', function(e) {
		var val = $(this).val();
		var name = $(this).attr("name");
		var namelen = name.split("_");
		var len = namelen.length;
		if(val == 'Yes')
		{
			if(len == '2')
			{
				$('select[name="cf_2983"]').select2('data', { id: 'S - Semiblocked', text: 'S - Semiblocked'});
				$('select[name="cf_2983"]').select2().select2('readonly','true');		
			}
			else
			{
				var id = namelen[len-1];
				$('select[name=cf_2983_'+id+']').select2('data', { id: 'S - Semiblocked', text: 'S - Semiblocked'});
				$('select[name=cf_2983_'+id+']').select2().select2('readonly','true');
			}
		}
		else
		{
			if(len == '2')
			{
				$('select[name="cf_2983"]').select2().select2('readonly',false);		
			}
			else
			{
				var id = namelen[len-1];
				$('select[name=cf_2983_'+id+']').select2().select2('readonly',false);
			}
		}
	});
    jQuery(document).on('change','[name="cf_3648"]', function(e) {
      if($(this).prop("checked")==true){
        var pqty = $('[name="cf_1677"]').val();
        localStorage.setItem("passedqty",pqty);
         $('[name="cf_1677"]').val(0);
      }else{
        $('[name="cf_1677"]').val(localStorage.getItem("passedqty"));
      }
    });

	jQuery(document).on('change','[name^=cf_4609]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4611"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster114_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3227"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3227"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3227"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3227"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4611]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4609"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster114_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3227"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3227"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3227"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3227"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});

	jQuery(document).on('change','[name^="cf_2983"]', function(e) {
	var datas = $('#totalRowCount_Quality_Inspection_Lineitem').val();
	var ndat = datas.split(",");
	var ncount = 0;
	$.each(ndat,function(index,value){

	var data = $('[name="cf_2983_'+value+'"]').val();
	if(data=="B - Blocked"){
	ncount++;
	}

	});
	var max = $("[name='cf_1675']").prop("max");
	var rct = parseInt(max) - parseInt(ncount);
	$("[name='cf_1677']").val(rct);
	$("[name='cf_1677']").prop("readonly","true");
	});



	jQuery(document).on('keyup','#QualityInspection_editView_fieldName_cf_1675', function(e) {
	var nos  = $(this).val();
  if(nos==undefined || nos=="" || nos==null){
    nos  = 0;
  }
  var productid = $('[name="cf_nrl_products913_id"]').val();
  var reference = $('[name="cf_3071"]').select2('data').id;
  if(reference=='With respect to Inbound Delivery'){

  var ibdno = $('[name="cf_nrl_inbounddelivery39_id"]').val();
	if(ibdno!="" && productid!=""){
   
	$.ajax(
		{
		type:"post",
		url: "arocrmAjax.php",
		data: {nos:nos, ibdno: ibdno, productid : productid, action: 'getIBDLineItemforQI'},
		dataType: 'json',
		success:function(response)
		{
		$('table#Quality_Inspection_Lineitem > tbody').html('');
		$('table#Quality_Inspection_Lineitem > tbody').html(response.message);
		$('#tr_clone_add__Quality_Inspection_Lineitem').prop("disabled","true");
		$("#totalRowCount_Quality_Inspection_Lineitem").val(response.rowcount);
		$('.optionselect2').select2();
		$('#directMode_Quality_Inspection_Lineitem').val('1');

		}
		});

	}else{
	alert('Please select IBD Number / Product !!');
    window.location.reload();
	}
}else{

  var obdno = $('[name="cf_nrl_outbounddelivery220_id"]').val();
	if(obdno!="" && productid!=""){

	$.ajax(
		{
		type:"post",
		url: "arocrmAjax.php",
		data: {nos:nos, obdno: obdno, productid : productid, action: 'getOBDLineItemforQI'},
		dataType: 'json',
		success:function(response)
		{
		$('table#Quality_Inspection_Lineitem > tbody').html('');
		$('table#Quality_Inspection_Lineitem > tbody').html(response.message);
		$('#tr_clone_add__Quality_Inspection_Lineitem').prop("disabled","true");
		$("#totalRowCount_Quality_Inspection_Lineitem").val(response.rowcount);
		$('.optionselect2').select2();
		$('#directMode_Quality_Inspection_Lineitem').val('1');
		}
		});

	}else{
	alert('Please select OBD Number / Product !!');
    window.location.reload();
	}

}


	});
	}
	if(sourceModule=="GoodsIssue" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4633"]').select2().select2('readonly',true);
			$('[name="cf_4635"]').select2().select2('readonly',true);
			$('[name="cf_3229"]').datepicker("remove");
			$('[name="cf_3229"]').attr("readonly",true);
		}
		$('select[name="cf_4834"]').attr('readonly',true);
		$('select[name="cf_4927"]').attr('readonly',true);
	if(recordid == "" ||  recordid == undefined)
	{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4635"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4633"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3229"]').val(postingdate);
	}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster280_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster280_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster280_id_display"]').attr('readonly',true);
							$('#GoodsIssue_editView_fieldName_cf_nrl_plantmaster280_id_select').parent().remove();
							$('#GoodsIssue_editView_fieldName_cf_nrl_plantmaster280_id_create').parent().remove();
							var yr = $('select[name="cf_4633"]').val();
	var month = $('select[name="cf_4635"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3229"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3229"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3229"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3229"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});	
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
	
		jQuery(document).on('change','[name^=cf_4633]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster280_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3229"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3229"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3229"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_3229"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4635]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster280_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3229"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3229"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3229"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_3229"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	}
	
	
	if(sourceModule=="OutboundDelivery" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4629"]').select2().select2('readonly',true);
			$('[name="cf_4631"]').select2().select2('readonly',true);
			$('[name="cf_3225"]').datepicker("remove");
			$('[name="cf_3225"]').attr("readonly",true);
		}
		$('select[name="cf_4826"]').select2().select2('readonly',true);
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4631"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4629"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3225"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster625_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster625_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster625_id_display"]').attr('readonly',true);
							$('#OutboundDelivery_editView_fieldName_cf_nrl_plantmaster625_id_select').parent().remove();
							$('#OutboundDelivery_editView_fieldName_cf_nrl_plantmaster625_id_create').parent().remove();
							var yr = $('select[name="cf_4629"]').val();
	var month = $('select[name="cf_4631"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3225"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3225"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3225"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3225"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		
		jQuery(document).on('keyup','[name^=cf_2014]', function(e) {
			var delqty = $(this).val();
			var delqtyid = $(this).attr('id');
			var id = delqtyid.split("_");
			if(id.length == '3')
			{
				var last = id[id.length - 1];
				var lid = "_"+last;
			}
			else
			{
				var lid = "";
			}
			var price = $('input[name=cf_2020'+lid+']').val();
			var totalprice = parseFloat(delqty)*parseFloat(price);
			$('input[name=cf_4925'+lid+']').val(totalprice);
		});
		
		jQuery(document).on('change','[name^=cf_4629]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4631"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var reference = $('[name="cf_3067"]').val();
					if(reference == 'With Respect to STPO')
					{
						var plant = $('input[name="cf_nrl_plantmaster574_id"]').val();
					}
					else
					{
						var plant = $('input[name="cf_nrl_plantmaster625_id"]').val();
					}
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3225"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3225"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3225"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3225"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4631]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4629"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var reference = $('[name="cf_3067"]').val();
					if(reference == 'With Respect to STPO')
					{
						var plant = $('input[name="cf_nrl_plantmaster574_id"]').val();
					}
					else
					{
						var plant = $('input[name="cf_nrl_plantmaster625_id"]').val();
					}
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3225"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3225"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3225"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3225"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('keyup','[name^=cf_2014_]', function(e) {
     var tmpid = $(this).prop('id');
	 var tpid = tmpid.split('_');
	 var id = tpid[tpid.length - 1];
	 $('#trows'+id).val($(this).val());
	 localStorage.removeItem("chkserial");
	 $('#cf_3076_'+id).html('');
	$('#cf_3078_'+id).html('');
	});


	jQuery(document).on('click','.save_sno', function(e) {
	var ids = $(this).prop('id');
	var tm = ids.split("_");
	var id = tm[1];
	$('#cf_3076_'+id).html(localStorage.getItem("chkserial"));
	$('#cf_3078_'+id).html(localStorage.getItem("chkserial"));
	$('#myModal'+id).modal('toggle');
	localStorage.removeItem("chkserial");
	});

	jQuery(document).on('change','.serialchk', function(e) {
		var va = $(this).val();
		var seq = localStorage.getItem("lineseq");
		var trows = $('#cf_2014_'+seq).val();
		var content = localStorage.getItem("chkserial")==null || localStorage.getItem("chkserial")==undefined ? "":localStorage.getItem("chkserial");
		if($(this).prop("checked")==true){
		if(content==""){
		content = va;
		}else{
		content = content + "," + va;
		}
		var explodes = content.split(",");
		if(explodes.length <= trows){
		localStorage.setItem("chkserial",content);
		}else{
		alert("Maximum Allocation Reached");
		$(this).prop("checked",false);
		}
		}else{
		var explodes = content.split(",");
		if(explodes.length == 1){
		content = content.replace(va,'');
		}else{
		content = content.replace(','+va,'');
		}
		localStorage.setItem("chkserial",content);
		}
	});

	jQuery(document).on('click','.selectserialwindow', function(e) {
	$('.saveButton').removeAttr('disabled');
	localStorage.removeItem("chkserial");
	var ids = $(this).prop('id');
	var id = ids.substr('9',ids.length);
	localStorage.setItem("chkserial",$('[name=cf_3076_'+id+']').val());
	var plant = '';
	var products = $('[name=cf_2006_'+id+']').val();
	var storageloc = $('[name=cf_2010_'+id+']').val();
	
	var refs = $('[name=cf_3067]').val();
	if(refs=='With Respect to STPO'){
	plant = $('[name="cf_nrl_plantmaster574_id"]').val();
	}else{
    plant = $('[name="cf_nrl_plantmaster625_id"]').val();
	}
	
	if(plant=="" || products=="" || storageloc==""){
	var message = "Please select Plant, Product and Storage Location";
    alert(message);
	$('#myModal'+id).modal('toggle');
	}else{

	var nosid = parseInt($('[name=cf_2014_'+id+']').val());
	var serialnos = $('[name=cf_3076_'+id+']').val();
		$.ajax(
		{
		type:"post",
		url: "arocrmAjax.php",
		data: {id:id, plant:plant, products:products, storageloc:storageloc, totalno: nosid, serialnos : serialnos, action: 'getPopulatedSerialNumber'},
		dataType: 'json',
		success:function(response)
		{
		$('.modal-body'+id).html(response.message);
		localStorage.setItem("lineseq",id);
		}
		});
	}

	});

	}
  
  
  if((sourceModule=="Quotes" || sourceModule=="Invoice" || sourceModule=="PurchaseOrder" || sourceModule=="SalesOrder" || sourceModule=="Vendors" || sourceModule=="JourneyPlan" || sourceModule=="MarketAnalysis" || sourceModule=="SalesPlan" || sourceModule=="SalesBudget" || sourceModule=="SalesReturn" || sourceModule=="PurchaseReq" || sourceModule=="CustomerPayment" || sourceModule=="VendorPayment" || sourceModule=="AssemblyOrder" || sourceModule=="PurchaseReturnOrder" || sourceModule=="GoodsReceipt" || sourceModule=="GoodsIssue" || sourceModule=="StockRequisition" || sourceModule=="StockUpload")  && view=='Edit' && recordid>0)
	{
		$.ajax(
		{
		type:"post",
		url: "rahulAjax.php",
		data: {sourceModule: sourceModule, recordid: recordid, action: 'getWorkflowid'},
		dataType: 'json',
		success:function(response)
		{
		$("#submit_for_approval").val(response.message);
		}
		});
	}
    
	var assigned = $('select[name="assigned_user_id"]').val();
	$.ajax(
	{
	type:"post",
	url: "rahulAjax.php",
	data: {assigned: assigned, action: 'getAssignedProfile'},
	dataType: 'json',
	success:function(response)
	{
		var profileid = response.message;
		localStorage.setItem("profileid",profileid);
	}
	});

  if((sourceModule=="Quotes" || sourceModule=="Invoice" || sourceModule=="PurchaseOrder" || sourceModule=="SalesOrder"  || sourceModule=="Vendors" || sourceModule=="SalesPlan" || sourceModule=="JourneyPlan" || sourceModule=="MarketAnalysis" || sourceModule=="SalesPlan" || sourceModule=="SalesBudget" || sourceModule=="SalesReturn" || sourceModule=="PurchaseReq" || sourceModule=="CustomerPayment" || sourceModule=="VendorPayment" || sourceModule=="AssemblyOrder" || sourceModule=="PurchaseReturnOrder" || sourceModule=="GoodsReceipt" || sourceModule=="GoodsIssue" || sourceModule=="StockRequisition" || sourceModule=="StockUpload" || sourceModule=="OutboundDelivery" || sourceModule=="InboundDelivery")  && view=='Edit')
	{
		
		jQuery(window).load(function(){
		var profileid = localStorage.getItem("profileid");
		$.ajax(
		{
		type:"post",
		url: "rahulAjax.php",
		data: {sourceModule: sourceModule, profileid : profileid, action: 'getModuleApprovalMatrix'},
		dataType: 'json',
		success:function(response)
		{
		localStorage.setItem("approvalmatrix",JSON.stringify(response));
		}
		});
		});

     jQuery(document).on('click','#salesplan-messege-cancel',function(e){
      $('#myModal').modal('hide');
    });


   jQuery(document).on('click','#salesplan-messege-ok',function(e){
    jQuery('form#EditView').submit();
    });  
	

jQuery(document).on('submit','form#EditView',function(){
if(sourceModule == "SalesOrder" && view=='Edit'){
	 var advdiscountallow = $('[name="cf_5207"]').val();
	 if(advdiscountallow == 'Yes')
	 {
			var balance = $('[name="balance"]').val();
			if(balance != '0.00')
			{
			  alert("You cannot give cash discount 2% on Advance Payment here, Please select No");
			  return false;
			}
	 }
}


if(sourceModule=="Invoice" && view=='Edit'){
	var advdiscountallow = $('[name="cf_5209"]').val();
	 if(advdiscountallow == 'Yes')
	 {
			var balance = $('[name="balance"]').val();
			if(balance != '0.00')
			{
			  alert("You cannot give cash discount 2% on Advance Payment here, Please select No");
			  return false;
			}
	 }
}
if(sourceModule=="OutboundDelivery" && view=='Edit'){
var ref = $('[name="cf_3067"]').val();
if(ref=='With respect to Sales Order'){
var rwcount = $('#totalRowCount_Line_Item').val();
var t = 0;
var exrw = rwcount.split(",");
$.each(exrw,function(index,values){
var qty = $("#cf_2014_"+values).val();
var teser = $("#cf_3076_"+values).val();
if(teser==''){
teser = '';	
}
var srt = teser.split(",");
var tlen = srt.length;
if(tlen==undefined || tlen==''){
tlen = 0;
}
if(parseInt(qty)!=tlen){
t = 1;
}
});
if(t==1)
{
alert("Serial number count does not match with total quantity");
return false;
}
}
}


if(sourceModule=="SalesBudget" && view=='Edit')
	{
	
		var rownumer = $('#totalRowCount_Category_Wise').val();
		var rowerArray = rownumer.split(",");
		var rowerLength = rowerArray.length;
		var flager = 0;
				for(var i =1; i<=rowerLength; i++)
				{
					var totaler = $('input[name="cf_4415_'+i+'"]').val();
					var apriler = $('input[name="cf_4419_'+i+'"]').val();
					if(apriler=="" || apriler==undefined)
					{
						apriler = 0.00;
					}
					var mayer = $('input[name="cf_4425_'+i+'"]').val();
					if(mayer=="" || mayer==undefined)
					{
						mayer = 0.00;
					}
					var juneer = $('input[name="cf_4439_'+i+'"]').val();
					if(juneer=="" || juneer==undefined)
					{
						juneer = 0.00;
					}
					var julyer = $('input[name="cf_4461_'+i+'"]').val();
					if(julyer=="" || julyer==undefined)
					{
						julyer = 0.00;
					}
					var auger = $('input[name="cf_4467_'+i+'"]').val();
					if(auger=="" || auger==undefined)
					{
						auger = 0.00;
					}
					var seper = $('input[name="cf_4473_'+i+'"]').val();
					if(seper=="" || seper==undefined)
					{
						seper = 0.00;
					}
					var octer = $('input[name="cf_4479_'+i+'"]').val();
					if(octer=="" || octer==undefined)
					{
						octer = 0.00;
					}
					var nover = $('input[name="cf_4485_'+i+'"]').val();
					if(nover=="" || nover==undefined)
					{
						nover = 0.00;
					}
					var decer = $('input[name="cf_4491_'+i+'"]').val();
					if(decer=="" || decer==undefined)
					{
						decer = 0.00;
					}
					var janer = $('input[name="cf_4497_'+i+'"]').val();
					if(janer=="" || janer==undefined)
					{
						janer = 0.00;
					}
					var feber = $('input[name="cf_4503_'+i+'"]').val();
					if(feber=="" || feber==undefined)
					{
						feber = 0.00;
					}
					var marer = $('input[name="cf_4509_'+i+'"]').val();
					if(marer=="" || marer==undefined)
					{
						marer = 0.00;
					}
					var aller = parseFloat(apriler) + parseFloat(mayer) + parseFloat(juneer) + parseFloat(julyer) + parseFloat(auger) + parseFloat(seper) + parseFloat(octer) + parseFloat(nover) + parseFloat(decer) + parseFloat(janer) +parseFloat(feber) + parseFloat(marer);
					if(totaler != aller)
					{
						flager = 1;
					}
				}
			if(flager != '0')
			{
			alert("Check All months total value less than Total budgeted Sales amount");
			return false;
			}
	
	}
	
	

	if(sourceModule=="InboundDelivery" && view=='Edit'){
	var rwcount = $('#totalRowCount_Line_Item').val();
	var t = 0;
	var exrw = rwcount.split(",");
	$.each(exrw,function(index,values){
	var qty = $("#cf_2878_"+values).val();
	var teser = $("#cf_2888_"+values).val();
	var srt = teser.split(",");
	if(parseInt(qty)!=srt.length){
		t = 1;
	}
	});



	   if(t==1)
	   {
     	alert("Serial number count does not match with total quantity");
		return false;
		}else
		{
      var refval = $('[name="cf_3193"]').select2('data').id;
      if(refval=='With respect to Sales Return'){
        var nmatch = 0;
        var rwcounts = $('#totalRowCount_Line_Item').val();
        var j = 0;
        var exrws = rwcounts.split(",");
        $.each(exrws,function(index,values){
        var product = $("#cf_2868_"+values).val();
        var teser = $("#cf_2888_"+values).val();
        var srts = teser.split(",");
        $.each(srts,function(index,serials){
       var serializ = JSON.parse(localStorage.getItem("returnOrderSerial"));
       var ndata = product + "__" + serials;
       var resp = jQuery.inArray(ndata,serializ);
       if(resp=='-1'){
         nmatch = 1;
       }
        });
        });
        if(nmatch==1){
          alert("Serial Number does not match with Sales Return Order");
          return false;
        }

      }
		}
	}
	
	
	
	 if(sourceModule=="StockUpload" && view=='Edit')
	{
        var rwcount = $('#totalRowCount_LineItem').val();
        var t = 0;
        var exrw = rwcount.split(",");
        var tablelen =  exrw.length;
     
        $.each(exrw,function(index,values){

        var idsss = "";
        if(tablelen==1){
        idsss = "";
        }else{
        idsss = "_" + values;
        }

        var qty = $('[name="cf_4715'+idsss+'"]').val();
        var teser = $('[name="cf_4721'+idsss+'"]').val();
        var srt = teser.split(",");
        if(parseInt(qty)!=srt.length){
        t = 1;
        }
		
		
        });
		
		
        if(t==1)
        {
        alert("Serial number count does not match with total quantity");
        return false;
        }
      }

	  
	  
		var response = JSON.parse(localStorage.getItem("approvalmatrix"));
		var submit_for_approval = $("#submit_for_approval").val();
		var assined_user = $('select[name="assigned_user_id"]').val();
		if(submit_for_approval=='')
		{
		if(response.status=='true')
			{
				
			$(".modal-header").html('Approval Matrix');
			$(".modal-footer").html('<button type="button" class="btn btn-success module_approve" id="save_approval">Submit for Approval</button><button type="button" class="btn btn-primary modal-cancel" data-dismiss="modal">Close</button>');	
			
			  var workflow_array = response.message;
				var workflow_count = workflow_array.length;
				var newfieldname ='';
				var newfieldvalue ='';
				var condition = '';
				var modalopen = 0;
				var approver_array = response.approver;
				var approver_array_count = approver_array.length;
				var actual_approver = [];
				var userid = '';
				for(var k=0; k < approver_array_count; k++)
				{
					var approverId = approver_array[k];
					var userid = '';
					if(approverId == 'L1')
					{
					$.ajax(
					{
					type:"post",
					url: "rahulAjax.php",
					data: {approverId: approverId, assined_user: assined_user, action: 'getReportsToUser'},
					dataType: 'json',
					success:function(response)
					{
					userid = response.message;
					actual_approver.push(userid);
					$("#actual_approver").val(actual_approver.join(', '));
					}
					});
					}else if(approverId == 'L2')
					{
					$.ajax(
					{
					type:"post",
					url: "rahulAjax.php",
					data: {approverId: approverId, assined_user: assined_user, action: 'getReportsToUser'},
					dataType: 'json',
					success:function(response)
					{
					userid = response.message;
					actual_approver.push(userid);
					$("#actual_approver").val(actual_approver.join(', '));
					}
					});
					}else if(approverId == 'L3')
					{
					$.ajax(
					{
					type:"post",
					url: "rahulAjax.php",
					data: {approverId: approverId, assined_user: assined_user, action: 'getReportsToUser'},
					dataType: 'json',
					success:function(response)
					{
					userid = response.message;
					actual_approver.push(userid);
					$("#actual_approver").val(actual_approver.join(', '));
					}
					});
					}else
					{
						userid = approver_array[k];
						actual_approver.push(userid);
					$("#actual_approver").val(actual_approver.join(','));
					}
				}

				var actual_approver_list = $("#actual_approver").val();
				var actual_approver_list_array = actual_approver_list.split(',');
				var exist = $.inArray(assined_user,actual_approver_list_array);
                for (var i = 0; i < workflow_count; i++){
					var workflow_id = workflow_array[i]['workflow_id'];
					var profilelist = workflow_array[i]['profilelist'];
					var test = workflow_array[i]['test'];
					var test_count = test.length;
					$.ajax(
					{
					type:"post",
					url: "rahulAjax.php",
					data: {profilelist: profilelist, action: 'getProfileUserList'},
					dataType: 'json',
					success:function(response)
					{
					var userList = response.message;
					var userExist = $.inArray(assined_user,userList);
					if(userExist!='-1')
					{
					if(test_count>0)
					{
					var outputText = '';
					var cont = '';
					conditionArray = [];
					for (var j = 0; j < test_count; j++)
					{
						var fieldname = test[j]['fieldname'];
						var operation = test[j]['operation'];
						var conditionvalue = test[j]['value'];
						var joincondition = test[j]['joincondition'];
						var valuetype = test[j]['valuetype'];
						var condition_operator = '';
						if(joincondition=='and')
						{
							condition_operator = "&&";
						}else if(joincondition=='or')
						{
							condition_operator = "||";
						}else
						{
						}
						if(operation=='greater than or equal to'){
						condition = ">=";
						}else if(operation=='equal to'){
							condition = "=";
						}else if(operation=='less than'){
							condition = "<";
						}else if(operation=='greater than'){
							condition = ">";
						}else if(operation=='does not equal'){
							condition = "!=";
						}else if(operation=='less than or equal to'){
							condition = "<=";
						}else if(operation=='is not empty'){
							condition = "!=''";
						}else if(operation=='is'){
							condition = "==";
						}else if(operation=='is not'){
							condition = "!=''";
						}else if(operation=='contains'){
							condition = "==";
						}else if(operation=='does not contain'){
							condition = "!=''";
						}else if(operation=='starts with'){
							condition = "starts with";
						}else if(operation=='ends with'){
							condition = "ends with";
						}else{
							condition = '';
						}
						fieldname = fieldname.replace('hdn', '');

						if(fieldname=='GrandTotal')
						{
							newfieldname = 'grandTotal';
							newfieldvalue = $("#"+newfieldname).html();
                            /*cont = parseFloat(newfieldvalue)+" "+condition+" "+parseFloat(conditionvalue)+" "+condition_operator+" ";*/
						}else if(fieldname=='SubTotal')
						{
							newfieldname = 'subTotal';
							newfieldvalue = $("#"+newfieldname).html();
							/*cont = parseFloat(newfieldvalue)+" "+condition+" "+parseFloat(conditionvalue)+" "+condition_operator+" ";*/
						}else{
							var newfieldname = fieldname;
							var newfieldvalue = $('[name='+newfieldname+']').val();
							/*cont = newfieldvalue+" "+condition;*/
						}
						/*outputText += cont;*/
						conditionArray.push({"fieldvalue":newfieldvalue, "condition":condition, "conditionvalue":conditionvalue, "condition_operator":condition_operator})
					}
					var jsonString = JSON.stringify(conditionArray);
					$.ajax(
					{
					type:"post",
					url: "rahulAjax.php",
					data: {jsonString: jsonString, action: 'getApprovalConditionDetails'},
					dataType: 'json',
					success:function(response)
					{
						var condition_status = response.message;
						//alert(condition_status);
						if(condition_status=='true')
						{
						if(exist!='-1')
						{
							modalopen = 0;
							$("#submit_for_approval").val(workflow_id);
							jQuery('form#EditView').submit();
						    return true;
						}else{
						modalopen = 1;
						if(modalopen==1){
						$.ajax(
						{
						type:"post",
						url: "rahulAjax.php",
						data: {workflow_id: workflow_id, assined_user: assined_user, action: 'approvalModal'},
						dataType: 'json',
						success:function(response)
						{
							$(".modal-body").html(response.message);
							$('#myModal').modal();
							/*jQuery('#save_approval').on('click',function(e){*/
							jQuery('.module_approve').on('click',function(e){
							var note = $('textarea#requester_note').val();
								 $("#submit_for_approval").val(workflow_id);
								 $("#note").val(note);
								 $('#myModal').modal('toggle');
								 jQuery('form#EditView').submit();
							});

							jQuery('.modal-cancel').on('click',function(e){
							$('.saveButton').removeAttr("disabled");
							});

						}
						});
				        }
						return false;
						}
						}else{
						modalopen = 0;
						$("#submit_for_approval").val(0);
						jQuery('form#EditView').submit();
						return true;
						}
					}
					});

					}else{
						if(exist!='-1')
						{
							modalopen = 0;
							$("#submit_for_approval").val(workflow_id);
							jQuery('form#EditView').submit();
						    return true;
						}else{
						modalopen = 1;
						if(modalopen==1){
				$.ajax(
				{
				type:"post",
				url: "rahulAjax.php",
				data: {workflow_id: workflow_id, assined_user: assined_user, action: 'approvalModal'},
				dataType: 'json',
				success:function(response)
				{
					$(".modal-body").html(response.message);
					$('#myModal').modal();
					jQuery('#save_approval').on('click',function(e){
					var note = $('textarea#requester_note').val();
					     $("#submit_for_approval").val(workflow_id);
						 $("#note").val(note);
						 $('#myModal').modal('toggle');
						 jQuery('form#EditView').submit();
					});

					jQuery('.modal-cancel').on('click',function(e){
							$('.saveButton').removeAttr("disabled");
							});

				}
				});
				}
						return false;
						}
						/*condition empty*/
					}

					}else
					{
					 $("#submit_for_approval").val(0);
					 jQuery('form#EditView').submit();
					 return true;
					}
					}
					});
				}
				return false;
			}else{
			return true;
			}
		}else{
			return true;
		}


		});

	
	}

/* End of Approval Matrix */



	if(sourceModule=="VendorPayment" && view=='Edit')
	{
			if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4633"]').select2().select2('readonly',true);
			$('[name="cf_4635"]').select2().select2('readonly',true);
			$('[name="cf_4960"]').datepicker("remove");
			$('[name="cf_4960"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
		var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4635"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4633"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4960"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster425_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster425_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster425_id_display"]').attr('readonly',true);
							$('#VendorPayment_editView_fieldName_cf_nrl_plantmaster425_id_select').parent().remove();
							$('#VendorPayment_editView_fieldName_cf_nrl_plantmaster425_id_create').parent().remove();
							var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4960"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4960"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4960"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4960"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
					
	if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
	
		jQuery(document).on('change','[name^=cf_4633]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster425_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4960"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4960"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4960"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4960"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4635]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster425_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4960"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4960"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4960"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4960"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
		$('[name="cf_4699"]').select2().select2('readonly','true');
		$('#Payment_Details_divblock').hide();
		$('#tr_clone_add__Payment_Details').hide();
		var paytype = $("select[name='cf_4701']").val();
		if(paytype == 'Advance Payment' && recordid != "" && recordid != undefined)
		{
			var total = $('input[name="cf_3331"]').val();
			if(total == '0')
			{
				$('.lineitemTableContainer').css('display','none');
				$('input[name="cf_3331"]').closest('td').hide();
					$('input[name="cf_3331"]').closest('td').prev('td').hide();
					$('input[name="cf_3300"]').closest('td').hide();
					$('input[name="cf_3300"]').closest('td').prev('td').hide();
					$('input[name="cf_3304"]').closest('td').hide();
					$('input[name="cf_3304"]').closest('td').prev('td').hide();
					$('input[name="cf_4760"]').closest('td').hide();
					$('input[name="cf_4760"]').closest('td').prev('td').hide();
					$('input[name="cf_4762"]').closest('td').hide();
					$('input[name="cf_4762"]').closest('td').prev('td').hide();
					$('input[name="cf_4764"]').closest('td').hide();
					$('input[name="cf_4764"]').closest('td').prev('td').hide();
					
			}
			else
			{
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {id:recordid, action: 'getadvanceVendorInvoice'},
				dataType: 'json',
				success:function(response)
				{
					$('input[name="cf_3331"]').attr('readonly','true');
					$('input[name="cf_3300"]').attr('readonly','true');
					$('input[name="cf_4760"]').attr('readonly','true');
					$('input[name="cf_4762"]').attr('readonly','true');
					$('input[name="cf_4764"]').attr('readonly','true');
					$('select[name="cf_4701"]').select2().select2('readonly','true');
					$('select[name="cf_4699"]').select2().select2('readonly','true');
					$('#VendorPayment_editView_fieldName_cf_nrl_vendors297_id_select').closest('span').css('display','none');
					$('#VendorPayment_editView_fieldName_cf_nrl_vendors297_id_create').closest('span').css('display','none');
					$('.clearReferenceSelection').css('display','none');
					$(".saveButton").css("display","none");
					if(response.tbody != "")
					{
						$('#Payment_Details_divblock').show();
						$('table#Payment_Details').html('');
						$('table#Payment_Details').html(response.header);
						$('table#Payment_Details').html(response.tbody);
						$('table#Payment_Details').html(response.tbodyend);
						$('#totalRowCount_Payment_Details').val(response.rowcount);
						$('input[name="cf_3302"]').closest('td').hide();
						$('input[name="cf_3302"]').closest('td').prev('td').hide();
						$('input[name="cf_3304"]').closest('td').hide();
						$('input[name="cf_3304"]').closest('td').prev('td').hide();
					}
					else
					{
						$('#Payment_Details_divblock').hide();
					}
				}
				});
			}

		}
		else if(paytype == 'Purchase Invoice' && recordid != "" && recordid != undefined)
		{
				$('input[name^="cf_3306"]').attr('readonly',true);
				$('input[name^="cf_3378"]').attr('readonly',true);
				$('input[name^="cf_3308"]').attr('readonly',true);
				$('input[name^="cf_3333"]').attr('readonly',true);
				$('input[name^="cf_3312"]').attr('readonly',true);
				$('input[name^="cf_3316"]').attr('readonly',true);
		}
		else if(paytype == 'Debit Note' && recordid != "" && recordid != undefined)
		{
			var total = $('input[name="cf_3331"]').val();
			if(total == '0')
			{
				$('#Invoice_divblock').hide();
				$('#Payment_Details_divblock').hide();
			}
			else
			{
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {id:recordid, action: 'getdebitedVendorInvoice'},
				dataType: 'json',
				success:function(response)
				{
					$('input[name="cf_3331"]').attr('readonly','true');
					$('input[name="cf_3300"]').attr('readonly','true');
					$('input[name="cf_4760"]').attr('readonly','true');
					$('input[name="cf_4762"]').attr('readonly','true');
					$('input[name="cf_4764"]').attr('readonly','true');
					$('select[name="cf_4701"]').select2().select2('readonly','true');
					$('select[name="cf_4699"]').select2().select2('readonly','true');
					$('#VendorPayment_editView_fieldName_cf_nrl_vendors297_id_select').closest('span').css('display','none');
					$('#VendorPayment_editView_fieldName_cf_nrl_vendors297_id_create').closest('span').css('display','none');
					$('.clearReferenceSelection').css('display','none');
					$(".saveButton").css("display","none");
					if(response.tbody != "")
					{
						$('#Payment_Details_divblock').show();
						$('table#Payment_Details').html('');
						$('table#Payment_Details').html(response.header);
						$('table#Payment_Details').html(response.tbody);
						$('table#Payment_Details').html(response.tbodyend);
						$('#totalRowCount_Payment_Details').val(response.rowcount);
						$('input[name="cf_3302"]').closest('td').hide();
						$('input[name="cf_3302"]').closest('td').prev('td').hide();
						$('input[name="cf_3304"]').closest('td').hide();
						$('input[name="cf_3304"]').closest('td').prev('td').hide();
					}
					else
					{
						$('#Payment_Details_divblock').hide();
						$('input[name="cf_3302"]').closest('td').hide();
						$('input[name="cf_3302"]').closest('td').prev('td').hide();
					}
				}
				});
			}
		}
		else if(paytype == 'Credit Note' && recordid != "" && recordid != undefined)
		{
			var total = $('input[name="cf_3331"]').val();
			if(total == '0')
			{
				$('#Invoice_divblock').hide();
				$('#Payment_Details_divblock').hide();
			}
			else
			{
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {id:recordid, action: 'getcreditedVendorInvoice'},
				dataType: 'json',
				success:function(response)
				{
					$('input[name="cf_3331"]').attr('readonly','true');
					$('input[name="cf_3300"]').attr('readonly','true');
					$('input[name="cf_4760"]').attr('readonly','true');
					$('input[name="cf_4762"]').attr('readonly','true');
					$('input[name="cf_4764"]').attr('readonly','true');
					$('select[name="cf_4701"]').select2().select2('readonly','true');
					$('select[name="cf_4699"]').select2().select2('readonly','true');
					$('#VendorPayment_editView_fieldName_cf_nrl_vendors297_id_select').closest('span').css('display','none');
					$('#VendorPayment_editView_fieldName_cf_nrl_vendors297_id_create').closest('span').css('display','none');
					$('.clearReferenceSelection').css('display','none');
					$(".saveButton").css("display","none");
					if(response.tbody != "")
					{
						$('#Payment_Details_divblock').show();
						$('table#Payment_Details').html('');
						$('table#Payment_Details').html(response.header);
						$('table#Payment_Details').html(response.tbody);
						$('table#Payment_Details').html(response.tbodyend);
						$('#totalRowCount_Payment_Details').val(response.rowcount);
						$('input[name="cf_3302"]').closest('td').hide();
						$('input[name="cf_3302"]').closest('td').prev('td').hide();
						$('input[name="cf_3304"]').closest('td').hide();
						$('input[name="cf_3304"]').closest('td').prev('td').hide();
					}
					else
					{
						$('#Payment_Details_divblock').hide();
						$('input[name="cf_3302"]').closest('td').hide();
						$('input[name="cf_3302"]').closest('td').prev('td').hide();
					}
				}
				});
			}
		}
		jQuery(document).on('change','[name="cf_4701"]', function(e) {
			var paytype = $(this).val();
			if(paytype == 'Advance Payment' && (recordid == "" || recordid == undefined))
			{
					$('input[name="cf_3302"]').attr('readonly',false);
					$('#Payment_Details_divblock').hide();
					$('input[name="cf_3331"]').closest('td').hide();
					$('input[name="cf_3331"]').closest('td').prev('td').hide();
					$('input[name="cf_3300"]').closest('td').hide();
					$('input[name="cf_3300"]').closest('td').prev('td').hide();
					$('input[name="cf_3304"]').closest('td').hide();
					$('input[name="cf_3304"]').closest('td').prev('td').hide();
					$('select[name="cf_4699"]').closest('td').show();
					$('select[name="cf_4699"]').closest('td').prev('td').show();
			}
			else if(paytype == 'Purchase Invoice')
			{
				$('#Invoice_divblock').show();
				$('#Payment_Details_divblock').show();
				$('input[name="cf_3331"]').attr('readonly',true);
				$('input[name="cf_3300"]').attr('readonly',true);
				//$('input[name="cf_3302"]').attr('readonly',true);
				$('input[name="cf_3304"]').attr('readonly',true);
				$('input[name="cf_3331"]').closest('td').show();
				$('input[name="cf_3331"]').closest('td').prev('td').show();
				$('input[name="cf_3300"]').closest('td').show();
				$('input[name="cf_3300"]').closest('td').prev('td').show();
				$('input[name="cf_3304"]').closest('td').show();
				$('input[name="cf_3304"]').closest('td').prev('td').show();
				/*$('select[name="cf_4699"]').closest('td').hide();
				$('select[name="cf_4699"]').closest('td').prev('td').hide();*/
				$('input[name="cf_4760"]').closest('td').hide();
				$('input[name="cf_4760"]').closest('td').prev('td').hide();
				$('input[name="cf_4762"]').closest('td').hide();
				$('input[name="cf_4762"]').closest('td').prev('td').hide();
				$('input[name="cf_4764"]').closest('td').hide();
				$('input[name="cf_4764"]').closest('td').prev('td').hide();
			}
			else if((paytype == 'Debit Note' || paytype == 'Credit Note') && (recordid == "" || recordid == undefined))
			{
				$('#Invoice_divblock').hide();
				$('#Payment_Details_divblock').hide();
				$('select[name="cf_4699"]').closest('td').show();
				$('select[name="cf_4699"]').closest('td').prev('td').show();
			}
		});
		jQuery(document).on('blur','[name="cf_3302"]', function(e) {
			var totalpaid = $(this).val();
			var invamount = $('[name="cf_3300"]').val();
			if(parseFloat(invamount) > 0)
			{
				var currentdue = parseFloat(invamount) - parseFloat(totalpaid);
				if(parseFloat(currentdue) >= 0)
				{
					$('[name="cf_3304"]').val(currentdue);
				}
				else
				{
					$('[name="cf_3304"]').val(0.00);
				}
				var totalrow = $('#totalRowCount_Payment_Details').val();
				var rows = totalrow.split(',');
				var rowlen = rows.length;
				if(rowlen == 1)
				{
					var due = $('[name="cf_3312"]').val();
					if(parseFloat(due)>= parseFloat(totalpaid))
					{
						$('[name="cf_3314"]').val(totalpaid);
						$('[name="cf_3314"]').attr('readonly',true);
						var curdue = parseFloat(due) - parseFloat(totalpaid);
						$('[name="cf_3316"]').val(curdue);
					}
					else
					{
						$('[name="cf_3314"]').val(due);
						$('[name="cf_3314"]').attr('readonly',true);
						var curdue = parseFloat(due) - parseFloat(due);
						$('[name="cf_3316"]').val(curdue);
					}
				}
				else
				{
					var predue = 0;
					var curdue = 0;
					for(var i = 1; i<=rowlen; i++)
					{
						var j = parseInt(i) - parseInt(1);
						if(parseInt(j) != 0)
						{
							var prevdue = $('[name="cf_3312_'+j+'"]').val();
							predue = parseFloat(predue) + parseFloat(prevdue);
							var dueamount = parseFloat(totalpaid) - parseFloat(predue);
							if(parseFloat(dueamount) < 0)
							{
								dueamount = 0.00;
							}								
						}
						else
						{
							var dueamount = totalpaid;
						}
						var due = $('[name="cf_3312_'+i+'"]').val();
						if(parseFloat(due)>= parseFloat(dueamount))
						{
							$('[name="cf_3314_'+i+'"]').val(dueamount);
							$('[name="cf_3314_'+i+'"]').attr('readonly',true);
							var curdue = parseFloat(due) - parseFloat(dueamount);
							$('[name="cf_3316_'+i+'"]').val(curdue);
						}
						else
						{
							$('[name="cf_3314_'+i+'"]').val(due);
							$('[name="cf_3314_'+i+'"]').attr('readonly',true);
							var curdue = parseFloat(due) - parseFloat(due);
							$('[name="cf_3316_'+i+'"]').val(curdue);
						}
						
					}
				}
			}
		});
		/*jQuery(document).on('keyup','[name^="cf_3314"]', function(e) {
			var paid = $(this).prop('name');
			var pid = paid.split("_");
			var p = pid.length;
			var paidid = '';
			if(p==2){
				paidid = '';
			}else if(p==3){
				paidid = "_"+pid[p-1];
			}
			var paidamnt = $(this).val();
			if(paidamnt == "" || paidamnt == undefined)
			{
				paidamnt = 0;
			}
			var totalamnt = $('input[name="cf_3312'+paidid+'"]').val();
			var totalamnt = parseFloat(totalamnt).toFixed(2);
			var dueamnt = (parseFloat(totalamnt) - parseFloat(paidamnt)).toFixed(2);
			$('input[name="cf_3316'+paidid+'"]').val(dueamnt);
			$('input[name="cf_3316'+paidid+'"]').attr('readonly','true');
		});
		jQuery(document).on('blur','[name^="cf_3314"]', function(e) {
			var paidtotal = 0;
			var duetotal = 0;
			var totalrow = $('#totalRowCount_Payment_Details').val();
			var trow = totalrow.split(',');
			var row = trow.length;
			if(recordid == "" || recordid == undefined)
			{
				if(row == 1)
				{
					var paidamnt = $('input[name="cf_3314"]').val();
					if(paidamnt == "" || paidamnt == undefined)
					{
						paidamnt = 0;
					}
					paidtotal = parseFloat(paidtotal) + parseFloat(paidamnt);
				}
				else
				{
					for(var i = 1; i<=row; i++)
					{
						var paidamnt = $('input[name="cf_3314_'+i+'"]').val();
						if(paidamnt == "" || paidamnt == undefined)
						{
							paidamnt = 0;
						}
						paidtotal = parseFloat(paidtotal) + parseFloat(paidamnt);
					}
				}
			}
			else
			{
				for(var i = 1; i<=row; i++)
					{
						var paidamnt = $('input[name="cf_3314_'+i+'"]').val();
						if(paidamnt == "" || paidamnt == undefined)
						{
							paidamnt = 0;
						}
						paidtotal = parseFloat(paidtotal) + parseFloat(paidamnt);
					}
			}
			var totalamnt = $('input[name="cf_3300"]').val();
			duetotal = (parseFloat(totalamnt) - parseFloat(paidtotal)).toFixed(2);
			$('input[name="cf_3302"]').val(paidtotal);
			$('input[name="cf_3304"]').val(duetotal);
			$('input[name="cf_3302"]').attr('readonly','true');
			$('input[name="cf_3304"]').attr('readonly','true');
		});*/
		jQuery(document).on('change','[name^="cf_3318"]', function(e) {
			var mode = $(this).prop('name');
			var mid = mode.split("_");
			var m = mid.length;
			var modeid = '';
			if(m==2){
				modeid = '';
			}else if(m==3){
				modeid = "_"+mid[m-1];
			}
			var modeval = this.value;
			if(modeval == "Cheque")
			{
				$('#cf_3320'+modeid).prop('required',true);
				$('#cf_3320'+modeid).focus();
			}
			else if(modeval == 'Debit')
			{
				$('input[name="cf_4762"]').closest('td').show();
				$('input[name="cf_4762"]').closest('td').prev('td').show();
				var invoiceid = $('input[name=cf_3306'+modeid+']').val();
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {invoiceid:invoiceid, action: 'getInvoiceDebit'},
				dataType: 'json',
				success:function(response)
				{
					var debitval = response.debitval;
					var paid = $('#cf_3314'+modeid).val();
					debitval = parseFloat(debitval) + parseFloat(paid);
					$('input[name="cf_4762"]').val(debitval);
				}
				});
				$('#cf_3320'+modeid).removeAttr('required');
			}
			else
			{
				$('#cf_3320'+modeid).removeAttr('required');
			}
		});
	}
	if(sourceModule=="Accounts" && view=='Edit')
	{
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster183_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster183_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster183_id_display"]').attr('readonly',true);
							$('#Accounts_editView_fieldName_cf_nrl_plantmaster183_id_select').parent().remove();
							$('#Accounts_editView_fieldName_cf_nrl_plantmaster183_id_create').parent().remove();
						}
					}
					});
	}
	if(sourceModule=="CustomerPayment" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4633"]').select2().select2('readonly',true);
			$('[name="cf_4635"]').select2().select2('readonly',true);
			$('[name="cf_4967"]').datepicker("remove");
			$('[name="cf_4967"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4635"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4633"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4967"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster1000_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster1000_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster1000_id_display"]').attr('readonly',true);
							$('#CustomerPayment_editView_fieldName_cf_nrl_plantmaster1000_id_select').parent().remove();
							$('#CustomerPayment_editView_fieldName_cf_nrl_plantmaster1000_id_create').parent().remove();
							var yr = $('select[name="cf_4633"]').val();
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4967"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4967"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4967"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4967"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
					if(recordid != "" || recordid != undefined)
					{
						$.ajax(
									{
									type:"post",
									url: "shirshaAjax.php",
									data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
									dataType: 'json',
									success:function(response)
									{
										if(response.ticketstatus == '0')
										{
											alert("Cannot edit this record");
											window.history.back();
										}
									}
									});
					}
		
		jQuery(document).on('change','[name^=cf_4633]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster1000_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4967"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4967"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4967"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4967"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4635]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster1000_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4967"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4967"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4967"]').datepicker('setStartDate', minDate);
												
												var maxDate = new Date(today);
												$('input[name="cf_4967"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
		$('#Payment_Details_divblock').hide();
		$('#tr_clone_add__Payment_Details').hide();
		$('[name="cf_3376"]').select2().select2('readonly','true');
		var paytype = $("select[name='cf_3335']").val();
		/*if(paytype == 'Advance Payment' && recordid != "" && recordid != undefined)
		{
			var total = $('input[name="cf_3338"]').val();
			if(total == '0')
			{
				$('.lineitemTableContainer').css('display','none');
				$('input[name="cf_3338"]').closest('td').hide();
				$('input[name="cf_3338"]').closest('td').prev('td').hide();
				$('input[name="cf_3340"]').closest('td').hide();
				$('input[name="cf_3340"]').closest('td').prev('td').hide();
				$('input[name="cf_3344"]').closest('td').hide();
				$('input[name="cf_3344"]').closest('td').prev('td').hide();
				$('input[name="cf_4772"]').closest('td').hide();
				$('input[name="cf_4772"]').closest('td').prev('td').hide();
				$('input[name="cf_4774"]').closest('td').hide();
				$('input[name="cf_4774"]').closest('td').prev('td').hide();
				$('input[name="cf_4776"]').closest('td').hide();
				$('input[name="cf_4776"]').closest('td').prev('td').hide();
			}
			else
			{
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {id:recordid, action: 'getSalesInvoice'},
				dataType: 'json',
				success:function(response)
				{
					$('input[name="cf_3338"]').attr('readonly','true');
					$('input[name="cf_3340"]').attr('readonly','true');
					$('input[name="cf_3344"]').attr('readonly','true');
					$('input[name="cf_4772"]').attr('readonly','true');
					$('input[name="cf_4774"]').attr('readonly','true');
					$('input[name="cf_4776"]').attr('readonly','true');
					$('select[name="cf_3335"]').select2().select2('readonly','true');
					$('select[name="cf_3376"]').select2().select2('readonly','true');
					$('#CustomerPayment_editView_fieldName_cf_nrl_accounts363_id_select').closest('span').css('display','none');
					$('#CustomerPayment_editView_fieldName_cf_nrl_accounts363_id_create').closest('span').css('display','none');
					$('.clearReferenceSelection').css('display','none');
					$(".saveButton").css("display","none");
					if(response.tbody != "")
					{
						$('#Payment_Details_divblock').show();
						$('table#Payment_Details').html('');
						$('table#Payment_Details').html(response.header);
						$('table#Payment_Details').html(response.tbody);
						$('table#Payment_Details').html(response.tbodyend);
						$('#totalRowCount_Payment_Details').val(response.rowcount);
						$('input[name="cf_3342"]').closest('td').hide();
						$('input[name="cf_3342"]').closest('td').prev('td').hide();
						$('input[name="cf_3344"]').closest('td').hide();
						$('input[name="cf_3344"]').closest('td').prev('td').hide();
					}
					else
					{
						$('#Payment_Details_divblock').hide();
					}
				}
				});
			}

		}*/
		if(paytype == 'Sales Invoice Payment'  && recordid != "" && recordid != undefined)
		{
			$('input[name="cf_3346"]').attr('readonly',true);
			$('input[name="cf_3374"]').attr('readonly',true);
			$('input[name="cf_3350"]').attr('readonly',true);
			$('input[name="cf_3352"]').attr('readonly',true);
			$('input[name="cf_3354"]').attr('readonly',true);
			$('input[name="cf_3358"]').attr('readonly',true);
		}
		/*else if(paytype == 'Debit Note' && recordid != "" && recordid != undefined)
		{
			var total = $('input[name="cf_3338"]').val();
			if(total == '0')
			{
				$('#Invoice_divblock').hide();
				$('#Payment_Details_divblock').hide();
			}
			else
			{
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {id:recordid, action: 'getSalesdebitInvoice'},
				dataType: 'json',
				success:function(response)
				{
					$('input[name="cf_3338"]').attr('readonly','true');
					$('input[name="cf_3340"]').attr('readonly','true');
					$('input[name="cf_3344"]').attr('readonly','true');
					$('input[name="cf_4772"]').attr('readonly','true');
					$('input[name="cf_4774"]').attr('readonly','true');
					$('input[name="cf_4776"]').attr('readonly','true');
					$('select[name="cf_3335"]').select2().select2('readonly','true');
					$('select[name="cf_3376"]').select2().select2('readonly','true');
					$('#CustomerPayment_editView_fieldName_cf_nrl_accounts363_id_select').closest('span').css('display','none');
					$('#CustomerPayment_editView_fieldName_cf_nrl_accounts363_id_create').closest('span').css('display','none');
					$('.clearReferenceSelection').css('display','none');
					$(".saveButton").css("display","none");
					if(response.tbody != "")
					{
						$('#Payment_Details_divblock').show();
						$('table#Payment_Details').html('');
						$('table#Payment_Details').html(response.header);
						$('table#Payment_Details').html(response.tbody);
						$('table#Payment_Details').html(response.tbodyend);
						$('#totalRowCount_Payment_Details').val(response.rowcount);
						$('input[name="cf_3342"]').closest('td').hide();
						$('input[name="cf_3342"]').closest('td').prev('td').hide();
						$('input[name="cf_3344"]').closest('td').hide();
						$('input[name="cf_3344"]').closest('td').prev('td').hide();
					}
					else
					{
						$('#Payment_Details_divblock').hide();
						$('input[name="cf_3342"]').closest('td').hide();
						$('input[name="cf_3342"]').closest('td').prev('td').hide();
					}
				}
				});
			}
		}
		else if(paytype == 'Credit Note' && recordid != "" && recordid != undefined)
		{
			var total = $('input[name="cf_3338"]').val();
			if(total == '0')
			{
				$('#Invoice_divblock').hide();
				$('#Payment_Details_divblock').hide();
			}
			else
			{
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {id:recordid, action: 'getSalescreditInvoice'},
				dataType: 'json',
				success:function(response)
				{
					$('input[name="cf_3338"]').attr('readonly','true');
					$('input[name="cf_3340"]').attr('readonly','true');
					$('input[name="cf_3342"]').attr('readonly','true');
					$('input[name="cf_3344"]').attr('readonly','true');
					$('input[name="cf_4772"]').attr('readonly','true');
					$('input[name="cf_4774"]').attr('readonly','true');
					$('input[name="cf_4776"]').attr('readonly','true');
					$('select[name="cf_3335"]').select2().select2('readonly','true');
					$('select[name="cf_3376"]').select2().select2('readonly','true');
					$('#CustomerPayment_editView_fieldName_cf_nrl_accounts363_id_select').closest('span').css('display','none');
					$('#CustomerPayment_editView_fieldName_cf_nrl_accounts363_id_create').closest('span').css('display','none');
					$('.clearReferenceSelection').css('display','none');
					$(".saveButton").css("display","none");
					if(response.tbody != "")
					{
						$('#Payment_Details_divblock').show();
						$('table#Payment_Details').html('');
						$('table#Payment_Details').html(response.header);
						$('table#Payment_Details').html(response.tbody);
						$('table#Payment_Details').html(response.tbodyend);
						$('#totalRowCount_Payment_Details').val(response.rowcount);
						$('input[name="cf_3342"]').closest('td').hide();
						$('input[name="cf_3342"]').closest('td').prev('td').hide();
						$('input[name="cf_3344"]').closest('td').hide();
						$('input[name="cf_3344"]').closest('td').prev('td').hide();
					}
					else
					{
						$('#Payment_Details_divblock').hide();
						$('input[name="cf_3342"]').closest('td').hide();
						$('input[name="cf_3342"]').closest('td').prev('td').hide();
					}
				}
				});
			}
		}*/
		jQuery(document).on('change','[name="cf_3335"]', function(e) {
			var paytype = $(this).val();
			if(paytype == 'Advance Payment')
			{
					$('input[name="cf_3342"]').attr('readonly',false);
					$('#Payment_Details_divblock').hide();
					$('input[name="cf_3338"]').closest('td').hide();
				    $('input[name="cf_3338"]').closest('td').prev('td').hide();
					$('input[name="cf_3340"]').closest('td').hide();
				    $('input[name="cf_3340"]').closest('td').prev('td').hide();
					$('input[name="cf_3344"]').closest('td').hide();
				    $('input[name="cf_3344"]').closest('td').prev('td').hide();
					$('input[name="cf_4772"]').closest('td').hide();
					$('input[name="cf_4772"]').closest('td').prev('td').hide();
					$('input[name="cf_4774"]').closest('td').hide();
					$('input[name="cf_4774"]').closest('td').prev('td').hide();
					$('input[name="cf_4776"]').closest('td').hide();
					$('input[name="cf_4776"]').closest('td').prev('td').hide();
					$('select[name="cf_3376"]').closest('td').show();
					$('select[name="cf_3376"]').closest('td').prev('td').show();
			}
			else if(paytype == 'Sales Invoice Payment')
			{
				$('#Invoice_divblock').show();
				$('#Payment_Details_divblock').show();
				$('input[name="cf_3338"]').attr('readonly',true);
				$('input[name="cf_3340"]').attr('readonly',true);
				//$('input[name="cf_3342"]').attr('readonly',true);
				$('input[name="cf_3344"]').attr('readonly',true);
				$('input[name="cf_3338"]').closest('td').show();
				$('input[name="cf_3338"]').closest('td').prev('td').show();
				$('input[name="cf_3340"]').closest('td').show();
				$('input[name="cf_3340"]').closest('td').prev('td').show();
				$('input[name="cf_3344"]').closest('td').show();
				$('input[name="cf_3344"]').closest('td').prev('td').show();	
				/*$('select[name="cf_3376"]').closest('td').hide();
				$('select[name="cf_3376"]').closest('td').prev('td').hide();*/
				$('input[name="cf_4772"]').closest('td').hide();
				$('input[name="cf_4772"]').closest('td').prev('td').hide();
				$('input[name="cf_4774"]').closest('td').hide();
				$('input[name="cf_4774"]').closest('td').prev('td').hide();
				$('input[name="cf_4776"]').closest('td').hide();
				$('input[name="cf_4776"]').closest('td').prev('td').hide();
			}
			else if(paytype == 'Debit Note' || paytype == 'Credit Note')
			{
				$('#Invoice_divblock').css('display','none');
				$('#Payment_Details_divblock').hide();
				$('select[name="cf_3376"]').closest('td').show();
				$('select[name="cf_3376"]').closest('td').prev('td').show();
			}
		});
		
		
		
	jQuery(document).on('blur','[name="cf_3342"]', function(e) {
			var totalpaid = $(this).val();
			var invamount = $('[name="cf_3340"]').val();
			if(parseFloat(invamount) > 0)
			{
				var currentdue = (parseFloat(invamount) - parseFloat(totalpaid)).toFixed(2);
				
				//$('[name="cf_3344"]').val((currentdue >= 0) ? currentdue : '0.00');
				
				if(parseFloat(currentdue) >= 0)
				{
					$('[name="cf_3344"]').val(currentdue);
				}
				else
				{
					$('[name="cf_3344"]').val(0.00);
				}
				
				
				var totalrow = $('#totalRowCount_Payment_Details').val();
				var rows = totalrow.split(',');
				var rowlen = rows.length;
				var rowlenss = $('#directMode_Payment_Details').val();
				if(rowlenss == 0)
				{
					var due = $('[name="cf_3354"]').val();
					if(parseFloat(due)>= parseFloat(totalpaid))
					{
						$('[name="cf_3356"]').val(totalpaid);
						//$('[name="cf_3356"]').attr('readonly',true);
						var curdue = (parseFloat(due) - parseFloat(totalpaid)).toFixed(2);
						$('[name="cf_3358"]').val(curdue);
					}
					else
					{
						$('[name="cf_3356"]').val(due);
						//$('[name="cf_3356"]').attr('readonly',true);
						var curdue = (parseFloat(due) - parseFloat(due)).toFixed(2);
						$('[name="cf_3358"]').val(curdue);
					}
				}
				else
				{
					var predue = 0;
					var curdue = 0;
					for(var i = 1; i<=rowlen; i++)
					{
						var j = parseInt(i) - parseInt(1);
						if(parseInt(j) != 0)
						{
							var prevdue = $('[name="cf_3354_'+j+'"]').val();
							predue = parseFloat(predue) + parseFloat(prevdue);
							var dueamount = (parseFloat(totalpaid) - parseFloat(predue)).toFixed(2);
							if(parseFloat(dueamount) < 0)
							{
								dueamount = 0.00;
							}								
						}
						else
						{
							var dueamount = totalpaid;
						}
						var due = $('[name="cf_3354_'+i+'"]').val();
						if(parseFloat(due)>= parseFloat(dueamount))
						{
							$('[name="cf_3356_'+i+'"]').val(dueamount);
							//$('[name="cf_3356_'+i+'"]').attr('readonly',true);
							var curdue = (parseFloat(due) - parseFloat(dueamount)).toFixed(2);
							$('[name="cf_3358_'+i+'"]').val(curdue);
						}
						else
						{
							$('[name="cf_3356_'+i+'"]').val(due);
							//$('[name="cf_3356_'+i+'"]').attr('readonly',true);
							var curdue = (parseFloat(due) - parseFloat(due)).toFixed(2);
							$('[name="cf_3358_'+i+'"]').val(curdue);
						}
						
					}
				}
			}
		});
		
		
		/*jQuery(document).on('keyup','[name^="cf_3356"]', function(e) {
			var paid = $(this).prop('name');
			var pid = paid.split("_");
			var p = pid.length;
			var paidid = '';
			if(p==2){
				paidid = '';
			}else if(p==3){
				paidid = "_"+pid[p-1];
			}
			var paidamnt = $(this).val();
			if(paidamnt == "" || paidamnt == undefined)
			{
				paidamnt = 0;
			}
			var totalamnt = $('input[name="cf_3354'+paidid+'"]').val();
			var totalamnt = parseFloat(totalamnt).toFixed(2);
			var dueamnt = (parseFloat(totalamnt) - parseFloat(paidamnt)).toFixed(2);
			$('input[name="cf_3358'+paidid+'"]').val(dueamnt);
			$('input[name="cf_3358'+paidid+'"]').attr('readonly','true');
		});
		
		
		jQuery(document).on('blur','[name^="cf_3356"]', function(e) {
			var paidtotal = 0;
			var duetotal = 0;
			var totalrow = $('#totalRowCount_Payment_Details').val();
			var trow = totalrow.split(',');
			var row = trow.length;
			if(recordid == "" || recordid == undefined)
			{
				var totalrowlen = $('#directMode_Payment_Details').val();
				if(totalrowlen == 0)
				{
					var paidamnt = $('input[name="cf_3356"]').val();
					if(paidamnt == "" || paidamnt == undefined)
					{
						paidamnt = 0;
					}
					paidtotal = parseFloat(paidtotal) + parseFloat(paidamnt);
				}
				else
				{
					for(var i = 1; i<=row; i++)
					{
						var paidamnt = $('input[name="cf_3356_'+i+'"]').val();
						if(paidamnt == "" || paidamnt == undefined)
						{
							paidamnt = 0;
						}
						paidtotal = parseFloat(paidtotal) + parseFloat(paidamnt);
					}
				}
			}
			else
			{
				for(var i = 1; i<=row; i++)
					{
						var paidamnt = $('input[name="cf_3356_'+i+'"]').val();
						if(paidamnt == "" || paidamnt == undefined)
						{
							paidamnt = 0;
						}
						paidtotal = parseFloat(paidtotal) + parseFloat(paidamnt);
					}
			}
			var totalamnt = $('input[name="cf_3340"]').val();
			duetotal = (parseFloat(totalamnt) - parseFloat(paidtotal)).toFixed(2);
			$('input[name="cf_3342"]').val(paidtotal);
			$('input[name="cf_3344"]').val(duetotal);
			$('input[name="cf_3342"]').attr('readonly','true');
			$('input[name="cf_3344"]').attr('readonly','true');
			var paid = $(this).prop('name');
			var pid = paid.split("_");
			var p = pid.length;
			var paidid = '';
			if(p==2){
				paidid = '';
			}else if(p==3){
				paidid = "_"+pid[p-1];
			}
			$('input[name="cf_3358'+paidid+'"]').val(duetotal);
			$('input[name="cf_3358'+paidid+'"]').attr('readonly','true');
		});
		*/
		jQuery(document).on('change','[name^="cf_3360"]', function(e) {
			var mode = $(this).prop('name');
			var mid = mode.split("_");
			var m = mid.length;
			var modeid = '';
			if(m==2){
				modeid = '';
			}else if(m==3){
				modeid = "_"+mid[m-1];
			}
			var modeval = this.value;
			if(modeval == "Cash")
			{
				$('#cf_3362'+modeid).removeAttr('required');
			}
			else if(modeval == 'Credit')
			{
				$('input[name="cf_4776"]').closest('td').show();
				$('input[name="cf_4776"]').closest('td').prev('td').show();
				var invoiceid = $('input[name=cf_3346'+modeid+']').val();
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {invoiceid:invoiceid, action: 'getInvoiceCredit'},
				dataType: 'json',
				success:function(response)
				{
					var creditval = response.creditval;
					var paid = $('#cf_3356'+modeid).val();
					creditval = parseFloat(creditval) + parseFloat(paid);
					$('input[name="cf_4776"]').val(creditval);
				}
				});
				$('#cf_3362'+modeid).removeAttr('required');
			}
			else if(modeval == '')
			{
				$('#cf_3362'+modeid).removeAttr('required');
			}
			else
			{
				$('#cf_3362'+modeid).prop('required',true);
				$('#cf_3362'+modeid).focus();
			}
		});
	}



	if(sourceModule=="InboundDelivery" && view=='Edit')
	{
		$('[name="cf_3659"]').select2().select2('readonly',true);
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4319"]').select2().select2('readonly',true);
			$('[name="cf_4321"]').select2().select2('readonly',true);
			$('[name="cf_3200"]').datepicker("remove");
			$('[name="cf_3200"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4321"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4319"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3200"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('#InboundDelivery_editView_fieldName_cf_2860').val(response.plantid);
							$('input[name="cf_nrl_plantmaster269_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster269_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster269_id_display"]').attr('readonly',true);
							$('#InboundDelivery_editView_fieldName_cf_nrl_plantmaster269_id_select').parent().remove();
							$('#InboundDelivery_editView_fieldName_cf_nrl_plantmaster269_id_create').parent().remove();
							var yr = $('select[name="cf_4319"]').val();
	var month = $('select[name="cf_4321"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3200"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3200"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3200"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3200"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});	
							
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
	
	
	
	
	
	jQuery(document).on('blur','[id^=serialno]', function(e) {
		$('.save_sno').prop("disabled",true);
		var serialid = $(this).attr('id');
		var serialval = $(this).val();
		var serial = serialid.split('_');
		var serialline = serial[1];
		var serialno = serial[2];
		var serialcnt = $('#tscount_'+serialline).val();
		for(var i = 0; i<serialcnt; i++)
		{
			if(i != serialno)
			{
				var otherserial = $('#serialno_'+serialline+'_'+i).val();
				if(otherserial != "" && serialval!= "")
				{
					if(otherserial == serialval)
					{
						alert("Same Serial Number found");
						$(this).val('');
						$(this).focus();
					}
				}
			}
		}
		var line = $('#totalRowCount_Line_Item').val();
		var lines = line.split(',');
		var lineno = lines.length;
		if(lineno > 1)
		{
			for(var j=1;j<=lineno;j++)
			{
				var serialnos = $('[name=cf_2888_'+j+']').val();
				var allserial = serialnos.split(',');
				var len = allserial.length;
				for(var k = 0; k<len; k++)
				{
					if(allserial[k] != "" && serialval!= "")
					{
						if(allserial[k] == serialval)
						{
							alert("Same Serial Number found");
							$(this).val('');
							$(this).focus();
						}
					}						
				}
			}
		}
		var reference = $('[name="cf_3193"]').val();
		if(reference == 'With respect to PO')
		{
			if(serialval != "")
			{
			$.ajax(
				{
					type:"post",
					url: "shirshaAjax.php",
					data: {serialval:serialval , action: 'getSerialCheck'},
					dataType: 'json',
					success:function(response)
					{
						if(response.message != "")
						{
							alert(response.message);
							$('#'+serialid).val('');
							$('#'+serialid).focus();
							$('.save_sno').prop("disabled",false);
						}
						$('.save_sno').prop("disabled",false);
					}
				});
			}
		}
		else{
			var mode = $('#directMode_Line_Item').val();
			if(mode == '0')
			{
				var productid = $('[name="cf_2868"]').val();
			}
			else
			{
				var productid = $('[name=cf_2868_'+serialline+']').val();
			}
			
			if(serialval != "")
			{
				$.ajax(
				{
					type:"post",
					url: "shirshaAjax.php",
					data: {productid:productid, serialval:serialval , action: 'getSerialCheckNew'},
					dataType: 'json',
					success:function(response)
					{
						if(response.message != "")
						{
							alert(response.message);
							$('.save_sno').prop("disabled",false);
							$('#'+serialid).val('');
							$('#'+serialid).focus();
								
						}
						$('.save_sno').prop("disabled",false);
					}
				});
			}
		}
		
	});
	jQuery(document).on('change','[name^=cf_4319]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4321"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster269_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3200"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3200"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3200"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3200"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});


	jQuery(document).on('change','[name^=cf_4321]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4319"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster269_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3200"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3200"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3200"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3200"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('keyup','[name^=cf_2878]', function(e) {
	$('.saveButton').removeAttr('disabled');
	});

	jQuery(document).on('click','.serialwindow', function(e) {
	$('.saveButton').removeAttr('disabled');
	var ids = $(this).prop('id');
	if(ids == '')
	{
		$(this).attr('id','serial1');
		ids = 'serial1';
		$(this).attr('name',ids);
	}
	var id = ids.substr('6',ids.length);
	var mode = $('#directMode_Line_Item').val();
	if(mode == '0')
	{
		var nosid = parseInt($('#cf_2878').val());
		var serialnos = $('#cf_2888').val();
	}
	else
	{
		var nosid = parseInt($('#cf_2878_'+id).val());
		var serialnos = $('#cf_2888_'+id).val();
	}
		$.ajax(
		{
		type:"post",
		url: "arocrmAjax.php",
		data: {id:id, totalno: nosid, serialnos : serialnos, action: 'getPopulatedTextBoxSerialNumber'},
		dataType: 'json',
		success:function(response)
		{
		$('.modal-body'+id).html(response.message);
		}
		});


	});

	jQuery(document).on('click','.save_sno', function(e) {
	var ids = $(this).prop('id');
	var tm = ids.split("_");
	var id = tm[1];
	var string = "";
	var l = 1;
	var rowcount = $('#tscount_'+id).val();
	for(var k = 0;k < rowcount;k++){
	var data = $('#serialno_'+id+'_'+k).val();
	if(data!="" && data!=undefined){
	 if(l==1){
	 string = data;
	 }else{
	 string = string +","+ data;
     }
	l++;
	}
	}
	var mode = $('#directMode_Line_Item').val();
	if(mode == '0')
	{
		$('#cf_2888').html(string);
		$('#cf_2890').html(string);
	}
	else
	{
		$('#cf_2888_'+id).html(string);
		$('#cf_2890_'+id).html(string);
	}
	$('#myModal'+id).modal('toggle');
	});


	}


	if(sourceModule=="PurchasePayment" && view=='Edit')
	{
		jQuery(document).on('keyup','input[name="cf_3038"]', function(e) {
			var paid = this.value;
			var total = $('input[name="cf_3036"]').val();
			var balance = parseFloat(total) - parseFloat(paid);
			$('input[name="cf_3040"]').val(balance);
			$('input[name="cf_3040"]').attr('readonly','true');
		});
	}


if(sourceModule=="DiscountMaster" && view=='Edit'){

jQuery(window).load(function(){
var data = $('[name="cf_4160"]').val();
if(data=='Product Category'){
 $('div#Product_Scheme_divblock').addClass('hide');
  $('div#Product_Category_divblock').addClass('show');
  $('div#Product_Subcategory_divblock').addClass('hide');
  $('div#Payment_Scheme_divblock').addClass('hide');
}else if(data == 'Payment Wise'){
	$('div#Product_Scheme_divblock').addClass('hide');
	$('div#Product_Category_divblock').addClass('hide');
	$('div#Product_Subcategory_divblock').addClass('hide');
	$('div#Payment_Scheme_divblock').addClass('show');
}else{
 $('div#Product_Scheme_divblock').addClass('hide');
  $('div#Product_Category_divblock').addClass('hide');
  $('div#Product_Subcategory_divblock').addClass('hide');
  $('div#Payment_Scheme_divblock').addClass('hide');  
}	
 


  $.ajax(
  {
  type:"post",
  url: "arocrmAjax.php",
  data: { action: 'loadSchemeMasterWindow',recordid: recordid},
  dataType: 'json',
  success:function(response)
  {
    $('[name^="cf_4180"]').html(response.productcategory);
    $('[name^="cf_4180"]').select2();

    $('[name^="cf_4182"]').html(response.productsubcategory);
    $('[name^="cf_4182"]').select2();

	
	var j=1;
	$.each(response.sselectedval,function(index,value){
		$('[name="cf_4180_'+j+'"]').select2('data', {id:value,text:value});
	j++;
	});

	
	

  }
  });

});

jQuery(document).on('keyup','[name^="cf_4294"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4294'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4174'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4176'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4178'+idss+'"]').val(sum);
  $('[name="cf_4178'+idss+'"]').prop('readonly',true);
});

jQuery(document).on('keyup','[name^="cf_4174"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4294'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4174'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4176'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4178'+idss+'"]').val(sum);
  $('[name="cf_4178'+idss+'"]').prop('readonly',true);
});

jQuery(document).on('keyup','[name^="cf_4176"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4294'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4174'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4176'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4178'+idss+'"]').val(sum);
  $('[name="cf_4178'+idss+'"]').prop('readonly',true);
});


jQuery(document).on('keyup','[name^="cf_4296"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4296'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4192'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4194'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4196'+idss+'"]').val(sum);
  $('[name="cf_4196'+idss+'"]').prop('readonly',true);
});

jQuery(document).on('keyup','[name^="cf_4192"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4296'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4192'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4194'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4196'+idss+'"]').val(sum);
  $('[name="cf_4196'+idss+'"]').prop('readonly',true);
});

jQuery(document).on('keyup','[name^="cf_4194"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4296'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4192'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4194'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4196'+idss+'"]').val(sum);
  $('[name="cf_4196'+idss+'"]').prop('readonly',true);
});

jQuery(document).on('keyup','[name^="cf_4298"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4298'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4206'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4208'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4210'+idss+'"]').val(sum);
  $('[name="cf_4210'+idss+'"]').prop('readonly',true);
});

jQuery(document).on('keyup','[name^="cf_4206"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4298'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4206'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4208'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4210'+idss+'"]').val(sum);
  $('[name="cf_4210'+idss+'"]').prop('readonly',true);
});

jQuery(document).on('keyup','[name^="cf_4208"]',function(){
  var name  = $(this).prop('name');
  var para = name.split('_');
  var idss = '';

  if(para.length==2)
  {
  idss = '';
  }else if(para.length==3)
  {
  var ifd = para[para.length - 1];
  idss = '_'+ifd;
  }
  var val1 = $('[name="cf_4298'+idss+'"]').val();
  if(val1 ==undefined || val1 == ''){
    val1 = 0;
  }
  var val2 = $('[name="cf_4206'+idss+'"]').val();
  if(val2 ==undefined || val2 == ''){
    val2 = 0;
  }
  var val3 = $('[name="cf_4208'+idss+'"]').val();
  if(val3 ==undefined || val3 == ''){
    val3 = 0;
  }
  var sum = parseFloat(val1) + parseFloat(val2) + parseFloat(val3);
  $('[name="cf_4210'+idss+'"]').val(sum);
  $('[name="cf_4210'+idss+'"]').prop('readonly',true);
});


  jQuery(document).on('change','[name="cf_4162"]', function(e) {
	  var period = this.value;
	  if(period == 'Monthly')
	  {
		$('[name="cf_5181"]').closest('td').hide();
		$('[name="cf_5181"]').closest('td').prev('td').hide();
		$('[name="cf_5187"]').closest('td').hide();
		$('[name="cf_5187"]').closest('td').prev('td').hide(); 
	  }
	  else if(period == 'Quarterly')
	  {
		$('[name="cf_5181"]').closest('td').show();
		$('[name="cf_5181"]').closest('td').prev('td').show();
		$('[name="cf_5187"]').closest('td').hide();
		$('[name="cf_5187"]').closest('td').prev('td').hide();
	  }
	  else if(period == 'Halfyearly')
	  {
		$('[name="cf_5181"]').closest('td').hide();
		$('[name="cf_5181"]').closest('td').prev('td').hide();
		$('[name="cf_5187"]').closest('td').show();
		$('[name="cf_5187"]').closest('td').prev('td').show();
	  }
	  else if(period == 'Annually')
	  {
		$('[name="cf_5181"]').closest('td').hide();
		$('[name="cf_5181"]').closest('td').prev('td').hide();
		$('[name="cf_5187"]').closest('td').hide();
		$('[name="cf_5187"]').closest('td').prev('td').hide();
	  }
  });
  jQuery(document).on('change','[name="cf_5178"]', function(e) {
	var period = $('[name="cf_4162"]').val();
	if(period == 'Monthly')
	  {
		$('[name="cf_5181"]').closest('td').hide();
		$('[name="cf_5181"]').closest('td').prev('td').hide();
		$('[name="cf_5187"]').closest('td').hide();
		$('[name="cf_5187"]').closest('td').prev('td').hide(); 
	  }
	  else if(period == 'Quarterly')
	  {
		$('[name="cf_5181"]').closest('td').show();
		$('[name="cf_5181"]').closest('td').prev('td').show();
		$('[name="cf_5187"]').closest('td').hide();
		$('[name="cf_5187"]').closest('td').prev('td').hide();
	  }
	  else if(period == 'Halfyearly')
	  {
		$('[name="cf_5181"]').closest('td').hide();
		$('[name="cf_5181"]').closest('td').prev('td').hide();
		$('[name="cf_5187"]').closest('td').show();
		$('[name="cf_5187"]').closest('td').prev('td').show();
	  }
	  else if(period == 'Annually')
	  {
		$('[name="cf_5181"]').closest('td').hide();
		$('[name="cf_5181"]').closest('td').prev('td').hide();
		$('[name="cf_5187"]').closest('td').hide();
		$('[name="cf_5187"]').closest('td').prev('td').hide();
	  }
  });

  jQuery(document).on('change','[name="cf_4160"]', function(e) {

    var values = this.value;
    if(values=='Product'){

    $('div#Product_Scheme_divblock').removeClass('hide');
    $('div#Product_Category_divblock').addClass('hide');
    $('div#Product_Subcategory_divblock').addClass('hide');
	$('div#Payment_Scheme_divblock').addClass('hide');

    }else if(values=='Product Category'){

      $('div#Product_Scheme_divblock').addClass('hide');
      $('div#Product_Category_divblock').removeClass('hide');
      $('div#Product_Subcategory_divblock').addClass('hide');
	  $('div#Payment_Scheme_divblock').addClass('hide');
    }else if(values=='Product Sub-Category'){

      $('div#Product_Scheme_divblock').addClass('hide');
      $('div#Product_Category_divblock').addClass('hide');
      $('div#Product_Subcategory_divblock').removeClass('hide');
	  $('div#Payment_Scheme_divblock').addClass('hide');
    }else if(values=='Payment Wise'){

      $('div#Product_Scheme_divblock').addClass('hide');
      $('div#Product_Category_divblock').addClass('hide');
      $('div#Product_Subcategory_divblock').addClass('hide');
	  $('div#Payment_Scheme_divblock').removeClass('hide');

    }else{

      $('div#Product_Scheme_divblock').addClass('hide');
      $('div#Product_Category_divblock').addClass('hide');
      $('div#Product_Subcategory_divblock').addClass('hide');
	  $('div#Payment_Scheme_divblock').addClass('hide');
    }

  });

}




  if(sourceModule=="SchemeMaster" && view=='Edit')
  {

    jQuery(window).load(function(e) {

      $.ajax(
      {
      type:"post",
      url: "arocrmAjax.php",
      data: { action: 'loadSchemeMasterWindow'},
      dataType: 'json',
      success:function(response)
      {
        $('[name^="cf_3677"]').html(response.productcategory);
        $('[name^="cf_3677"]').select2();

        $('[name^="cf_3719"]').html(response.productcategory);
        $('[name^="cf_3719"]').select2();

        $('[name^="cf_3683"]').html(response.productsubcategory);
        $('[name^="cf_3683"]').select2();

        $('[name^="cf_3721"]').html(response.productsubcategory);
        $('[name^="cf_3721"]').select2();

      }
      });

    });


    jQuery(document).on('change','[name^="cf_3713"]', function(e) {
    var vals  = $(this).val();
    var name  = $(this).prop('name');
    var para = name.split('_');
    var idss = '';

    if(para.length==2)
    {
    idss = '';
    }else if(para.length==3)
    {
    var ifd = para[para.length - 1];
    idss = '_'+ifd;
    }

    if(vals=='Foreign Trip'){

      jQuery('[name="cf_3715'+idss+'"]').prop('readonly',false);
      $('[name="cf_3719'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3721'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3717'+idss+'"]').closest('div').parent().addClass('hide');

    }else if(vals=='Gifts'){

      jQuery('[name="cf_3715'+idss+'"]').prop('readonly',false);
      $('[name="cf_3719'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3721'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3717'+idss+'"]').closest('div').parent().addClass('hide');

    }else if(vals=='Discount %'){

      jQuery('[name="cf_3715'+idss+'"]').prop('readonly',false);
      $('[name="cf_3719'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3721'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3717'+idss+'"]').closest('div').parent().addClass('hide');

    }else if(vals=='Cash Discount'){

      jQuery('[name="cf_3715'+idss+'"]').prop('readonly',false);
      $('[name="cf_3719'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3721'+idss+'"]').select2().select2("readonly", true);
        $('[name="cf_3717'+idss+'"]').closest('div').parent().addClass('hide');

    }else if(vals=='FOC (Product)'){

      jQuery('[name="cf_3715'+idss+'"]').prop('readonly',true);
      $('[name="cf_3719'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3721'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3717'+idss+'"]').closest('div').parent().removeClass('hide');

    }else if(vals=='FOC (Product category)'){

      jQuery('[name="cf_3715'+idss+'"]').prop('readonly',true);
      $('[name="cf_3719'+idss+'"]').select2().select2("readonly", false);
      $('[name="cf_3721'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3717'+idss+'"]').closest('div').parent().addClass('hide');

    }else if(vals=='FOC (Product Subcategory)'){

      jQuery('[name="cf_3715'+idss+'"]').prop('readonly',true);
      $('[name="cf_3719'+idss+'"]').select2().select2("readonly", true);
      $('[name="cf_3721'+idss+'"]').select2().select2("readonly", false);
      $('[name="cf_3717'+idss+'"]').closest('div').parent().addClass('hide');

    }

    });

    jQuery(document).on('change','[name="cf_2062"]', function(e) {
      var values = this.value;
      if(values=='Product'){

      $('div#Product_Scheme_divblock').removeClass('hide');
      $('div#Product_Category_divblock').addClass('hide');
      $('div#Product_Subcategory_divblock').addClass('hide');

      }else if(values=='Product Category'){

        $('div#Product_Scheme_divblock').addClass('hide');
        $('div#Product_Category_divblock').removeClass('hide');
        $('div#Product_Subcategory_divblock').addClass('hide');

      }else if(values=='Product Sub-Category'){

        $('div#Product_Scheme_divblock').addClass('hide');
        $('div#Product_Category_divblock').addClass('hide');
        $('div#Product_Subcategory_divblock').removeClass('hide');

      }else{

        $('div#Product_Scheme_divblock').addClass('hide');
        $('div#Product_Category_divblock').addClass('hide');
        $('div#Product_Subcategory_divblock').addClass('hide');


      }



    });
  }

	if(sourceModule=="PurchaseReq" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4601"]').select2().select2('readonly',true);
			$('[name="cf_4603"]').select2().select2('readonly',true);
			$('[name="cf_3202"]').datepicker("remove");
			$('[name="cf_3202"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4603"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}				
	$('select[name="cf_4601"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
						$('input[name="cf_3202"]').val(postingdate);
						$('input[name="cf_1759"]').val(postingdate);
		}
	var curday = d.getDate();
	
			$.ajax(
			{
			type:"post",
			url: "shirshaAjax.php",
			data: {action: 'getPlant'},
			dataType: 'json',
			success:function(response)
			{
			if(response.plantid != null)
			{
				$('input[name="cf_nrl_plantmaster436_id"]').val(response.plantid);
				$('input[name="cf_nrl_plantmaster436_id_display"]').val(response.plantname);
				$('input[name="cf_nrl_plantmaster436_id_display"]').attr('readonly',true);
				$('#PurchaseReq_editView_fieldName_cf_nrl_plantmaster436_id_select').parent().remove();
				$('#PurchaseReq_editView_fieldName_cf_nrl_plantmaster436_id_create').parent().remove();
				
				var yr = $('select[name="cf_4601"]').val();
				var month = $('select[name="cf_4603"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var years = lstyr;
					}
					else
					{
						var years = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: years, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && years == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = years + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && years == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = years + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: years, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = years + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = years + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3202"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3202"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3202"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3202"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});	
				
				
				
				
				
$.ajax(
{
type:"post",
url: "arocrmAjax.php",
data: {plantid : response.plantid, action: 'loadAllStockReq'},
dataType: 'json',
success:function(responses)
{

$('#PurchaseReq_Edit_fieldName_cf_2765').html('');
$('#PurchaseReq_Edit_fieldName_cf_2765').html(responses.message);
$('#PurchaseReq_Edit_fieldName_cf_2765').select2();
var d = new Date();
var month = d.getMonth()+1;
var day = d.getDate();
var today = d.getFullYear() + '-' + ((''+month).length<2 ? '0' : '') + month + '-' + ((''+day).length<2 ? '0' : '') + day;
var year = d.getFullYear();
var plant = response.plantid;
$.ajax(
{
type:"post",
url: "shirshaAjax.php",
data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
dataType: 'json',
success:function(response)
{
var graceday = response.days;
var chkval = response.fiscalval;
if(chkval == '1')
{
var gday = parseInt(graceday) - parseInt(1);
var pd = new Date(d.setDate(d.getDate()-parseInt(gday)));
var pmonth = pd.getMonth()+1;
var pday = pd.getDate();
var prevday = pd.getFullYear() + '-' + ((''+pmonth).length<2 ? '0' : '') + pmonth + '-' + ((''+pday).length < 2 ? '0' : '') + pday;

var minDate = new Date(prevday);
$('#PurchaseReq_editView_fieldName_cf_3202').datepicker('setStartDate', minDate);

var maxDate = new Date(today);
$('#PurchaseReq_editView_fieldName_cf_3202').datepicker('setEndDate', maxDate);

}
else
{
var minDate = new Date(today);
$('#PurchaseReq_editView_fieldName_cf_3202').datepicker('setStartDate', minDate);

var maxDate = new Date(today);
$('#PurchaseReq_editView_fieldName_cf_3202').datepicker('setEndDate', maxDate);
}
}
});

}
});


	
				
		
				
			}
			}
			});
			
			
			
			
			
			
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		
				


		jQuery(document).ready(function(){
		var d = new Date();
		var curmonth = d.getMonth()+1;
		var curday = d.getDate();
		var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
		var minDate = new Date(today);
		$('[name="cf_4866"]').datepicker('setStartDate', minDate);
		});
	
	
		jQuery(document).on('change','[name="cf_4866"]',function(){
		var dates  = jQuery('[name="cf_4866"]').val();
		var tmpdt = dates.split("-");
		if(tmpdt[0].toString().length=='2' && tmpdt[1].toString().length=='2' && tmpdt[2].toString().length=='4'){
		dates = tmpdt[2] + "-" + tmpdt[1] + "-" + tmpdt[0];
		}
		jQuery('[name^="cf_1754"]').val(dates);
		
		
		
		});
		
		
		var plantid = $('input[name="cf_nrl_plantmaster436_id"]').val();
		$('[name="cf_4809"').select2().select2('readonly',true);
		jQuery(document).on('change','[name^=cf_4601]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4603"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3202"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3202"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3202"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3202"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4603]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4601"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3202"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3202"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3202"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3202"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
		jQuery(document).on('change','#PurchaseReq_Edit_fieldName_cf_2765', function(e) {
			var j = 1;
			var seldata = "";
			$('#PurchaseReq_Edit_fieldName_cf_2765 :selected').each(function(){
			if(j==1){
			seldata = $(this).val();
			}else{
			seldata = seldata + "," + $(this).val();
			}
			j++;
			});

			var plant = $('[name="cf_nrl_plantmaster436_id"]').val();
				$.ajax(
				{
				type:"post",
				url: "arocrmAjax.php",
				data: {id: seldata, plant : plant, action: 'getPurchaseReqLineitem'},
				dataType: 'json',
				success:function(response)
				{
				console.log(response);
				$("table#Purchase_Req_Lineitem > tbody").empty();
				$("table#Purchase_Req_Lineitem > tbody").html(response.message);
				$("#totalRowCount_Purchase_Req_Lineitem").val(response.rowcount);
				$(".customPicklistSelect2").select2();
				$('#directMode_Purchase_Req_Lineitem').val('1');
				$('#tr_clone_add__Purchase_Req_Lineitem').prop('disabled',true);
				}
				});

		});
	}




	if(sourceModule=="SalesBudget" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4782"]').datepicker("remove");
			$('[name="cf_4782"]').attr('readonly',true);
			$('[name="cf_3424"]').select2().select2('readonly',true);
			$('[name="cf_1493"]').select2().select2('readonly',true);
		}
		$(window).load(function(){
		setTimeout(function(){	
		$('[name^="cf_4399"]').select2().select2('readonly',true);
		$('[name^="cf_4415"]').attr('readonly',true);
		$('[name^="cf_4421"]').attr('readonly',true);
		$('[name^="cf_4427"]').attr('readonly',true);
		$('[name^="cf_4449"]').attr('readonly',true);
		$('[name^="cf_4463"]').attr('readonly',true);
		$('[name^="cf_4469"]').attr('readonly',true);
		$('[name^="cf_4475"]').attr('readonly',true);
		$('[name^="cf_4481"]').attr('readonly',true);
		$('[name^="cf_4487"]').attr('readonly',true);
		$('[name^="cf_4493"]').attr('readonly',true);
		$('[name^="cf_4499"]').attr('readonly',true);
		$('[name^="cf_4505"]').attr('readonly',true);
		$('[name^="cf_4511"]').attr('readonly',true);
		$('[name="cf_4805"]').select2().select2('readonly',true);
		},1000);
		});
		$('#tr_clone_add__Category_Wise').attr('disabled',true);
		if(recordid == '' || recordid == undefined)
		{
			var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_1493"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_3424"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4782"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster615_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster615_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster615_id_display"]').attr('readonly',true);
							$('#SalesBudget_editView_fieldName_cf_nrl_plantmaster615_id_select').parent().remove();
							$('#SalesBudget_editView_fieldName_cf_nrl_plantmaster615_id_create').parent().remove();
							
							
	var yr = $('select[name="cf_3424"]').val();
	var month = $('select[name="cf_1493"]').val();
	var d = new Date();
	var curmonth = d.getMonth()+1;
	var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4782"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4782"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4782"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4782"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});	
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}


		jQuery(document).on('change','[name^=cf_3424]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_1493"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster615_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4782"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4782"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4782"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4782"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});


	jQuery(document).on('change','[name^=cf_1493]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_3424"]').val();
					
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster615_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4782"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4782"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4782"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4782"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
		/*
			jQuery('form#EditView').on('submit',function(){
			var rownum4w = $('#totalRowCount_4W').val();
				var row4wArray = rownum4w.split(",");
				var row4wLength = row4wArray.length;
				if(row4wLength == '1')
				{
					var i = rownum4w;
					var flag4w = 0;
					var total4w = $('input[name="cf_2341_'+i+'"]').val();
					var april4w = $('input[name="cf_2355_'+i+'"]').val();
					if(april4w=="" || april4w==undefined)
					{
						april4w = 0.00;
					}
					var may4w = $('input[name="cf_2361_'+i+'"]').val();
					if(may4w=="" || may4w==undefined)
					{
						may4w = 0.00;
					}
					var june4w = $('input[name="cf_2367_'+i+'"]').val();
					if(june4w=="" || june4w==undefined)
					{
						june4w = 0.00;
					}
					var july4w = $('input[name="cf_2373_'+i+'"]').val();
					if(july4w=="" || july4w==undefined)
					{
						july4w = 0.00;
					}
					var aug4w = $('input[name="cf_2379_'+i+'"]').val();
					if(aug4w=="" || aug4w==undefined)
					{
						aug4w = 0.00;
					}
					var sep4w = $('input[name="cf_2385_'+i+'"]').val();
					if(sep4w=="" || sep4w==undefined)
					{
						sep4w = 0.00;
					}
					var oct4w = $('input[name="cf_2391_'+i+'"]').val();
					if(oct4w=="" || oct4w==undefined)
					{
						oct4w = 0.00;
					}
					var nov4w = $('input[name="cf_2397_'+i+'"]').val();
					if(nov4w=="" || nov4w==undefined)
					{
						nov4w = 0.00;
					}
					var dec4w = $('input[name="cf_2403_'+i+'"]').val();
					if(dec4w=="" || dec4w==undefined)
					{
						dec4w = 0.00;
					}
					var jan4w = $('input[name="cf_2409_'+i+'"]').val();
					if(jan4w=="" || jan4w==undefined)
					{
						jan4w = 0.00;
					}
					var feb4w = $('input[name="cf_2418_'+i+'"]').val();
					if(feb4w=="" || feb4w==undefined)
					{
						feb4w = 0.00;
					}
					var mar4w = $('input[name="cf_2426_'+i+'"]').val();
					if(mar4w=="" || mar4w==undefined)
					{
						mar4w = 0.00;
					}
					var all4w = parseFloat(april4w) + parseFloat(may4w) + parseFloat(june4w) + parseFloat(july4w) + parseFloat(aug4w) + parseFloat(sep4w) + parseFloat(oct4w) + parseFloat(nov4w) + parseFloat(dec4w) + parseFloat(jan4w) +parseFloat(feb4w) + parseFloat(mar4w);
					if(total4w == all4w)
					{
						flag4w = 1;
					}
				}
				else
				{
					for(var i =1; i<=row4wLength; i++)
					{
						var flag4w = 0;
						var total4w = $('input[name="cf_2341_'+i+'"]').val();
						var april4w = $('input[name="cf_2355_'+i+'"]').val();
						if(april4w=="" || april4w==undefined)
						{
							april4w = 0.00;
						}
						var may4w = $('input[name="cf_2361_'+i+'"]').val();
						if(may4w=="" || may4w==undefined)
						{
							may4w = 0.00;
						}
						var june4w = $('input[name="cf_2367_'+i+'"]').val();
						if(june4w=="" || june4w==undefined)
						{
							june4w = 0.00;
						}
						var july4w = $('input[name="cf_2373_'+i+'"]').val();
						if(july4w=="" || july4w==undefined)
						{
							july4w = 0.00;
						}
						var aug4w = $('input[name="cf_2379_'+i+'"]').val();
						if(aug4w=="" || aug4w==undefined)
						{
							aug4w = 0.00;
						}
						var sep4w = $('input[name="cf_2385_'+i+'"]').val();
						if(sep4w=="" || sep4w==undefined)
						{
							sep4w = 0.00;
						}
						var oct4w = $('input[name="cf_2391_'+i+'"]').val();
						if(oct4w=="" || oct4w==undefined)
						{
							oct4w = 0.00;
						}
						var nov4w = $('input[name="cf_2397_'+i+'"]').val();
						if(nov4w=="" || nov4w==undefined)
						{
							nov4w = 0.00;
						}
						var dec4w = $('input[name="cf_2403_'+i+'"]').val();
						if(dec4w=="" || dec4w==undefined)
						{
							dec4w = 0.00;
						}
						var jan4w = $('input[name="cf_2409_'+i+'"]').val();
						if(jan4w=="" || jan4w==undefined)
						{
							jan4w = 0.00;
						}
						var feb4w = $('input[name="cf_2418_'+i+'"]').val();
						if(feb4w=="" || feb4w==undefined)
						{
							feb4w = 0.00;
						}
						var mar4w = $('input[name="cf_2426_'+i+'"]').val();
						if(mar4w=="" || mar4w==undefined)
						{
							mar4w = 0.00;
						}
						var all4w = parseFloat(april4w) + parseFloat(may4w) + parseFloat(june4w) + parseFloat(july4w) + parseFloat(aug4w) + parseFloat(sep4w) + parseFloat(oct4w) + parseFloat(nov4w) + parseFloat(dec4w) + parseFloat(jan4w) +parseFloat(feb4w) + parseFloat(mar4w);
						if(total4w == all4w)
						{
							flag4w = 1;
						}
					}
				}
			var rownum2w = $('#totalRowCount_2W').val();
			var row2wArray = rownum2w.split(",");
				var row2wLength = row2wArray.length;
				if(row2wLength == '1')
				{
					var i = rownum2w;
					var flag2w = 0;
					var total2w = $('input[name="cf_2446_'+i+'"]').val();
					var april2w = $('input[name="cf_2452_'+i+'"]').val();
					if(april2w=="" || april2w==undefined)
					{
						april2w = 0.00;
					}
					var may2w = $('input[name="cf_2466_'+i+'"]').val();
					if(may2w=="" || may2w==undefined)
					{
						may2w = 0.00;
					}
					var june2w = $('input[name="cf_2476_'+i+'"]').val();
					if(june2w=="" || june2w==undefined)
					{
						june2w = 0.00;
					}
					var july2w = $('input[name="cf_2486_'+i+'"]').val();
					if(july2w=="" || july2w==undefined)
					{
						july2w = 0.00;
					}
					var aug2w = $('input[name="cf_2494_'+i+'"]').val();
					if(aug2w=="" || aug2w==undefined)
					{
						aug2w = 0.00;
					}
					var sep2w = $('input[name="cf_2506_'+i+'"]').val();
					if(sep2w=="" || sep2w==undefined)
					{
						sep2w = 0.00;
					}
					var oct2w = $('input[name="cf_2518_'+i+'"]').val();
					if(oct2w=="" || oct2w==undefined)
					{
						oct2w = 0.00;
					}
					var nov2w = $('input[name="cf_2526_'+i+'"]').val();
					if(nov2w=="" || nov2w==undefined)
					{
						nov2w = 0.00;
					}
					var dec2w = $('input[name="cf_2538_'+i+'"]').val();
					if(dec2w=="" || dec2w==undefined)
					{
						dec2w = 0.00;
					}
					var jan2w = $('input[name="cf_2550_'+i+'"]').val();
					if(jan2w=="" || jan2w==undefined)
					{
						jan2w = 0.00;
					}
					var feb2w = $('input[name="cf_2562_'+i+'"]').val();
					if(feb2w=="" || feb2w==undefined)
					{
						feb2w = 0.00;
					}
					var mar2w = $('input[name="cf_2574_'+i+'"]').val();
					if(mar2w=="" || mar2w==undefined)
					{
						mar2w = 0.00;
					}
					var all2w = parseFloat(april2w) + parseFloat(may2w) + parseFloat(june2w) + parseFloat(july2w) + parseFloat(aug2w) + parseFloat(sep2w) + parseFloat(oct2w) + parseFloat(nov2w) + parseFloat(dec2w) + parseFloat(jan2w) +parseFloat(feb2w) + parseFloat(mar2w);
					if(total2w == all2w)
					{
						flag2w = 1;
					}
				}
				else
				{
					for(var i =1; i<=row2wLength; i++)
					{
						var flag2w = 0;
						var total2w = $('input[name="cf_2446_'+i+'"]').val();
						var april2w = $('input[name="cf_2452_'+i+'"]').val();
						if(april2w=="" || april2w==undefined)
						{
							april2w = 0.00;
						}
						var may2w = $('input[name="cf_2466_'+i+'"]').val();
						if(may2w=="" || may2w==undefined)
						{
							may2w = 0.00;
						}
						var june2w = $('input[name="cf_2476_'+i+'"]').val();
						if(june2w=="" || june2w==undefined)
						{
							june2w = 0.00;
						}
						var july2w = $('input[name="cf_2486_'+i+'"]').val();
						if(july2w=="" || july2w==undefined)
						{
							july2w = 0.00;
						}
						var aug2w = $('input[name="cf_2494_'+i+'"]').val();
						if(aug2w=="" || aug2w==undefined)
						{
							aug2w = 0.00;
						}
						var sep2w = $('input[name="cf_2506_'+i+'"]').val();
						if(sep2w=="" || sep2w==undefined)
						{
							sep2w = 0.00;
						}
						var oct2w = $('input[name="cf_2518_'+i+'"]').val();
						if(oct2w=="" || oct2w==undefined)
						{
							oct2w = 0.00;
						}
						var nov2w = $('input[name="cf_2526_'+i+'"]').val();
						if(nov2w=="" || nov2w==undefined)
						{
							nov2w = 0.00;
						}
						var dec2w = $('input[name="cf_2538_'+i+'"]').val();
						if(dec2w=="" || dec2w==undefined)
						{
							dec2w = 0.00;
						}
						var jan2w = $('input[name="cf_2550_'+i+'"]').val();
						if(jan2w=="" || jan2w==undefined)
						{
							jan2w = 0.00;
						}
						var feb2w = $('input[name="cf_2562_'+i+'"]').val();
						if(feb2w=="" || feb2w==undefined)
						{
							feb2w = 0.00;
						}
						var mar2w = $('input[name="cf_2574_'+i+'"]').val();
						if(mar2w=="" || mar2w==undefined)
						{
							mar2w = 0.00;
						}
						var all2w = parseFloat(april2w) + parseFloat(may2w) + parseFloat(june2w) + parseFloat(july2w) + parseFloat(aug2w) + parseFloat(sep2w) + parseFloat(oct2w) + parseFloat(nov2w) + parseFloat(dec2w) + parseFloat(jan2w) +parseFloat(feb2w) + parseFloat(mar2w);
						if(total2w == all2w)
						{
							flag2w = 1;
						}
					}
				}
			var rownumib = $('#totalRowCount_IB').val();
				var rowibArray = rownumib.split(",");
				var rowibLength = rowibArray.length;
				if(rowibLength == '1')
				{
					var i = rownumib;
					var flagib = 0;
					var totalib = $('input[name="cf_2474_'+i+'"]').val();
					var aprilib = $('input[name="cf_2490_'+i+'"]').val();
					if(aprilib=="" || aprilib==undefined)
					{
						aprilib = 0.00;
					}
					var mayib = $('input[name="cf_2504_'+i+'"]').val();
					if(mayib=="" || mayib==undefined)
					{
						mayib = 0.00;
					}
					var juneib = $('input[name="cf_2516_'+i+'"]').val();
					if(juneib=="" || juneib==undefined)
					{
						juneib = 0.00;
					}
					var julyib = $('input[name="cf_2532_'+i+'"]').val();
					if(julyib=="" || julyib==undefined)
					{
						julyib = 0.00;
					}
					var augib = $('input[name="cf_2544_'+i+'"]').val();
					if(augib=="" || augib==undefined)
					{
						augib = 0.00;
					}
					var sepib = $('input[name="cf_2556_'+i+'"]').val();
					if(sepib=="" || sepib==undefined)
					{
						sepib = 0.00;
					}
					var octib = $('input[name="cf_2568_'+i+'"]').val();
					if(octib=="" || octib==undefined)
					{
						octib = 0.00;
					}
					var novib = $('input[name="cf_2580_'+i+'"]').val();
					if(novib=="" || novib==undefined)
					{
						novib = 0.00;
					}
					var decib = $('input[name="cf_2588_'+i+'"]').val();
					if(decib=="" || decib==undefined)
					{
						decib = 0.00;
					}
					var janib = $('input[name="cf_2598_'+i+'"]').val();
					if(janib=="" || janib==undefined)
					{
						janib = 0.00;
					}
					var febib = $('input[name="cf_2608_'+i+'"]').val();
					if(febib=="" || febib==undefined)
					{
						febib = 0.00;
					}
					var marib = $('input[name="cf_2620_'+i+'"]').val();
					if(marib=="" || marib==undefined)
					{
						marib = 0.00;
					}
					var allib = parseFloat(aprilib) + parseFloat(mayib) + parseFloat(juneib) + parseFloat(julyib) + parseFloat(augib) + parseFloat(sepib) + parseFloat(octib) + parseFloat(novib) + parseFloat(decib) + parseFloat(janib) +parseFloat(febib) + parseFloat(marib);
					if(totalib == allib)
					{
						flagib = 1;
					}
				}
				else
				{
					for(var i =1; i<=rowibLength; i++)
					{
						var flagib = 0;
						var totalib = $('input[name="cf_2474_'+i+'"]').val();
						var aprilib = $('input[name="cf_2490_'+i+'"]').val();
						if(aprilib=="" || aprilib==undefined)
						{
							aprilib = 0.00;
						}
						var mayib = $('input[name="cf_2504_'+i+'"]').val();
						if(mayib=="" || mayib==undefined)
						{
							mayib = 0.00;
						}
						var juneib = $('input[name="cf_2516_'+i+'"]').val();
						if(juneib=="" || juneib==undefined)
						{
							juneib = 0.00;
						}
						var julyib = $('input[name="cf_2532_'+i+'"]').val();
						if(julyib=="" || julyib==undefined)
						{
							julyib = 0.00;
						}
						var augib = $('input[name="cf_2544_'+i+'"]').val();
						if(augib=="" || augib==undefined)
						{
							augib = 0.00;
						}
						var sepib = $('input[name="cf_2556_'+i+'"]').val();
						if(sepib=="" || sepib==undefined)
						{
							sepib = 0.00;
						}
						var octib = $('input[name="cf_2568_'+i+'"]').val();
						if(octib=="" || octib==undefined)
						{
							octib = 0.00;
						}
						var novib = $('input[name="cf_2580_'+i+'"]').val();
						if(novib=="" || novib==undefined)
						{
							novib = 0.00;
						}
						var decib = $('input[name="cf_2588_'+i+'"]').val();
						if(decib=="" || decib==undefined)
						{
							decib = 0.00;
						}
						var janib = $('input[name="cf_2598_'+i+'"]').val();
						if(janib=="" || janib==undefined)
						{
							janib = 0.00;
						}
						var febib = $('input[name="cf_2608_'+i+'"]').val();
						if(febib=="" || febib==undefined)
						{
							febib = 0.00;
						}
						var marib = $('input[name="cf_2620_'+i+'"]').val();
						if(marib=="" || marib==undefined)
						{
							marib = 0.00;
						}
						var allib = parseFloat(aprilib) + parseFloat(mayib) + parseFloat(juneib) + parseFloat(julyib) + parseFloat(augib) + parseFloat(sepib) + parseFloat(octib) + parseFloat(novib) + parseFloat(decib) + parseFloat(janib) +parseFloat(febib) + parseFloat(marib);
						if(totalib == allib)
						{
							flagib = 1;
						}
					}
				}
			var rownumer = $('#totalRowCount_ER').val();
			var rowerArray = rownumer.split(",");
				var rowerLength = rowerArray.length;
				if(rowerLength == '1')
				{
					var i = rownumer;
					var flager = 0;
					var totaler = $('input[name="cf_2600_'+i+'"]').val();
					var apriler = $('input[name="cf_2614_'+i+'"]').val();
					if(apriler=="" || apriler==undefined)
					{
						apriler = 0.00;
					}
					var mayer = $('input[name="cf_2626_'+i+'"]').val();
					if(mayer=="" || mayer==undefined)
					{
						mayer = 0.00;
					}
					var juneer = $('input[name="cf_2632_'+i+'"]').val();
					if(juneer=="" || juneer==undefined)
					{
						juneer = 0.00;
					}
					var julyer = $('input[name="cf_2638_'+i+'"]').val();
					if(julyer=="" || julyer==undefined)
					{
						julyer = 0.00;
					}
					var auger = $('input[name="cf_2644_'+i+'"]').val();
					if(auger=="" || auger==undefined)
					{
						auger = 0.00;
					}
					var seper = $('input[name="cf_2650_'+i+'"]').val();
					if(seper=="" || seper==undefined)
					{
						seper = 0.00;
					}
					var octer = $('input[name="cf_2656_'+i+'"]').val();
					if(octer=="" || octer==undefined)
					{
						octer = 0.00;
					}
					var nover = $('input[name="cf_2662_'+i+'"]').val();
					if(nover=="" || nover==undefined)
					{
						nover = 0.00;
					}
					var decer = $('input[name="cf_2668_'+i+'"]').val();
					if(decer=="" || decer==undefined)
					{
						decer = 0.00;
					}
					var janer = $('input[name="cf_2674_'+i+'"]').val();
					if(janer=="" || janer==undefined)
					{
						janer = 0.00;
					}
					var feber = $('input[name="cf_2680_'+i+'"]').val();
					if(feber=="" || feber==undefined)
					{
						feber = 0.00;
					}
					var marer = $('input[name="cf_2686_'+i+'"]').val();
					if(marer=="" || marer==undefined)
					{
						marer = 0.00;
					}
					var aller = parseFloat(apriler) + parseFloat(mayer) + parseFloat(juneer) + parseFloat(julyer) + parseFloat(auger) + parseFloat(seper) + parseFloat(octer) + parseFloat(nover) + parseFloat(decer) + parseFloat(janer) +parseFloat(feber) + parseFloat(marer);
					if(totaler == aller)
					{
						flager = 1;
					}
				}
				else
				{
					for(var i =1; i<=rowerLength; i++)
					{
						var flager = 0;
						var totaler = $('input[name="cf_2600_'+i+'"]').val();
						var apriler = $('input[name="cf_2614_'+i+'"]').val();
						if(apriler=="" || apriler==undefined)
						{
							apriler = 0.00;
						}
						var mayer = $('input[name="cf_2626_'+i+'"]').val();
						if(mayer=="" || mayer==undefined)
						{
							mayer = 0.00;
						}
						var juneer = $('input[name="cf_2632_'+i+'"]').val();
						if(juneer=="" || juneer==undefined)
						{
							juneer = 0.00;
						}
						var julyer = $('input[name="cf_2638_'+i+'"]').val();
						if(julyer=="" || julyer==undefined)
						{
							julyer = 0.00;
						}
						var auger = $('input[name="cf_2644_'+i+'"]').val();
						if(auger=="" || auger==undefined)
						{
							auger = 0.00;
						}
						var seper = $('input[name="cf_2650_'+i+'"]').val();
						if(seper=="" || seper==undefined)
						{
							seper = 0.00;
						}
						var octer = $('input[name="cf_2656_'+i+'"]').val();
						if(octer=="" || octer==undefined)
						{
							octer = 0.00;
						}
						var nover = $('input[name="cf_2662_'+i+'"]').val();
						if(nover=="" || nover==undefined)
						{
							nover = 0.00;
						}
						var decer = $('input[name="cf_2668_'+i+'"]').val();
						if(decer=="" || decer==undefined)
						{
							decer = 0.00;
						}
						var janer = $('input[name="cf_2674_'+i+'"]').val();
						if(janer=="" || janer==undefined)
						{
							janer = 0.00;
						}
						var feber = $('input[name="cf_2680_'+i+'"]').val();
						if(feber=="" || feber==undefined)
						{
							feber = 0.00;
						}
						var marer = $('input[name="cf_2686_'+i+'"]').val();
						if(marer=="" || marer==undefined)
						{
							marer = 0.00;
						}
						var aller = parseFloat(apriler) + parseFloat(mayer) + parseFloat(juneer) + parseFloat(julyer) + parseFloat(auger) + parseFloat(seper) + parseFloat(octer) + parseFloat(nover) + parseFloat(decer) + parseFloat(janer) +parseFloat(feber) + parseFloat(marer);
						if(totaler == aller)
						{
							flager = 1;
						}
					}
				}
			if(flag4w == '1' && flag2w == '1' && flagib == '1' && flager == '1')
			{
				return true;
			}
			else
			{
				alert("Total budgeted sales should match with sum of all months approximate sales budget");
				if(flag4w != '1')
				{
					alert("Check 4W Total budgeted Sales amount");
				}
				if(flag2w != '1')
				{
					alert("Check 2W Total budgeted Sales amount");
				}
				if(flagib != '1')
				{
					alert("Check IB Total budgeted Sales amount");
				}
				if(flager != '1')
				{
					alert("Check ER Total budgeted Sales amount");
				}
				return false;
			}
			});*/

jQuery(window).load(function() {
		setTimeout(function(){
		jQuery('#vte_tabs').remove();
		if(recordid != "" && recordid != undefined)
		{
			var type = $('select[name="cf_3495"]').val();
			if(type == 'Revised')
			{
			$('input[name="cf_2819"]').prop('readonly','true');
			$('input[name="cf_2821"]').prop('readonly','true');
			$('input[name="cf_2823"]').prop('readonly','true');
			$('input[name="cf_2825"]').prop('readonly','true');
			$('input[name="cf_3473"]').prop('readonly','true');
			$('input[name="cf_3477"]').prop('readonly','true');
			$('select[name="cf_3424"]').select2().select2('readonly',true);
			$('select[name="cf_3493"]').select2().select2('readonly',true);
			$('select[name="cf_3495"]').select2().select2('readonly',true);
			var lineitem = $('#totalRowCount_Category_Wise').val();
			var count = lineitem.split(",");
			var rownum = count.length;
			for(var i=1; i<=rownum; i++)
			{
				$('select[name="cf_4399_'+i+'"]').select2().select2('readonly',true);
				$('input[name="cf_4401_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4403_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4405_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4407_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4409_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4411_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4413_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4415_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4449_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4475_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4493_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
				$('input[name="cf_4511_'+i+'"]').prop('readonly','true');
			}
		}
		var quarter = $('select[name="cf_3493"]').val();
		if(quarter == '1')
					 {
						 var qdate = new Date(curyr,4-1,1);
						 var qnewdate = new Date(curyr,4-1,7);
							 
								var lineitem = $('#totalRowCount_Category_Wise').val();
								var count = lineitem.split(",");
								var rownum = count.length;
								for(var i=1; i<=rownum; i++)
								{
									$('input[name="cf_4417_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4419_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4421_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4423_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4425_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4427_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4429_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4439_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4449_'+i+'"]').removeAttr('readonly');

									$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

								}
							}
							else if(quarter == '2')
							{
						 
							var lineitem = $('#totalRowCount_Category_Wise').val();
							var count = lineitem.split(",");
							var rownum = count.length;
							for(var i=1; i<=rownum; i++)
							{
								$('input[name="cf_4459_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4461_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4463_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4465_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4467_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4469_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4471_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4473_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4475_'+i+'"]').removeAttr('readonly');

								$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

							}
							}
							else if(quarter == '3')
							{
							var lineitem = $('#totalRowCount_Category_Wise').val();
							var count = lineitem.split(",");
							var rownum = count.length;
							for(var i=1; i<=rownum; i++)
							{
								$('input[name="cf_4477_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4479_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4481_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4483_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4485_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4487_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4489_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4491_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4493_'+i+'"]').removeAttr('readonly');

								$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

							}
							}
							else if(quarter == '4')
							{
								 var qdate = new Date(nextyr,1-1,1);
								 var qnewdate = new Date(nextyr,1-1,7);
								var lineitem = $('#totalRowCount_Category_Wise').val();
								var count = lineitem.split(",");
								var rownum = count.length;
								for(var i=1; i<=rownum; i++)
								{
									$('input[name="cf_4495_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4497_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4499_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4501_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4503_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4505_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4507_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4509_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4511_'+i+'"]').removeAttr('readonly');

									$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

								}
								}
		}
		else
		{
			var postingdate = $('input[name="cf_4782"]').val();
			$.ajax(
					{
					type:"post",
					url: "shirshaAjax.php",
					data: {postingdate: postingdate, action: 'getallCategory'},
					dataType: 'json',
					success:function(response)
					{
						$("table.table#Category_Wise > tbody").empty();
						$("table.table#Category_Wise > tbody").html(response.tbodycat);
						$('#totalRowCount_Category_Wise').val(response.rowcountcat);
						$('#directMode_Category_Wise').val('1');
						$('#tr_clone_add__Category_Wise').attr("disabled", "disabled");
					}
					});
			var lineitem = $('#totalRowCount_Category_Wise').val();
			var count = lineitem.split(",");
			var rownum = count.length;
			if(rownum == '1')
			{
				$('input[name="cf_4409"]').prop('readonly','true');
				$('input[name="cf_4411"]').prop('readonly','true');
				$('input[name="cf_4421"]').prop('readonly','true');
				$('input[name="cf_4427"]').prop('readonly','true');
				$('input[name="cf_4449"]').prop('readonly','true');
				$('input[name="cf_4463"]').prop('readonly','true');
				$('input[name="cf_4469"]').prop('readonly','true');
				$('input[name="cf_4475"]').prop('readonly','true');
				$('input[name="cf_4481"]').prop('readonly','true');
				$('input[name="cf_4487"]').prop('readonly','true');
				$('input[name="cf_4493"]').prop('readonly','true');
				$('input[name="cf_4499"]').prop('readonly','true');
				$('input[name="cf_4505"]').prop('readonly','true');
				$('input[name="cf_4511"]').prop('readonly','true');
			}
			else
			{
				for(var i=1; i<=rownum; i++)
				{
					$('input[name="cf_4409_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4411_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4449_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4475_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4493_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
					$('input[name="cf_4511_'+i+'"]').prop('readonly','true');
				}
			}
		}
		},2000);
		});
		jQuery(document).on('change','[name=cf_4782]', function(e) {
		var branch = $('[name="cf_nrl_plantmaster615_id"]').val();
		var custid = $('[name="cf_nrl_accounts462_id"]').val();
				var fiscalyear = $('[name="cf_3424"]').val();
				$.ajax(
                    {
                    type:"post",
                    url: "rahulAjax.php",
                    data: {id: custid, branch:branch, fiscalyear:fiscalyear, action: 'getCustomerAllDetails'},
				            dataType: 'json',
                    success:function(response)
                    {
						$('[name="cf_4421_1"]').val(response.fwaprilactual);
            $('[name="cf_4421_2"]').val(response.twaprilactual);
            $('[name="cf_4421_3"]').val(response.ibaprilactual);
            $('[name="cf_4421_4"]').val(response.eraprilactual);
			
			$('[name="cf_4427_1"]').val(response.fwmayactual);
            $('[name="cf_4427_2"]').val(response.twmayactual);
            $('[name="cf_4427_3"]').val(response.ibmayactual);
            $('[name="cf_4427_4"]').val(response.ermayactual);
			
			$('[name="cf_4449_1"]').val(response.fwjuneactual);
            $('[name="cf_4449_2"]').val(response.twjuneactual);
            $('[name="cf_4449_3"]').val(response.ibjuneactual);
            $('[name="cf_4449_4"]').val(response.erjuneactual);
			
			$('[name="cf_4463_1"]').val(response.fwjulyactual);
            $('[name="cf_4463_2"]').val(response.twjulyactual);
            $('[name="cf_4463_3"]').val(response.ibjulyactual);
            $('[name="cf_4463_4"]').val(response.erjulyactual);
			
			$('[name="cf_4469_1"]').val(response.fwaugactual);
            $('[name="cf_4469_2"]').val(response.twaugactual);
            $('[name="cf_4469_3"]').val(response.ibaugactual);
            $('[name="cf_4469_4"]').val(response.eraugactual);
			
			$('[name="cf_4475_1"]').val(response.fwsepactual);
            $('[name="cf_4475_2"]').val(response.twsepactual);
            $('[name="cf_4475_3"]').val(response.ibsepactual);
            $('[name="cf_4475_4"]').val(response.ersepactual);
			
			$('[name="cf_4481_1"]').val(response.fwoctactual);
            $('[name="cf_4481_2"]').val(response.twoctactual);
            $('[name="cf_4481_3"]').val(response.iboctactual);
            $('[name="cf_4481_4"]').val(response.eroctactual);
			
			$('[name="cf_4487_1"]').val(response.fwnovactual);
            $('[name="cf_4487_2"]').val(response.twnovactual);
            $('[name="cf_4487_3"]').val(response.ibnovactual);
            $('[name="cf_4487_4"]').val(response.ernovactual);
			
			$('[name="cf_4493_1"]').val(response.fwdecactual);
            $('[name="cf_4493_2"]').val(response.twdecactual);
            $('[name="cf_4493_3"]').val(response.ibdecactual);
            $('[name="cf_4493_4"]').val(response.erdecactual);
			
			$('[name="cf_4499_1"]').val(response.fwjanactual);
            $('[name="cf_4499_2"]').val(response.twjanactual);
            $('[name="cf_4499_3"]').val(response.ibjanactual);
            $('[name="cf_4499_4"]').val(response.erjanactual);
			
			$('[name="cf_4505_1"]').val(response.fwfebactual);
            $('[name="cf_4505_2"]').val(response.twfebactual);
            $('[name="cf_4505_3"]').val(response.ibfebactual);
            $('[name="cf_4505_4"]').val(response.erfebactual);
			
			$('[name="cf_4511_1"]').val(response.fwmaractual);
            $('[name="cf_4511_2"]').val(response.twmaractual);
            $('[name="cf_4511_3"]').val(response.ibmaractual);
            $('[name="cf_4511_4"]').val(response.ermaractual);
						$('#directMode_Category_Wise').val('1');
						$('#tr_clone_add__Category_Wise').attr("disabled", "disabled");
					}
					});
		});

			
		var year = $('[name="cf_3424"]').val();
if(year == '2019 - 2020')
					{
						for(var i=1; i<=4; i++)
						{							
							$('input[name="cf_4401_'+i+'"]').attr('readonly',false);
							$('input[name="cf_4403_'+i+'"]').attr('readonly',false);
							$('input[name="cf_4405_'+i+'"]').attr('readonly',false);
						}
					}
					else
					{
					var fiscalyr = year.split(" - ");
					var yr = fiscalyr[0];
					var date = new Date();
					var month = date.toLocaleString('en-us', { month: 'long' });
					if(month == "April")
					{
						var div = 12;
					}
					else if(month == "March")
					{
						var div = 11;
					}
					else if(month == "February")
					{
						var div = 10;
					}
					else if(month == "January")
					{
						var div = 9;
					}
					var year = parseInt(yr) - parseInt(1);
					var yrs = parseInt(yr) - parseInt(2);
					var district = $('input[name="cf_2819"]').val();
					var lineitem = $('#totalRowCount_Category_Wise').val();
					var count = lineitem.split(",");
					var len = count.length;
					$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								for(var i = 1; i<=len; i++)
								{
									var category = $('select[name="cf_4399_'+i+'"]').val();
									if(category == '4W')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qty4w);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
									if(category == '2W')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qty2w);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
									if(category == 'IB')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qtyib);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
									if(category == 'ER')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qtyer);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:year, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								for(var i = 1; i<=len; i++)
								{
									var category = $('select[name="cf_4399_'+i+'"]').val();
									if(category == '4W')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qty4w);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
									if(category == '2W')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qty2w);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
									if(category == 'IB')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qtyib);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
									if(category == 'ER')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qtyer);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yrs, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								for(var i = 1; i<=len; i++)
								{
									var category = $('select[name="cf_4399_'+i+'"]').val();
									if(category == '4W')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qty4w);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
									if(category == '2W')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qty2w);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
									if(category == 'IB')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qtyib);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
									if(category == 'ER')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qtyer);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
								}
							}
							});
					}
			/*jQuery(window).load(function() {
			setTimeout(function(){
			if(recordid == "" || recordid == undefined)
			{
			$.ajax(
					{
					type:"post",
					url: "shirshaAjax.php",
					data: {action: 'allProductDetails'},
					dataType: 'json',
					success:function(response)
					{
						$("table.table#4W > tbody").empty();
						$("table.table#4W > tbody").html(response.tbody4W);
						$('#totalRowCount_4W').val(response.rowcount4W);
						$('#directMode_4W').val('1');
						$('#tr_clone_add__4W').attr("disabled", "disabled");
						$("table.table#2W > tbody").empty();
						$("table.table#2W > tbody").html(response.tbody2W);
						$('#totalRowCount_2W').val(response.rowcount2W);
						$('#directMode_2W').val('1');
						$('#tr_clone_add__2W').attr("disabled", "disabled");
						$("table.table#IB > tbody").empty();
						$("table.table#IB > tbody").html(response.tbodyIB);
						$('#totalRowCount_IB').val(response.rowcountIB);
						$('#directMode_IB').val('1');
						$('#tr_clone_add__IB').attr("disabled", "disabled");
						$("table.table#ER > tbody").empty();
						$("table.table#ER > tbody").html(response.tbodyER);
						$('#totalRowCount_ER').val(response.rowcountER);
						$('#directMode_ER').val('1');
						$('#tr_clone_add__ER').attr("disabled", "disabled");

					}
					});
			}
			else
			{
				var lineitem4w = $('#totalRowCount_4W').val();
				var count4w = lineitem4w.split(",");
				var rownum4w = count4w.length;
				for(var i =1; i<=rownum4w; i++)
				{
					$('input[name="cf_2803'+i+'"]').prop('readonly','true');
					$('input[name="cf_3106_'+i+'"]').prop('readonly','true');
					$('input[name="cf_3104_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2337_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2343_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2341_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2353_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2355_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2357_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2359_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2361_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2363_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2365_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2367_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2369_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2371_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2373_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2375_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2377_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2379_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2381_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2383_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2385_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2387_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2389_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2391_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2393_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2395_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2397_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2399_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2401_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2403_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2405_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2407_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2409_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2411_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2415_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2418_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2420_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2423_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2426_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2428_'+i+'"]').prop('readonly','true');
				}
				var lineitem2w = $('#totalRowCount_2W').val();
				var count2w = lineitem2w.split(",");
				var rownum2w = count2w.length;
				for(var i =1; i<=rownum2w; i++)
				{
					$('input[name="cf_2807_'+i+'"]').prop('readonly','true');
					$('input[name="cf_3110_'+i+'"]').prop('readonly','true');
					$('input[name="cf_3108_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2444_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2448_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2446_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2450_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2452_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2456_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2462_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2466_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2470_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2472_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2476_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2478_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2482_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2486_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2488_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2492_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2494_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2498_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2502_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2506_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2510_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2514_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2518_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2522_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2524_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2526_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2530_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2534_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2538_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2542_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2546_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2550_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2554_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2558_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2562_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2566_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2570_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2574_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2578_'+i+'"]').prop('readonly','true');
				}
				var lineitemib = $('#totalRowCount_IB').val();
				var countib = lineitemib.split(",");
				var rownumib = countib.length;
				for(var i =1; i<=rownumib; i++)
				{
					$('input[name="cf_2811_'+i+'"]').prop('readonly','true');
					$('input[name="cf_3114_'+i+'"]').prop('readonly','true');
					$('input[name="cf_3112_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2468_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2480_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2474_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2484_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2490_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2496_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2500_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2504_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2508_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2508_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2512_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2516_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2520_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2528_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2532_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2536_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2540_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2544_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2548_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2552_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2556_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2560_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2564_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2568_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2572_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2576_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2580_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2582_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2586_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2588_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2592_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2596_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2598_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2602_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2606_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2608_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2612_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2616_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2620_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2622_'+i+'"]').prop('readonly','true');
				}
				var lineitemer = $('#totalRowCount_ER').val();
				var counter = lineitemer.split(",");
				var rownumer = counter.length;
				for(var i =1; i<=rownumer; i++)
				{
					$('input[name="cf_2815_'+i+'"]').prop('readonly','true');
					$('input[name="cf_3118_'+i+'"]').prop('readonly','true');
					$('input[name="cf_3116_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2594_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2604_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2600_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2610_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2614_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2618_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2624_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2626_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2628_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2630_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2632_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2634_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2636_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2638_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2640_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2642_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2644_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2646_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2648_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2650_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2652_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2654_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2656_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2658_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2660_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2662_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2664_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2666_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2668_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2670_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2672_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2674_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2676_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2678_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2680_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2682_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2684_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2686_'+i+'"]').prop('readonly','true');
					$('input[name="cf_2688_'+i+'"]').prop('readonly','true');
				}
			}


			}, 2000);


			 });*/
			     jQuery(document).on('change','[name^="cf_3493"]', function(e) {
					 var date = new Date();
					 var year = $('select[name="cf_3424"]').val();
					 var yr = year.split(" - ");
					 var curyr = yr[0];
					 var nextyr = yr[1];
					 var month = date.toLocaleString('en-us', { month: 'long' });
					 var curyear = date.getFullYear();
					 if(curyear == curyr)
					 {
						 if(month == 'April' || month == 'May' || month == 'June')
						 {
							$("select option[value='1']").prop('disabled',true);
						 }
						 if(month == 'July' || month == 'August' || month == 'September')
						 {
							$("select option[value='2']").prop('disabled',true);
						 }
						 if(month == 'October' || month == 'November' || month == 'December')
						 {
							$("select option[value='3']").prop('disabled',true);
						 }
					 }
					 if(curyear == nextyr)
					 {
						 if(month == 'January' || month == 'February' || month == 'March')
						 {
							$("select option[value='4']").prop('disabled',true);
						 }
					 }
					 var quarter = $(this).val();
					 if(quarter == '1')
					 {
						 var qdate = new Date(curyr,4-1,1);
						 var qnewdate = new Date(curyr,4-1,7);
							 if(date<qdate)
							 {
								var lineitem = $('#totalRowCount_Category_Wise').val();
								var count = lineitem.split(",");
								var rownum = count.length;
								for(var i=1; i<=rownum; i++)
								{
									$('input[name="cf_4417_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4419_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4421_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4423_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4425_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4427_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4429_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4439_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4449_'+i+'"]').removeAttr('readonly');

									$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

								}
								 /*var row4w = $('#totalRowCount_4W').val();
								 var w4 = row4w.split(",");
								 var w4len = w4.length;
								for(i=1;i<=w4len;i++)
								{
								 $('input[name="cf_2353_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2355_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2357_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2359_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2361_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2363_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2365_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2367_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2369_'+i+'"]').removeAttr('readonly');
								}
								var row2w = $('#totalRowCount_2W').val();
								var w2 = row2w.split(",");
								var w2len = w2.length;
								for(i=1;i<=w2len;i++)
								{
								 $('input[name="cf_2450_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2452_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2456_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2462_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2466_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2470_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2472_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2476_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2478_'+i+'"]').removeAttr('readonly');
								}
								var rowib = $('#totalRowCount_IB').val();
								var ib = rowib.split(",");
								var iblen = ib.length;
								for(i=1;i<=iblen;i++)
								{
								 $('input[name="cf_2484_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2490_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2496_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2500_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2504_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2508_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2512_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2516_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2520_'+i+'"]').removeAttr('readonly');
								}
								var rower = $('#totalRowCount_ER').val();
								var er = rower.split(",");
								var erlen = er.length;
								for(i=1;i<=erlen;i++)
								{
								 $('input[name="cf_2610_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2614_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2618_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2624_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2626_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2628_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2630_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2632_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2634_'+i+'"]').removeAttr('readonly');
								}*/

							 }
							 else if(date>=qdate && date<=qnewdate)
							 {
								var lineitem = $('#totalRowCount_Category_Wise').val();
								var count = lineitem.split(",");
								var rownum = count.length;
								for(var i=1; i<=rownum; i++)
								{
									$('input[name="cf_4417_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4419_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4421_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4423_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4425_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4427_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4429_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4439_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4449_'+i+'"]').removeAttr('readonly');

									$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4511_'+i+'"]').prop('readonly','true');
								}
								/*var row4w = $('#totalRowCount_4W').val();
								 var w4 = row4w.split(",");
								 var w4len = w4.length;
								for(i=1;i<=w4len;i++)
								{
								 $('input[name="cf_2353_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2355_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2357_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2359_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2361_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2363_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2365_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2367_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2369_'+i+'"]').removeAttr('readonly');
								}
								var row2w = $('#totalRowCount_2W').val();
								var w2 = row2w.split(",");
								var w2len = w2.length;
								for(i=1;i<=w2len;i++)
								{
								 $('input[name="cf_2450_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2452_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2456_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2462_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2466_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2470_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2472_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2476_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2478_'+i+'"]').removeAttr('readonly');
								}
								var rowib = $('#totalRowCount_IB').val();
								var ib = rowib.split(",");
								var iblen = ib.length;
								for(i=1;i<=iblen;i++)
								{
								 $('input[name="cf_2484_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2490_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2496_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2500_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2504_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2508_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2512_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2516_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2520_'+i+'"]').removeAttr('readonly');
								}
								var rower = $('#totalRowCount_ER').val();
								var er = rower.split(",");
								var erlen = er.length;
								for(i=1;i<=erlen;i++)
								{
								 $('input[name="cf_2610_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2614_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2618_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2624_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2626_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2628_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2630_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2632_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2634_'+i+'"]').removeAttr('readonly');
								}*/
							 }
					 }
					 else if(quarter == '2')
					 {
						 var qdate = new Date(curyr,7-1,1);
						 var qnewdate = new Date(curyr,7-1,7);
						 if(date<qdate)
						 {
							var lineitem = $('#totalRowCount_Category_Wise').val();
							var count = lineitem.split(",");
							var rownum = count.length;
							for(var i=1; i<=rownum; i++)
							{
								$('input[name="cf_4459_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4461_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4463_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4465_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4467_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4469_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4471_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4473_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4475_'+i+'"]').removeAttr('readonly');

								$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

							}
							 /*var row4w = $('#totalRowCount_4W').val();
							 var w4 = row4w.split(",");
						     var w4len = w4.length;
							 for(i=1;i<=w4len;i++)
							{
								 $('input[name="cf_2371_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2373_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2375_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2377_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2379_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2381_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2383_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2385_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2387_'+i+'"]').removeAttr('readonly');
							}
							var row2w = $('#totalRowCount_2W').val();
							var w2 = row2w.split(",");
							var w2len = w2.length;
							for(i=1;i<=w2len;i++)
							{
								 $('input[name="cf_2482_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2486_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2488_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2492_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2494_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2498_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2502_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2506_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2510_'+i+'"]').removeAttr('readonly');
							}
							var rowib = $('#totalRowCount_IB').val();
							var ib = rowib.split(",");
							var iblen = ib.length;
							for(i=1;i<=iblen;i++)
							{
								 $('input[name="cf_2528_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2532_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2536_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2540_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2544_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2548_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2552_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2556_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2560_'+i+'"]').removeAttr('readonly');
							}
							var rower = $('#totalRowCount_ER').val();
							var er = rower.split(",");
							var erlen = er.length;
							for(i=1;i<=erlen;i++)
							{
								 $('input[name="cf_2636_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2638_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2640_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2642_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2644_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2646_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2648_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2650_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2652_'+i+'"]').removeAttr('readonly');
							}*/
						 }
						 else if(date>=qdate && date<=qnewdate)
						 {
							var lineitem = $('#totalRowCount_Category_Wise').val();
							var count = lineitem.split(",");
							var rownum = count.length;
							for(var i=1; i<=rownum; i++)
							{
								$('input[name="cf_4459_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4461_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4463_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4465_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4467_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4469_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4471_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4473_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4475_'+i+'"]').removeAttr('readonly');

								$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

							}
							 /*var row4w = $('#totalRowCount_4W').val();
							 var w4 = row4w.split(",");
						     var w4len = w4.length;
							for(i=1;i<=w4len;i++)
							{
								 $('input[name="cf_2371_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2373_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2375_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2377_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2379_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2381_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2383_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2385_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2387_'+i+'"]').removeAttr('readonly');
							}
							var row2w = $('#totalRowCount_2W').val();
							var w2 = row2w.split(",");
							var w2len = w2.length;
							for(i=1;i<=w2len;i++)
							{
								 $('input[name="cf_2482_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2486_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2488_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2492_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2494_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2498_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2502_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2506_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2510_'+i+'"]').removeAttr('readonly');
							}
							var rowib = $('#totalRowCount_IB').val();
							var ib = rowib.split(",");
							var iblen = ib.length;
							for(i=1;i<=iblen;i++)
							{
								 $('input[name="cf_2528_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2532_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2536_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2540_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2544_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2548_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2552_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2556_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2560_'+i+'"]').removeAttr('readonly');
							}
							var rower = $('#totalRowCount_ER').val();
							var er = rower.split(",");
							var erlen = er.length;
							for(i=1;i<=erlen;i++)
							{
								 $('input[name="cf_2636_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2638_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2640_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2642_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2644_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2646_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2648_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2650_'+i+'"]').removeAttr('readonly');
								 $('input[name="cf_2652_'+i+'"]').removeAttr('readonly');
							}*/
						 }
					 }
					 else if(quarter == '3')
					 {
						 var qdate = new Date(curyr,10-1,1);
						 var qnewdate = new Date(curyr,10-1,7);
						 if(date<qdate)
						 {
							var lineitem = $('#totalRowCount_Category_Wise').val();
							var count = lineitem.split(",");
							var rownum = count.length;
							for(var i=1; i<=rownum; i++)
							{
								$('input[name="cf_4477_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4479_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4481_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4483_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4485_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4487_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4489_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4491_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4493_'+i+'"]').removeAttr('readonly');

								$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

							}
							 /*var row4w = $('#totalRowCount_4W').val();
							 var w4 = row4w.split(",");
						     var w4len = w4.length;
							for(i=1;i<=w4len;i++)
							{
							 $('input[name="cf_2389_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2391_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2393_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2395_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2397_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2399_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2401_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2403_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2405_'+i+'"]').removeAttr('readonly');
							}
							var row2w = $('#totalRowCount_2W').val();
							var w2 = row2w.split(",");
							var w2len = w2.length;
							for(i=1;i<=w2len;i++)
							{
							 $('input[name="cf_2514_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2518_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2522_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2524_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2526_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2530_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2534_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2538_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2542_'+i+'"]').removeAttr('readonly');
							}
							var rowib = $('#totalRowCount_IB').val();
							var ib = rowib.split(",");
							var iblen = ib.length;
							for(i=1;i<=iblen;i++)
							{
							 $('input[name="cf_2564_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2568_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2572_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2576_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2580_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2582_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2586_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2588_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2592_'+i+'"]').removeAttr('readonly');
							}
							var rower = $('#totalRowCount_ER').val();
							var er = rower.split(",");
							var erlen = er.length;
							for(i=1;i<=erlen;i++)
							{
							 $('input[name="cf_2654_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2656_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2658_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2660_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2662_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2664_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2666_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2668_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2670_'+i+'"]').removeAttr('readonly');
							}*/
						 }
						 else if(date>=qdate && date<=qnewdate)
						 {
							var lineitem = $('#totalRowCount_Category_Wise').val();
							var count = lineitem.split(",");
							var rownum = count.length;
							for(var i=1; i<=rownum; i++)
							{
								$('input[name="cf_4477_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4479_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4481_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4483_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4485_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4487_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4489_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4491_'+i+'"]').removeAttr('readonly');
								$('input[name="cf_4493_'+i+'"]').removeAttr('readonly');

								$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

								$('input[name="cf_4495_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4497_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4499_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4501_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4503_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4505_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4507_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4509_'+i+'"]').prop('readonly','true');
								$('input[name="cf_4511_'+i+'"]').prop('readonly','true');

							}
							  /*var row4w = $('#totalRowCount_4W').val();
							 var w4 = row4w.split(",");
						     var w4len = w4.length;
							for(i=1;i<=w4len;i++)
							{
							 $('input[name="cf_2389_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2391_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2393_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2395_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2397_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2399_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2401_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2403_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2405_'+i+'"]').removeAttr('readonly');
							}
							var row2w = $('#totalRowCount_2W').val();
							var w2 = row2w.split(",");
							var w2len = w2.length;
							for(i=1;i<=w2len;i++)
							{
							 $('input[name="cf_2514_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2518_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2522_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2524_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2526_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2530_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2534_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2538_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2542_'+i+'"]').removeAttr('readonly');
							}
							var rowib = $('#totalRowCount_IB').val();
							var ib = rowib.split(",");
							var iblen = ib.length;
							for(i=1;i<=iblen;i++)
							{
							 $('input[name="cf_2564_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2568_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2572_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2576_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2580_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2582_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2586_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2588_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2592_'+i+'"]').removeAttr('readonly');
							}
							var rower = $('#totalRowCount_ER').val();
							var er = rower.split(",");
							var erlen = er.length;
							for(i=1;i<=erlen;i++)
							{
							 $('input[name="cf_2654_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2656_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2658_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2660_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2662_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2664_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2666_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2668_'+i+'"]').removeAttr('readonly');
							 $('input[name="cf_2670_'+i+'"]').removeAttr('readonly');
							}*/
						 }
					 }
					  else if(quarter == '4')
					  {
							 var qdate = new Date(nextyr,1-1,1);
							 var qnewdate = new Date(nextyr,1-1,7);
							 if(date<qdate)
							 {
								var lineitem = $('#totalRowCount_Category_Wise').val();
								var count = lineitem.split(",");
								var rownum = count.length;
								for(var i=1; i<=rownum; i++)
								{
									$('input[name="cf_4495_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4497_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4499_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4501_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4503_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4505_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4507_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4509_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4511_'+i+'"]').removeAttr('readonly');

									$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4493_'+i+'"]').prop('readonly','true');

								}
								/* var row4w = $('#totalRowCount_4W').val();
								 var w4 = row4w.split(",");
								 var w4len = w4.length;
								 for(i=1;i<=w4len;i++)
								 {
									 $('input[name="cf_2407_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2409_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2411_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2415_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2418_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2420_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2423_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2426_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2428_'+i+'"]').removeAttr('readonly');
								 }
								 var row2w = $('#totalRowCount_2W').val();
								 var w2 = row2w.split(",");
								 var w2len = w2.length;
								 for(i=1;i<=w2len;i++)
								 {
									 $('input[name="cf_2546_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2550_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2554_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2558_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2562_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2566_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2570_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2574_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2578_'+i+'"]').removeAttr('readonly');
								 }
								 var rowib = $('#totalRowCount_IB').val();
								 var ib = rowib.split(",");
								 var iblen = ib.length;
								 for(i=1;i<=iblen;i++)
								 {
									 $('input[name="cf_2596_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2598_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2602_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2606_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2608_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2612_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2616_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2620_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2622_'+i+'"]').removeAttr('readonly');
								 }
								 var rower = $('#totalRowCount_ER').val();
								 var er = rower.split(",");
								 var erlen = er.length;
								 for(i=1;i<=erlen;i++)
								 {
									 $('input[name="cf_2672_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2674_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2676_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2678_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2680_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2682_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2684_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2686_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2688_'+i+'"]').removeAttr('readonly');
								 }*/
							 }
							 else if(date>=qdate && date<=qnewdate)
							 {
								var lineitem = $('#totalRowCount_Category_Wise').val();
								var count = lineitem.split(",");
								var rownum = count.length;
								for(var i=1; i<=rownum; i++)
								{
									$('input[name="cf_4495_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4497_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4499_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4501_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4503_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4505_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4507_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4509_'+i+'"]').removeAttr('readonly');
									$('input[name="cf_4511_'+i+'"]').removeAttr('readonly');

									$('input[name="cf_4417_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4419_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4421_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4423_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4425_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4427_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4429_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4439_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4449_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4459_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4461_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4463_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4465_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4467_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4469_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4471_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4473_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4475_'+i+'"]').prop('readonly','true');

									$('input[name="cf_4477_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4479_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4481_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4483_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4485_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4487_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4489_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4491_'+i+'"]').prop('readonly','true');
									$('input[name="cf_4493_'+i+'"]').prop('readonly','true');
								}
								/*var row4w = $('#totalRowCount_4W').val();
								 var w4 = row4w.split(",");
								 var w4len = w4.length;
								 for(i=1;i<=w4len;i++)
								 {
									 $('input[name="cf_2407_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2409_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2411_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2415_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2418_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2420_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2423_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2426_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2428_'+i+'"]').removeAttr('readonly');
								 }
								 var row2w = $('#totalRowCount_2W').val();
								 var w2 = row2w.split(",");
								 var w2len = w2.length;
								 for(i=1;i<=w2len;i++)
								 {
									 $('input[name="cf_2546_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2550_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2554_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2558_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2562_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2566_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2570_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2574_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2578_'+i+'"]').removeAttr('readonly');
								 }
								 var rowib = $('#totalRowCount_IB').val();
								 var ib = rowib.split(",");
								 var iblen = ib.length;
								 for(i=1;i<=iblen;i++)
								 {
									 $('input[name="cf_2596_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2598_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2602_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2606_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2608_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2612_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2616_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2620_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2622_'+i+'"]').removeAttr('readonly');
								 }
								 var rower = $('#totalRowCount_ER').val();
								 var er = rower.split(",");
								 var erlen = er.length;
								 for(i=1;i<=erlen;i++)
								 {
									 $('input[name="cf_2672_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2674_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2676_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2678_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2680_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2682_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2684_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2686_'+i+'"]').removeAttr('readonly');
									 $('input[name="cf_2688_'+i+'"]').removeAttr('readonly');
								 }*/
							 }
					  }

				 });
				 	jQuery(document).on('change','select[name="cf_3424"]', function(e) {
					var year = $(this).val();
					if(year == '2019 - 2020')
					{
						for(var i=1; i<=4; i++)
						{							
							$('input[name="cf_4401_'+i+'"]').attr('readonly',false);
							$('input[name="cf_4403_'+i+'"]').attr('readonly',false);
							$('input[name="cf_4405_'+i+'"]').attr('readonly',false);
						}
					}
					if(year != '2019 - 2020')
					{
					var fiscalyr = year.split(" - ");
					var yr = fiscalyr[0];
					var date = new Date();
					var month = date.toLocaleString('en-us', { month: 'long' });
					if(month == "April")
					{
						var div = 12;
					}
					else if(month == "March")
					{
						var div = 11;
					}
					else if(month == "February")
					{
						var div = 10;
					}
					else if(month == "January")
					{
						var div = 9;
					}
					var year = parseInt(yr) - parseInt(1);
					var yrs = parseInt(yr) - parseInt(2);
					var district = $('input[name="cf_2819"]').val();
					var lineitem = $('#totalRowCount_Category_Wise').val();
					var count = lineitem.split(",");
					var len = count.length;
					$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								for(var i = 1; i<=len; i++)
								{
									var category = $('select[name="cf_4399_'+i+'"]').val();
									if(category == '4W')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qty4w);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
									if(category == '2W')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qty2w);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
									if(category == 'IB')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qtyib);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
									if(category == 'ER')
									{
										$('input[name="cf_4405_'+i+'"]').val(response.qtyer);
										$('input[name="cf_4405_'+i+'"]').attr('readonly',true);
									}
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:year, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								for(var i = 1; i<=len; i++)
								{
									var category = $('select[name="cf_4399_'+i+'"]').val();
									if(category == '4W')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qty4w);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
									if(category == '2W')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qty2w);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
									if(category == 'IB')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qtyib);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
									if(category == 'ER')
									{
										$('input[name="cf_4403_'+i+'"]').val(response.qtyer);
										$('input[name="cf_4403_'+i+'"]').attr('readonly',true);
									}
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yrs, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								for(var i = 1; i<=len; i++)
								{
									var category = $('select[name="cf_4399_'+i+'"]').val();
									if(category == '4W')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qty4w);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
									if(category == '2W')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qty2w);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
									if(category == 'IB')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qtyib);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
									if(category == 'ER')
									{
										$('input[name="cf_4401_'+i+'"]').val(response.qtyer);
										$('input[name="cf_4401_'+i+'"]').attr('readonly',true);
									}
								}
							}
							});
					}
				 });
				 jQuery(document).on('change','select[name^="cf_4399"]', function(e) {
					var category = $(this).val();
					var year = $('[name="cf_3424"]').val();
					var fiscalyr = year.split("-");
					var yr = fiscalyr[0];
					var date = new Date();
					var month = date.toLocaleString('en-us', { month: 'long' });
					if(month == "April")
					{
						var div = 12;
					}
					else if(month == "March")
					{
						var div = 11;
					}
					else if(month == "February")
					{
						var div = 10;
					}
					else if(month == "January")
					{
						var div = 9;
					}
					var year = parseInt(yr) - parseInt(1);
					var yrs = parseInt(yr) - parseInt(2);
					var district = $('input[name="cf_2819"]').val();
					var lineitem = $('#totalRowCount_Category_Wise').val();
					var count = lineitem.split(",");
					var rownum = count.length;
					if(rownum == '1')
					{
						$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								if(category == '4W')
								{
									$('input[name="cf_4405"]').val(response.qty4w);
									$('input[name="cf_4405"]').attr('readonly',true);
								}
								if(category == '2W')
								{
									$('input[name="cf_4405"]').val(response.qty2w);
									$('input[name="cf_4405"]').attr('readonly',true);
								}
								if(category == 'IB')
								{
									$('input[name="cf_4405"]').val(response.qtyib);
									$('input[name="cf_4405"]').attr('readonly',true);
								}
								if(category == 'ER')
								{
									$('input[name="cf_4405"]').val(response.qtyer);
									$('input[name="cf_4405"]').attr('readonly',true);
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:year, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								if(category == '4W')
								{
									$('input[name="cf_4403"]').val(response.qty4w);
									$('input[name="cf_4403"]').attr('readonly',true);
								}
								if(category == '2W')
								{
									$('input[name="cf_4403"]').val(response.qty2w);
									$('input[name="cf_4403"]').attr('readonly',true);
								}
								if(category == 'IB')
								{
									$('input[name="cf_4403"]').val(response.qtyib);
									$('input[name="cf_4403"]').attr('readonly',true);
								}
								if(category == 'ER')
								{
									$('input[name="cf_4403"]').val(response.qtyer);
									$('input[name="cf_4403"]').attr('readonly',true);
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yrs, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								if(category == '4W')
								{
									$('input[name="cf_4401"]').val(response.qty4w);
									$('input[name="cf_4401"]').attr('readonly',true);
								}
								if(category == '2W')
								{
									$('input[name="cf_4401"]').val(response.qty2w);
									$('input[name="cf_4401"]').attr('readonly',true);
								}
								if(category == 'IB')
								{
									$('input[name="cf_4401"]').val(response.qtyib);
									$('input[name="cf_4401"]').attr('readonly',true);
								}
								if(category == 'ER')
								{
									$('input[name="cf_4401"]').val(response.qtyer);
									$('input[name="cf_4401"]').attr('readonly',true);
								}
							}
							});
					}
					else
					{
						var lineitemid = $(this).attr('id');
						var line = lineitemid.split("_");
						var lineno = line[line.length - 1];
						$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yr, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								if(category == '4W')
								{
									$('input[name="cf_4405_'+lineno+'"]').val(response.qty4w);
									$('input[name="cf_4405_'+lineno+'"]').attr('readonly',true);
								}
								if(category == '2W')
								{
									$('input[name="cf_4405_'+lineno+'"]').val(response.qty2w);
									$('input[name="cf_4405_'+lineno+'"]').attr('readonly',true);
								}
								if(category == 'IB')
								{
									$('input[name="cf_4405_'+lineno+'"]').val(response.qtyib);
									$('input[name="cf_4405_'+lineno+'"]').attr('readonly',true);
								}
								if(category == 'ER')
								{
									$('input[name="cf_4405_'+lineno+'"]').val(response.qtyer);
									$('input[name="cf_4405_'+lineno+'"]').attr('readonly',true);
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:year, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								if(category == '4W')
								{
									$('input[name="cf_4403_'+lineno+'"]').val(response.qty4w);
									$('input[name="cf_4403_'+lineno+'"]').attr('readonly',true);
								}
								if(category == '2W')
								{
									$('input[name="cf_4403_'+lineno+'"]').val(response.qty2w);
									$('input[name="cf_4403_'+lineno+'"]').attr('readonly',true);
								}
								if(category == 'IB')
								{
									$('input[name="cf_4403_'+lineno+'"]').val(response.qtyib);
									$('input[name="cf_4403_'+lineno+'"]').attr('readonly',true);
								}
								if(category == 'ER')
								{
									$('input[name="cf_4403_'+lineno+'"]').val(response.qtyer);
									$('input[name="cf_4403_'+lineno+'"]').attr('readonly',true);
								}
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yrs, district:district, div:div, action: 'getTotalSalesOrder'},
							dataType: 'json',
							success:function(response)
							{
								if(category == '4W')
								{
									$('input[name="cf_4401_'+lineno+'"]').val(response.qty4w);
									$('input[name="cf_4401_'+lineno+'"]').attr('readonly',true);
								}
								if(category == '2W')
								{
									$('input[name="cf_4401_'+lineno+'"]').val(response.qty2w);
									$('input[name="cf_4401_'+lineno+'"]').attr('readonly',true);
								}
								if(category == 'IB')
								{
									$('input[name="cf_4401_'+lineno+'"]').val(response.qtyib);
									$('input[name="cf_4401_'+lineno+'"]').attr('readonly',true);
								}
								if(category == 'ER')
								{
									$('input[name="cf_4401_'+lineno+'"]').val(response.qtyer);
									$('input[name="cf_4401_'+lineno+'"]').attr('readonly',true);
								}
							}
							});
					}
				 });

					/*jQuery(document).on('change','select[name="cf_3424"]', function(e) {
					var year = $(this).val();
					var fiscalyr = year.split("-");
					var yr = fiscalyr[0];
					var date = new Date();
					var month = date.toLocaleString('en-us', { month: 'long' });
					if(month == "April")
					{
						var div = 12;
					}
					else if(month == "March")
					{
						var div = 11;
					}
					else if(month == "February")
					{
						var div = 10;
					}
					else if(month == "January")
					{
						var div = 9;
					}
					//if(yr >= '2020')
					//{
					var year = parseInt(yr) - parseInt(1);
					var yrs = parseInt(yr) - parseInt(2);
					var district = $('input[name="cf_2819"]').val();
					/*var lineitemrow4W = $('#totalRowCount_4W').val();
					var count4W = lineitemrow4W.split(",");
					var rownum4W = count4W.length;
					if(rownum4W == '1')
					{
						var product = $('input[name="cf_2803_'+lineitemrow4W+'"]').val();
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
							dataType: 'json',
							success:function(response)
							{
								$('input[name="cf_2337_'+lineitemrow4W+'"]').val(response.qty4w);
								$('input[name="cf_2337_'+lineitemrow4W+'"]').attr('readonly',true);
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
							dataType: 'json',
							success:function(response)
							{
								$('input[name="cf_3104_'+lineitemrow4W+'"]').val(response.qty4w);
								$('input[name="cf_3104_'+lineitemrow4W+'"]').attr('readonly',true);
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
							dataType: 'json',
							success:function(response)
							{
								$('input[name="cf_3106_'+lineitemrow4W+'"]').val(response.qty4w);
								$('input[name="cf_3106_'+lineitemrow4W+'"]').attr('readonly',true);
							}
							});
					}
					else
					{
						for(var i=1; i<=rownum4W; i++)
						{
								var product = $('input[name="cf_2803_'+i+'"]').val();
								var j = 0;
								$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									j++;
									$('input[name="cf_2337_'+j+'"]').val(response.qty4w);
									$('input[name="cf_2337_'+j+'"]').attr('readonly',true);
								}
								});
						}
						for(var i=1; i<=rownum4W; i++)
						{
								var product = $('input[name="cf_2803_'+i+'"]').val();
								var k = 0;
								$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									k++;
									$('input[name="cf_3104_'+k+'"]').val(response.qty4w);
									$('input[name="cf_3104_'+k+'"]').attr('readonly',true);
								}
								});
						}
						for(var i=1; i<=rownum4W; i++)
						{
								var product = $('input[name="cf_2803_'+i+'"]').val();
								var l = 0;
								$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									l++;
									$('input[name="cf_3106_'+l+'"]').val(response.qty4w);
									$('input[name="cf_3106_'+l+'"]').attr('readonly',true);
								}
								});
						}
					}
						var lineitemrow2W = $('#totalRowCount_2W').val();
						var count2W = lineitemrow2W.split(",");
						var rownum2W = count2W.length;
						if(rownum2W == 1)
						{
							var product = $('input[name="cf_2807_'+lineitemrow2W+'"]').val();
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
							dataType: 'json',
							success:function(response)
							{
								$('input[name="cf_2444_'+lineitemrow2W+'"]').val(response.qty2w);
								$('input[name="cf_2444_'+lineitemrow2W+'"]').attr('readonly',true);
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
							dataType: 'json',
							success:function(response)
							{
								$('input[name="cf_3108_'+lineitemrow2W+'"]').val(response.qty2w);
								$('input[name="cf_3108_'+lineitemrow2W+'"]').attr('readonly',true);
							}
							});
							$.ajax(
							{
							type:"post",
							url: "shirshaAjax.php",
							data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
							dataType: 'json',
							success:function(response)
							{
								$('input[name="cf_3110_'+lineitemrow2W+'"]').val(response.qty2w);
								$('input[name="cf_3110_'+lineitemrow2W+'"]').attr('readonly',true);
							}
							});
						}
						else
						{
							for(var i=1; i<=rownum2W; i++)
							{
								var product = $('input[name="cf_2807_'+i+'"]').val();
								var m = 0;
								$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									m++;
									$('input[name="cf_2444_'+m+'"]').val(response.qty2w);
									$('input[name="cf_2444_'+m+'"]').attr('readonly',true);
								}
								});
							}
							for(var i=1; i<=rownum2W; i++)
							{
								var product = $('input[name="cf_2807_'+i+'"]').val();
								var n = 0;
								$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									n++;
									$('input[name="cf_3108_'+n+'"]').val(response.qty2w);
									$('input[name="cf_3108_'+n+'"]').attr('readonly',true);
								}
								});
							}
							for(var i=1; i<=rownum2W; i++)
							{
								var product = $('input[name="cf_2807_'+i+'"]').val();
								var o = 0;
								$.ajax(
								{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									o++;
									$('input[name="cf_3110_'+o+'"]').val(response.qty2w);
									$('input[name="cf_3110_'+o+'"]').attr('readonly',true);
								}
								});
							}
						}

						var lineitemrowIB = $('#totalRowCount_IB').val();
						var countIB = lineitemrowIB.split(",");
						var rownumIB = countIB.length;
						if(rownumIB == 1)
						{
							var product = $('input[name="cf_2811_'+lineitemrowIB+'"]').val();
							$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									$('input[name="cf_2468_'+lineitemrowIB+'"]').val(response.qtyib);
									$('input[name="cf_2468_'+lineitemrowIB+'"]').attr('readonly',true);
								}
							});
							$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									$('input[name="cf_3112_'+lineitemrowIB+'"]').val(response.qtyib);
									$('input[name="cf_3112_'+lineitemrowIB+'"]').attr('readonly',true);
								}
							});
							$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									$('input[name="cf_3114_'+lineitemrowIB+'"]').val(response.qtyib);
									$('input[name="cf_3114_'+lineitemrowIB+'"]').attr('readonly',true);
								}
							});
						}
						else
						{
							for(var i=1; i<=rownumIB; i++)
							{
								var product = $('input[name="cf_2811_'+i+'"]').val();
								var p = 0;
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
									dataType: 'json',
									success:function(response)
									{
										p++;
										$('input[name="cf_2468_'+p+'"]').val(response.qtyib);
										$('input[name="cf_2468_'+p+'"]').attr('readonly',true);
									}
								});
							}
							for(var i=1; i<=rownumIB; i++)
							{
								var product = $('input[name="cf_2811_'+i+'"]').val();
								var q = 0;
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
									dataType: 'json',
									success:function(response)
									{
										q++;
										$('input[name="cf_3112_'+q+'"]').val(response.qtyib);
										$('input[name="cf_3112_'+q+'"]').attr('readonly',true);
									}
								});
							}
							for(var i=1; i<=rownumIB; i++)
							{
								var product = $('input[name="cf_2811_'+i+'"]').val();
								var r = 0;
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
									dataType: 'json',
									success:function(response)
									{
										r++;
										$('input[name="cf_3114_'+r+'"]').val(response.qtyib);
										$('input[name="cf_3114_'+r+'"]').attr('readonly',true);
									}
								});
							}
						}

						var lineitemrowER = $('#totalRowCount_ER').val();
						var countER = lineitemrowER.split(",");
						var rownumER = countER.length;
						if(rownumER == 1)
						{
							var product =  $('input[name="cf_2815_'+lineitemrowER+'"]').val();
							$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									$('input[name="cf_2594_'+lineitemrowER+'"]').val(response.qtyer);
									$('input[name="cf_2594_'+lineitemrowER+'"]').attr('readonly',true);
								}
							});
							$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									$('input[name="cf_3116_'+lineitemrowER+'"]').val(response.qtyer);
									$('input[name="cf_3116_'+lineitemrowER+'"]').attr('readonly',true);
								}
							});
							$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
								dataType: 'json',
								success:function(response)
								{
									$('input[name="cf_3118_'+lineitemrowER+'"]').val(response.qtyer);
									$('input[name="cf_3118_'+lineitemrowER+'"]').attr('readonly',true);
								}
							});
						}
						else
						{
							for(var i=1; i<=rownumER; i++)
							{
								var product = $('input[name="cf_2815_'+i+'"]').val();
								var s = 0;
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {yr:yr, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
									dataType: 'json',
									success:function(response)
									{
										s++;
										$('input[name="cf_2594_'+s+'"]').val(response.qtyer);
										$('input[name="cf_2594_'+s+'"]').attr('readonly',true);
									}
								});
							}
							for(var i=1; i<=rownumER; i++)
							{
								var product = $('input[name="cf_2815_'+i+'"]').val();
								var t = 0;
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {yr:year, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
									dataType: 'json',
									success:function(response)
									{
										t++;
										$('input[name="cf_3116_'+t+'"]').val(response.qtyer);
										$('input[name="cf_3116_'+t+'"]').attr('readonly',true);
									}
								});
							}
							for(var i=1; i<=rownumER; i++)
							{
								var product = $('input[name="cf_2815_'+i+'"]').val();
								var u = 0;
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {yr:yrs, district:district, product:product, div:div, action: 'getTotalSalesOrderforProduct'},
									dataType: 'json',
									success:function(response)
									{
										u++;
										$('input[name="cf_3118_'+u+'"]').val(response.qtyer);
										$('input[name="cf_3118_'+u+'"]').attr('readonly',true);
									}
								});
							}
						}
					//}
		});*/

				jQuery(document).on('keyup','[name^="cf_4413"]', function(e) {
					var totalid = $(this).prop('name');
					var total = totalid.split("_");
					var htlct = total.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+total[htlct-1];
					}
					var totalbudget = this.value;
					if(totalbudget=="" || totalbudget==undefined)
					{
						totalbudget = 0;
					}
					var monthbudget = (parseFloat(totalbudget) * 12).toFixed(2);
					$('input[name="cf_4415'+id+'"]').val(monthbudget);
				});

				/*jQuery(document).on('keyup','[name^="cf_2343"]', function(e) {
					var total4wid = $(this).prop('name');
					var total4w = total4wid.split("_");
					var htlct = total4w.length;
					var w4id = '';
					var w4nid = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+total4w[htlct-1];
					w4nid = "_"+(parseInt(total4w[htlct-1]) + 1);
					}
					var total4wbudget = this.value;
					if(total4wbudget=="" || total4wbudget==undefined)
					{
						total4wbudget = 0;
					}
					var month4wbudget = (parseFloat(total4wbudget) * 12).toFixed(2);
					$('input[name="cf_2341'+w4id+'"]').val(month4wbudget);
				});

					jQuery(document).on('keyup','[name^="cf_2448"]', function(e) {
					var total2wid = $(this).prop('name');
					var total2w = total2wid.split("_");
					var htlct = total2w.length;
					var w2id = '';
					var w2nid = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+total2w[htlct-1];
					w2nid = "_"+(parseInt(total2w[htlct-1]) + 1);
					}
					var total2wbudget = this.value;
					if(total2wbudget=="" || total2wbudget==undefined)
					{
						total2wbudget = 0;
					}
					var month2wbudget = (parseFloat(total2wbudget) * 12).toFixed(2);
					$('input[name="cf_2446'+w2id+'"]').val(month2wbudget);
				});


				jQuery(document).on('keyup','[name^="cf_2480"]', function(e) {
					var totalibid = $(this).prop('name');
					var totalib = totalibid.split("_");
					var htlct = totalib.length;
					var ibid = '';
					var ibnid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+totalib[htlct-1];
					ibnid = "_"+(parseInt(totalib[htlct-1]) + 1);
					}
					var totalibbudget = this.value;
					if(totalibbudget=="" || totalibbudget==undefined)
					{
						totalibbudget = 0;
					}
					var monthibbudget = (parseFloat(totalibbudget) * 12).toFixed(2);
					$('input[name="cf_2474'+ibid+'"]').val(monthibbudget);
				});


				jQuery(document).on('keyup','[name^="cf_2604"]', function(e) {
					var totalerid = $(this).prop('name');
					var totaler = totalerid.split("_");
					var htlct = totaler.length;
					var erid = '';
					var ernid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+totaler[htlct-1];
					ernid = "_"+(parseInt(totaler[htlct-1]) + 1);
					}
					var totalerbudget = this.value;
					if(totalerbudget=="" || totalerbudget==undefined)
					{
						totalerbudget = 0;
					}
					var montherbudget = (parseFloat(totalerbudget) * 12).toFixed(2);
					$('input[name="cf_2600'+erid+'"]').val(montherbudget);
				});*/

				jQuery(document).on('keyup','[name^="cf_4417"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var aprilid = $(this).prop('name');
					var april = aprilid.split("_");
					var htlct = april.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+april[htlct-1];
					}
					var aprilpercent = this.value;
					if(aprilpercent=="" || aprilpercent==undefined)
					{
						aprilpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var aprilapprox = parseFloat(aprilpercent) * parseFloat(monthamount);
					var aprilamount = Math.ceil(parseFloat(aprilapprox) / 100);
					$('input[name="cf_4419'+id+'"]').val(aprilamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(aprilamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(aprilamount);
							aprilamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4419'+id+'"]').val(aprilamount);
							var monthpercent = parseFloat(aprilamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					if(type == "Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}

				});
				jQuery(document).on('keyup','[name^="cf_4419"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var aprilid = $(this).prop('name');
					var april = aprilid.split("_");
					var htlct = april.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+april[htlct-1];
					}
					var aprilamount = this.value;
					if(aprilamount=="" || aprilamount==undefined)
					{
						aprilamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var aprilapprox = parseFloat(aprilamount) * 100;
					var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthamount)).toFixed(2);
					if(aprilpercent == 'NaN')
					{
						aprilpercent = 0;
					}
					$('input[name="cf_4417'+id+'"]').val(aprilpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(aprilamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(aprilamount);
							aprilamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4419'+id+'"]').val(aprilamount);
							var monthpercent = parseFloat(aprilamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4417'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilamount) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}

				});
				jQuery(document).on('keyup','[name^="cf_4423"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var mayid = $(this).prop('name');
					var may = mayid.split("_");
					var htlct = may.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+may[htlct-1];
					}
					var maypercent = this.value;
					if(maypercent=="" || maypercent==undefined)
					{
						maypercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var mayapprox = parseFloat(maypercent) * parseFloat(monthamount);
					var mayamount = Math.ceil(parseFloat(mayapprox) / 100);
					if(mayamount=="" || mayamount==undefined)
					{
						mayamount = 0;
					}
					$('input[name="cf_4425'+id+'"]').val(mayamount);
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(mayamount) + parseFloat(aprilval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(mayamount);
							mayamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4425'+id+'"]').val(mayamount);
							var monthpercent = parseFloat(mayamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4423'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}

				});
				jQuery(document).on('keyup','[name^="cf_4425"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var mayid = $(this).prop('name');
					var may = mayid.split("_");
					var htlct = may.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+may[htlct-1];
					}
					var mayamount = this.value;
					if(mayamount=="" || mayamount==undefined)
					{
						mayamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var mayapprox = parseFloat(mayamount) * 100;
					var maypercent = (parseFloat(mayapprox) / parseFloat(monthamount)).toFixed(2);
					if(maypercent == 'NaN')
					{
						maypercent = 0;
					}
					$('input[name="cf_4423'+id+'"]').val(maypercent);
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(mayamount) + parseFloat(aprilval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(mayamount);
							mayamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4425'+id+'"]').val(mayamount);
							var monthpercent = parseFloat(mayamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4423'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayamount) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}

				});
				jQuery(document).on('keyup','[name^="cf_4429"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var juneid = $(this).prop('name');
					var june = juneid.split("_");
					var htlct = june.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+june[htlct-1];
					}
					var junepercent = this.value;
					if(junepercent=="" || junepercent==undefined)
					{
						junepercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var juneapprox = parseFloat(junepercent) * parseFloat(monthamount);
					var juneamount = Math.ceil(parseFloat(juneapprox) / 100);
					$('input[name="cf_4439'+id+'"]').val(juneamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(juneamount) + parseFloat(mayval) + parseFloat(aprilval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(juneamount);
							juneamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4439'+id+'"]').val(juneamount);
							var monthpercent = parseFloat(juneamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4429'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4439"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var juneid = $(this).prop('name');
					var june = juneid.split("_");
					var htlct = june.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+june[htlct-1];
					}
					var juneamount = this.value;
					if(juneamount=="" || juneamount==undefined)
					{
						juneamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var juneapprox = parseFloat(juneamount) * 100;
					var junepercent = (parseFloat(juneapprox) / parseFloat(monthamount)).toFixed(2);
					if(junepercent == 'NaN')
					{
						junepercent = 0;
					}
					$('input[name="cf_4429'+id+'"]').val(junepercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(juneamount) + parseFloat(mayval) + parseFloat(aprilval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(juneamount);
							juneamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4439'+id+'"]').val(juneamount);
							var monthpercent = parseFloat(juneamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4429'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneamount) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}

				});
				jQuery(document).on('keyup','[name^="cf_4459"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var julyid = $(this).prop('name');
					var july = julyid.split("_");
					var htlct = july.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+july[htlct-1];
					}
					var julypercent = this.value;
					if(julypercent=="" || julypercent==undefined)
					{
						julypercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var julyapprox = parseFloat(julypercent) * parseFloat(monthamount);
					var julyamount = Math.ceil(parseFloat(julyapprox) / 100);
					$('input[name="cf_4461'+id+'"]').val(julyamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(julyamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(aprilval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(julyamount);
							julyamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4461'+id+'"]').val(julyamount);
							var monthpercent = parseFloat(julyamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4459'+id+'"]').val(monthpercentage);
						}
					}
					if(type == "Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4461"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var julyid = $(this).prop('name');
					var july = julyid.split("_");
					var htlct = july.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+july[htlct-1];
					}
					var julyamount = this.value;
					if(julyamount=="" || julyamount==undefined)
					{
						julyamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var julyapprox = parseFloat(julyamount) * 100;
					var julypercent = (parseFloat(julyapprox) / parseFloat(monthamount)).toFixed(2);
					if(julypercent == 'NaN')
					{
						julypercent = 0;
					}
					$('input[name="cf_4459'+id+'"]').val(julypercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(julyamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(aprilval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(julyamount);
							julyamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4461'+id+'"]').val(julyamount);
							var monthpercent = parseFloat(julyamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4459'+id+'"]').val(monthpercentage);
						}
					}
					if(type == "Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyamount) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4465"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var augustid = $(this).prop('name');
					var august = augustid.split("_");
					var htlct = august.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+august[htlct-1];
					}
					var augustpercent = this.value;
					if(augustpercent=="" || augustpercent==undefined)
					{
						augustpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var augustapprox = parseFloat(augustpercent) * parseFloat(monthamount);
					var augustamount = Math.ceil(parseFloat(augustapprox) / 100);
					$('input[name="cf_4467'+id+'"]').val(augustamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(augustamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(aprilval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(augustamount);
							augustamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4467'+id+'"]').val(augustamount);
							var monthpercent = parseFloat(augustamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4465'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4467"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var augustid = $(this).prop('name');
					var august = augustid.split("_");
					var htlct = august.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+august[htlct-1];
					}
					var augustamount = this.value;
					if(augustamount=="" || augustamount==undefined)
					{
						augustamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var augustapprox = parseFloat(augustamount) * 100;
					var augustpercent = (parseFloat(augustapprox) / parseFloat(monthamount)).toFixed(2);
					if(augustpercent == 'NaN')
					{
						augustpercent = 0;
					}
					$('input[name="cf_4465'+id+'"]').val(augustpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(augustamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(aprilval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(augustamount);
							augustamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4467'+id+'"]').val(augustamount);
							var monthpercent = parseFloat(augustamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4465'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augustamount) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4471"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var sepid = $(this).prop('name');
					var sep = sepid.split("_");
					var htlct = sep.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+sep[htlct-1];
					}
					var seppercent = this.value;
					if(seppercent=="" || seppercent==undefined)
					{
						seppercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var sepapprox = parseFloat(seppercent) * parseFloat(monthamount);
					var sepamount = Math.ceil(parseFloat(sepapprox) / 100);
					$('input[name="cf_4473'+id+'"]').val(sepamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(sepamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(aprilval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(sepamount);
							sepamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4473'+id+'"]').val(sepamount);
							var monthpercent = parseFloat(sepamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4471'+id+'"]').val(monthpercentage);
						}
					}
					if(type == "Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4473"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var sepid = $(this).prop('name');
					var sep = sepid.split("_");
					var htlct = sep.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+sep[htlct-1];
					}
					var sepamount = this.value;
					if(sepamount=="" || sepamount==undefined)
					{
						sepamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var sepapprox = parseFloat(sepamount) * 100;
					var seppercent = (parseFloat(sepapprox) / parseFloat(monthamount)).toFixed(2);
					if(seppercent == 'NaN')
					{
						seppercent = 0;
					}
					$('input[name="cf_4471'+id+'"]').val(seppercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(sepamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(aprilval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(sepamount);
							sepamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4473'+id+'"]').val(sepamount);
							var monthpercent = parseFloat(sepamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4471'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepamount) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4477"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var octid = $(this).prop('name');
					var oct = octid.split("_");
					var htlct = oct.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+oct[htlct-1];
					}
					var octpercent = this.value;
					if(octpercent=="" || octpercent==undefined)
					{
						octpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var octapprox = parseFloat(octpercent) * parseFloat(monthamount);
					var octamount = Math.ceil(parseFloat(octapprox) / 100);
					$('input[name="cf_4479'+id+'"]').val(octamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(octamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(aprilval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(octamount);
							octamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4479'+id+'"]').val(octamount);
							var monthpercent = parseFloat(octamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4477'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4479"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var octid = $(this).prop('name');
					var oct = octid.split("_");
					var htlct = oct.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+oct[htlct-1];
					}
					var octamount = this.value;
					if(octamount=="" || octamount==undefined)
					{
						octamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var octapprox = parseFloat(octamount) * 100;
					var octpercent = (parseFloat(octapprox) / parseFloat(monthamount)).toFixed(2);
					if(octpercent == 'NaN')
					{
						octpercent = 0;
					}
					$('input[name="cf_4477'+id+'"]').val(octpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(octamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(aprilval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(octamount);
							octamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4479'+id+'"]').val(octamount);
							var monthpercent = parseFloat(octamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4477'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octamount) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}

				});
				jQuery(document).on('keyup','[name^="cf_4483"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var novid = $(this).prop('name');
					var nov = novid.split("_");
					var htlct = nov.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+nov[htlct-1];
					}
					var novpercent = this.value;
					if(novpercent=="" || novpercent==undefined)
					{
						novpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var novapprox = parseFloat(novpercent) * parseFloat(monthamount);
					var novamount = Math.ceil(parseFloat(novapprox) / 100);
					$('input[name="cf_4485'+id+'"]').val(novamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(novamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(aprilval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(novamount);
							novamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4485'+id+'"]').val(novamount);
							var monthpercent = parseFloat(novamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4483'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4485"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var novid = $(this).prop('name');
					var nov = novid.split("_");
					var htlct = nov.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+nov[htlct-1];
					}
					var novamount = this.value;
					if(novamount=="" || novamount==undefined)
					{
						novamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var novapprox = parseFloat(novamount) * 100;
					var novpercent = (parseFloat(novapprox) / parseFloat(monthamount)).toFixed(2);
					if(novpercent == 'NaN')
					{
						novpercent = 0;
					}
					$('input[name="cf_4483'+id+'"]').val(novpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;

					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(novamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(aprilval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(novamount);
							novamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4485'+id+'"]').val(novamount);
							var monthpercent = parseFloat(novamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4483'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novamount) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4489"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var decid = $(this).prop('name');
					var dec = decid.split("_");
					var htlct = dec.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+dec[htlct-1];
					}
					var decpercent = this.value;
					if(decpercent=="" || decpercent==undefined)
					{
						decpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var decapprox = parseFloat(decpercent) * parseFloat(monthamount);
					var decamount = Math.ceil(parseFloat(decapprox) / 100);
					$('input[name="cf_4491'+id+'"]').val(decamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(decamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(aprilval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(decamount);
							decamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4491'+id+'"]').val(decamount);
							var monthpercent = parseFloat(decamount) * 100;
							var monthpercentage =(parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4489'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4491"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var decid = $(this).prop('name');
					var dec = decid.split("_");
					var htlct = dec.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+dec[htlct-1];
					}
					var decamount = this.value;
					if(decamount=="" || decamount==undefined)
					{
						decamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var decapprox = parseFloat(decamount) * 100;
					var decpercent = (parseFloat(decapprox) / parseFloat(monthamount)).toFixed(2);
					if(decpercent == 'NaN')
					{
						decpercent = 0;
					}
					$('input[name="cf_4489'+id+'"]').val(decpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(decamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(aprilval) + parseFloat(janval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(decamount);
							decamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4491'+id+'"]').val(decamount);
							var monthpercent = parseFloat(decamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4489'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decamount) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4495"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var janid = $(this).prop('name');
					var jan = janid.split("_");
					var htlct = jan.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+jan[htlct-1];
					}
					var janpercent = this.value;
					if(janpercent=="" || janpercent==undefined)
					{
						janpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var janapprox = parseFloat(janpercent) * parseFloat(monthamount);
					var janamount = Math.ceil(parseFloat(janapprox) / 100);
					$('input[name="cf_4497'+id+'"]').val(janamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(janamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(aprilval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(janamount);
							janamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4497'+id+'"]').val(janamount);
							var monthpercent = parseFloat(janamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4495'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4497"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var janid = $(this).prop('name');
					var jan = janid.split("_");
					var htlct = jan.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+jan[htlct-1];
					}
					var janamount = this.value;
					if(janamount=="" || janamount==undefined)
					{
						janamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var janapprox = parseFloat(janamount) * 100;
					var janpercent = (parseFloat(janapprox) / parseFloat(monthamount)).toFixed(2);
					if(janpercent == 'NaN')
					{
						janpercent = 0;
					}
					$('input[name="cf_4495'+id+'"]').val(janpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(janamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(aprilval) + parseFloat(febval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(janamount);
							janamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4497'+id+'"]').val(janamount);
							var monthpercent = parseFloat(janamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4495'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janamount) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4501"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var febid = $(this).prop('name');
					var feb = febid.split("_");
					var htlct = feb.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+feb[htlct-1];
					}
					var febpercent = this.value;
					if(febpercent=="" || febpercent==undefined)
					{
						febpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var febapprox = parseFloat(febpercent) * parseFloat(monthamount);
					var febamount = Math.ceil(parseFloat(febapprox) / 100);
					$('input[name="cf_4503'+id+'"]').val(febamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(febamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(aprilval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(febamount);
							febamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4503'+id+'"]').val(febamount);
							var monthpercent = parseFloat(febamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4501'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4503"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var febid = $(this).prop('name');
					var feb = febid.split("_");
					var htlct = feb.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+feb[htlct-1];
					}
					var febamount = this.value;
					if(febamount=="" || febamount==undefined)
					{
						febamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var febapprox = parseFloat(febamount) * 100;
					var febpercent = (parseFloat(febapprox) / parseFloat(monthamount)).toFixed(2);
					if(febpercent == 'NaN')
					{
						febpercent = 0;
					}
					$('input[name="cf_4501'+id+'"]').val(febpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var marchval = $('input[name="cf_4509'+id+'"]').val();
					if(marchval=="" || marchval==undefined)
					{
						marchval = 0;
					}
					var allval = parseFloat(febamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(aprilval) + parseFloat(marchval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(febamount);
							febamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4503'+id+'"]').val(febamount);
							var monthpercent = parseFloat(febamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4501'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febamount) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchval) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4507"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var marchid = $(this).prop('name');
					var march = marchid.split("_");
					var htlct = march.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+march[htlct-1];
					}
					var marchpercent = this.value;
					if(marchpercent=="" || marchpercent==undefined)
					{
						marchpercent = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var marchapprox = parseFloat(marchpercent) * parseFloat(monthamount);
					var marchamount = Math.ceil(parseFloat(marchapprox) / 100);
					$('input[name="cf_4509'+id+'"]').val(marchamount);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var allval = parseFloat(marchamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(aprilval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(marchamount);
							marchamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4509'+id+'"]').val(marchamount);
							var monthpercent = parseFloat(marchamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4507'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

					}
					}
				});
				jQuery(document).on('keyup','[name^="cf_4509"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					if(e.key != 'Tab')
					{
					var marchid = $(this).prop('name');
					var march = marchid.split("_");
					var htlct = march.length;
					var id = '';
					if(htlct==2){
					id = '';
					}else if(htlct==3){
					id = "_"+march[htlct-1];
					}
					var marchamount = this.value;
					if(marchamount=="" || marchamount==undefined)
					{
						marchamount = 0;
					}
					var monthamount = $('input[name="cf_4413'+id+'"]').val();
					var marchapprox = parseFloat(marchamount) * 100;
					var marchpercent = (parseFloat(marchapprox) / parseFloat(monthamount)).toFixed(2);
					if(marchpercent == 'NaN')
					{
						marchpercent = 0;
					}
					$('input[name="cf_4507'+id+'"]').val(marchpercent);
					var mayval = $('input[name="cf_4425'+id+'"]').val();
					if(mayval=="" || mayval==undefined)
					{
						mayval = 0;
					}
					var juneval = $('input[name="cf_4439'+id+'"]').val();
					if(juneval=="" || juneval==undefined)
					{
						juneval = 0;
					}
					var julyval = $('input[name="cf_4461'+id+'"]').val();
					if(julyval=="" || julyval==undefined)
					{
						julyval = 0;
					}
					var augval = $('input[name="cf_4467'+id+'"]').val();
					if(augval=="" || augval==undefined)
					{
						augval = 0;
					}
					var sepval = $('input[name="cf_4473'+id+'"]').val();
					if(sepval=="" || sepval==undefined)
					{
						sepval = 0;
					}
					var octval = $('input[name="cf_4479'+id+'"]').val();
					if(octval=="" || octval==undefined)
					{
						octval = 0;
					}
					var novval = $('input[name="cf_4485'+id+'"]').val();
					if(novval=="" || novval==undefined)
					{
						novval = 0;
					}
					var decval = $('input[name="cf_4491'+id+'"]').val();
					if(decval=="" || decval==undefined)
					{
						decval = 0;
					}
					var janval = $('input[name="cf_4497'+id+'"]').val();
					if(janval=="" || janval==undefined)
					{
						janval = 0;
					}
					var febval = $('input[name="cf_4503'+id+'"]').val();
					if(febval=="" || febval==undefined)
					{
						febval = 0;
					}
					var aprilval = $('input[name="cf_4419'+id+'"]').val();
					if(aprilval=="" || aprilval==undefined)
					{
						aprilval = 0;
					}
					var allval = parseFloat(marchamount) + parseFloat(mayval) + parseFloat(juneval) + parseFloat(julyval) + parseFloat(augval) + parseFloat(sepval) + parseFloat(octval) + parseFloat(novval) + parseFloat(decval) + parseFloat(janval) + parseFloat(febval) + parseFloat(aprilval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total = $('input[name="cf_4415'+id+'"]').val();
						if(total<allval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var alltotal = parseFloat(allval) - parseFloat(marchamount);
							marchamount = parseFloat(total) - parseFloat(alltotal);
							$('input[name="cf_4509'+id+'"]').val(marchamount);
							var monthpercent = parseFloat(marchamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$('input[name="cf_4507'+id+'"]').val(monthpercentage);
						}
					}
					if(type=="Revised")
					{
						$('input[name="cf_4415'+id+'"]').val(allval);
						var monthbudget = (parseFloat(allval)/12).toFixed(2);
						$('input[name="cf_4413'+id+'"]').val(monthbudget);

						var aprilapprox = parseFloat(aprilval) * 100;
						var aprilpercent = (parseFloat(aprilapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4417'+id+'"]').val(aprilpercent);

						var mayapprox = parseFloat(mayval) * 100;
						var maypercent = (parseFloat(mayapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4423'+id+'"]').val(maypercent);

						var juneapprox = parseFloat(juneval) * 100;
						var junepercent = (parseFloat(juneapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4429'+id+'"]').val(junepercent);

						var julyapprox = parseFloat(julyval) * 100;
						var julypercent = (parseFloat(julyapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4459'+id+'"]').val(julypercent);

						var augapprox = parseFloat(augval) * 100;
						var augpercent = (parseFloat(augapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4465'+id+'"]').val(augpercent);

						var sepapprox = parseFloat(sepval) * 100;
						var seppercent = (parseFloat(sepapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4471'+id+'"]').val(seppercent);

						var octapprox = parseFloat(octval) * 100;
						var octpercent = (parseFloat(octapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4477'+id+'"]').val(octpercent);

						var novapprox = parseFloat(novval) * 100;
						var novpercent = (parseFloat(novapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4483'+id+'"]').val(novpercent);

						var decapprox = parseFloat(decval) * 100;
						var decpercent = (parseFloat(decapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4489'+id+'"]').val(decpercent);

						var janapprox = parseFloat(janval) * 100;
						var janpercent = (parseFloat(janapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4495'+id+'"]').val(janpercent);

						var febapprox = parseFloat(febval) * 100;
						var febpercent = (parseFloat(febapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4501'+id+'"]').val(febpercent);

						var marapprox = parseFloat(marchamount) * 100;
						var marpercent = (parseFloat(marapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_4507'+id+'"]').val(marpercent);

					}
					}
				});
      	/*jQuery(document).on('keyup','[name^="cf_2353"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var april4wid = $(this).prop('name');
					var april4w = april4wid.split("_");
					var htlct = april4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+april4w[htlct-1];
					}
					var april4wpercent = this.value;
					if(april4wpercent=="" || april4wpercent==undefined)
					{
						april4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var april4wapprox = parseFloat(april4wpercent) * parseFloat(monthamount);
					var april4wamount = (parseFloat(april4wapprox) / 100).toFixed(2);
					$('input[name="cf_2355'+w4id+'"]').val(april4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(april4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type == "Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(april4wamount);
							april4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2355'+w4id+'"]').val(april4wamount);
							var monthpercent = parseFloat(april4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2355"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var april4wid = $(this).prop('name');
					var april4w = april4wid.split("_");
					var htlct = april4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+april4w[htlct-1];
					}
					var april4wamount = this.value;
					if(april4wamount=="" || april4wamount==undefined)
					{
						april4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var april4wapprox = parseFloat(april4wamount) * 100;
					var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(april4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(april4wamount);
							april4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2355'+w4id+'"]').val(april4wamount);
							var monthpercent = parseFloat(april4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wamount) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2359"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var may4wid = $(this).prop('name');
					var may4w = may4wid.split("_");
					var htlct = may4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+may4w[htlct-1];
					}
					var may4wpercent = this.value;
					if(may4wpercent=="" || may4wpercent==undefined)
					{
						may4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var may4wapprox = parseFloat(may4wpercent) * parseFloat(monthamount);
					var may4wamount = (parseFloat(may4wapprox) / 100).toFixed(2);
					if(may4wamount=="" || may4wamount==undefined)
					{
						may4wamount = 0;
					}
					$('input[name="cf_2361'+w4id+'"]').val(may4wamount);
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(may4wamount) + parseFloat(april4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(may4wamount);
							may4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2361'+w4id+'"]').val(may4wamount);
							var monthpercent = parseFloat(may4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2361"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var may4wid = $(this).prop('name');
					var may4w = may4wid.split("_");
					var htlct = may4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+may4w[htlct-1];
					}
					var may4wamount = this.value;
					if(may4wamount=="" || may4wamount==undefined)
					{
						may4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var may4wapprox = parseFloat(may4wamount) * 100;
					var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthamount)).toFixed(2);
					if(may4wpercent=="" || may4wpercent==undefined)
					{
						may4wpercent = 0;
					}
					$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(may4wamount) + parseFloat(april4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(may4wamount);
							may4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2359'+w4id+'"]').val(may4wamount);
							var monthpercent = parseFloat(may4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wamount) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2365"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var june4wid = $(this).prop('name');
					var june4w = june4wid.split("_");
					var htlct = june4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+june4w[htlct-1];
					}
					var june4wpercent = this.value;
					if(june4wpercent=="" || june4wpercent==undefined)
					{
						june4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var june4wapprox = parseFloat(june4wpercent) * parseFloat(monthamount);
					var june4wamount = (parseFloat(june4wapprox) / 100).toFixed(2);
					$('input[name="cf_2367'+w4id+'"]').val(june4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(june4wamount) + parseFloat(may4wval) + parseFloat(april4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(june4wamount);
							june4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2367'+w4id+'"]').val(june4wamount);
							var monthpercent = parseFloat(june4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2367"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var june4wid = $(this).prop('name');
					var june4w = june4wid.split("_");
					var htlct = june4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+june4w[htlct-1];
					}
					var june4wamount = this.value;
					if(june4wamount=="" || june4wamount==undefined)
					{
						june4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var june4wapprox = parseFloat(june4wamount) * 100;
					var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(june4wamount) + parseFloat(may4wval) + parseFloat(april4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(june4wamount);
							june4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2367'+w4id+'"]').val(june4wamount);
							var monthpercent = parseFloat(june4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wamount) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2371"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var july4wid = $(this).prop('name');
					var july4w = july4wid.split("_");
					var htlct = july4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+july4w[htlct-1];
					}
					var july4wpercent = this.value;
					if(july4wpercent=="" || july4wpercent==undefined)
					{
						july4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var july4wapprox = parseFloat(july4wpercent) * parseFloat(monthamount);
					var july4wamount = (parseFloat(july4wapprox) / 100).toFixed(2);
					$('input[name="cf_2373'+w4id+'"]').val(july4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(july4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(april4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type == "Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(july4wamount);
							july4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2373'+w4id+'"]').val(july4wamount);
							var monthpercent = parseFloat(july4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2373"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var july4wid = $(this).prop('name');
					var july4w = july4wid.split("_");
					var htlct = july4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+july4w[htlct-1];
					}
					var july4wamount = this.value;
					if(july4wamount=="" || july4wamount==undefined)
					{
						july4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var july4wapprox = parseFloat(july4wamount) * 100;
					var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(july4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(april4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type == "Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(july4wamount);
							july4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2373'+w4id+'"]').val(july4wamount);
							var monthpercent = parseFloat(july4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wamount) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2377"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var august4wid = $(this).prop('name');
					var august4w = august4wid.split("_");
					var htlct = august4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+august4w[htlct-1];
					}
					var august4wpercent = this.value;
					if(august4wpercent=="" || august4wpercent==undefined)
					{
						august4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var august4wapprox = parseFloat(august4wpercent) * parseFloat(monthamount);
					var august4wamount = (parseFloat(august4wapprox) / 100).toFixed(2);
					$('input[name="cf_2379'+w4id+'"]').val(august4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(august4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(april4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(august4wamount);
							august4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2379'+w4id+'"]').val(august4wamount);
							var monthpercent = parseFloat(august4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2379"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var august4wid = $(this).prop('name');
					var august4w = august4wid.split("_");
					var htlct = august4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+august4w[htlct-1];
					}
					var august4wamount = this.value;
					if(august4wamount=="" || august4wamount==undefined)
					{
						august4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var august4wapprox = parseFloat(august4wamount) * 100;
					var august4wpercent = (parseFloat(august4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2377'+w4id+'"]').val(august4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(august4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(april4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(august4wamount);
							august4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2379'+w4id+'"]').val(august4wamount);
							var monthpercent = parseFloat(august4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(august4wamount) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2383"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var sep4wid = $(this).prop('name');
					var sep4w = sep4wid.split("_");
					var htlct = sep4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+sep4w[htlct-1];
					}
					var sep4wpercent = this.value;
					if(sep4wpercent=="" || sep4wpercent==undefined)
					{
						sep4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var sep4wapprox = parseFloat(sep4wpercent) * parseFloat(monthamount);
					var sep4wamount = (parseFloat(sep4wapprox) / 100).toFixed(2);
					$('input[name="cf_2385'+w4id+'"]').val(sep4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(sep4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(april4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type == "Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(sep4wamount);
							sep4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2385'+w4id+'"]').val(sep4wamount);
							var monthpercent = parseFloat(sep4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2385"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var sep4wid = $(this).prop('name');
					var sep4w = sep4wid.split("_");
					var htlct = sep4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+sep4w[htlct-1];
					}
					var sep4wamount = this.value;
					if(sep4wamount=="" || sep4wamount==undefined)
					{
						sep4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var sep4wapprox = parseFloat(sep4wamount) * 100;
					var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(sep4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(april4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(sep4wamount);
							sep4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2385'+w4id+'"]').val(sep4wamount);
							var monthpercent = parseFloat(sep4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wamount) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2389"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var oct4wid = $(this).prop('name');
					var oct4w = oct4wid.split("_");
					var htlct = oct4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+oct4w[htlct-1];
					}
					var oct4wpercent = this.value;
					if(oct4wpercent=="" || oct4wpercent==undefined)
					{
						oct4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var oct4wapprox = parseFloat(oct4wpercent) * parseFloat(monthamount);
					var oct4wamount = (parseFloat(oct4wapprox) / 100).toFixed(2);
					$('input[name="cf_2391'+w4id+'"]').val(oct4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(oct4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(april4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(oct4wamount);
							oct4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2391'+w4id+'"]').val(oct4wamount);
							var monthpercent = parseFloat(oct4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2391"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var oct4wid = $(this).prop('name');
					var oct4w = oct4wid.split("_");
					var htlct = oct4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+oct4w[htlct-1];
					}
					var oct4wamount = this.value;
					if(oct4wamount=="" || oct4wamount==undefined)
					{
						oct4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var oct4wapprox = parseFloat(oct4wamount) * 100;
					var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(oct4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(april4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(oct4wamount);
							oct4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2391'+w4id+'"]').val(oct4wamount);
							var monthpercent = parseFloat(oct4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wamount) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2395"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var nov4wid = $(this).prop('name');
					var nov4w = nov4wid.split("_");
					var htlct = nov4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+nov4w[htlct-1];
					}
					var nov4wpercent = this.value;
					if(nov4wpercent=="" || nov4wpercent==undefined)
					{
						nov4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var nov4wapprox = parseFloat(nov4wpercent) * parseFloat(monthamount);
					var nov4wamount = (parseFloat(nov4wapprox) / 100).toFixed(2);
					$('input[name="cf_2397'+w4id+'"]').val(nov4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(nov4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(april4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(nov4wamount);
							nov4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2397'+w4id+'"]').val(nov4wamount);
							var monthpercent = parseFloat(nov4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2397"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var nov4wid = $(this).prop('name');
					var nov4w = nov4wid.split("_");
					var htlct = nov4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+nov4w[htlct-1];
					}
					var nov4wamount = this.value;
					if(nov4wamount=="" || nov4wamount==undefined)
					{
						nov4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var nov4wapprox = parseFloat(nov4wamount) * 100;
					var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;

					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(nov4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(april4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(nov4wamount);
							nov4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2397'+w4id+'"]').val(nov4wamount);
							var monthpercent = parseFloat(nov4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wamount) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2401"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var dec4wid = $(this).prop('name');
					var dec4w = dec4wid.split("_");
					var htlct = dec4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+dec4w[htlct-1];
					}
					var dec4wpercent = this.value;
					if(dec4wpercent=="" || dec4wpercent==undefined)
					{
						dec4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var dec4wapprox = parseFloat(dec4wpercent) * parseFloat(monthamount);
					var dec4wamount = (parseFloat(dec4wapprox) / 100).toFixed(2);
					$('input[name="cf_2403'+w4id+'"]').val(dec4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(dec4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(april4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(dec4wamount);
							dec4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2403'+w4id+'"]').val(dec4wamount);
							var monthpercent = parseFloat(dec4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2403"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var dec4wid = $(this).prop('name');
					var dec4w = dec4wid.split("_");
					var htlct = dec4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+dec4w[htlct-1];
					}
					var dec4wamount = this.value;
					if(dec4wamount=="" || dec4wamount==undefined)
					{
						dec4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var dec4wapprox = parseFloat(dec4wamount) * 100;
					var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(dec4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(april4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(dec4wamount);
							dec4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2403'+w4id+'"]').val(dec4wamount);
							var monthpercent = parseFloat(dec4wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wamount) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2407"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var jan4wid = $(this).prop('name');
					var jan4w = jan4wid.split("_");
					var htlct = jan4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+jan4w[htlct-1];
					}
					var jan4wpercent = this.value;
					if(jan4wpercent=="" || jan4wpercent==undefined)
					{
						jan4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var jan4wapprox = parseFloat(jan4wpercent) * parseFloat(monthamount);
					var jan4wamount = (parseFloat(jan4wapprox) / 100).toFixed(2);
					$('input[name="cf_2409'+w4id+'"]').val(jan4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(jan4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(april4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(jan4wamount);
							jan4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2409'+w4id+'"]').val(jan4wamount);
							var monthpercent = parseFloat(jan4wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2409"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var jan4wid = $(this).prop('name');
					var jan4w = jan4wid.split("_");
					var htlct = jan4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+jan4w[htlct-1];
					}
					var jan4wamount = this.value;
					if(jan4wamount=="" || jan4wamount==undefined)
					{
						jan4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var jan4wapprox = parseFloat(jan4wamount) * 100;
					var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(jan4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(april4wval) + parseFloat(feb4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(jan4wamount);
							jan4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2409'+w4id+'"]').val(jan4wamount);
							var monthpercent = parseFloat(jan4wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wamount) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2415"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var feb4wid = $(this).prop('name');
					var feb4w = feb4wid.split("_");
					var htlct = feb4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+feb4w[htlct-1];
					}
					var feb4wpercent = this.value;
					if(feb4wpercent=="" || feb4wpercent==undefined)
					{
						feb4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var feb4wapprox = parseFloat(feb4wpercent) * parseFloat(monthamount);
					var feb4wamount = (parseFloat(feb4wapprox) / 100).toFixed(2);
					$('input[name="cf_2418'+w4id+'"]').val(feb4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(feb4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(april4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(feb4wamount);
							feb4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2418'+w4id+'"]').val(feb4wamount);
							var monthpercent = parseFloat(feb4wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2418"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var feb4wid = $(this).prop('name');
					var feb4w = feb4wid.split("_");
					var htlct = feb4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+feb4w[htlct-1];
					}
					var feb4wamount = this.value;
					if(feb4wamount=="" || feb4wamount==undefined)
					{
						feb4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var feb4wapprox = parseFloat(feb4wamount) * 100;
					var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var march4wval = $('input[name="cf_2426'+w4id+'"]').val();
					if(march4wval=="" || march4wval==undefined)
					{
						march4wval = 0;
					}
					var all4wval = parseFloat(feb4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(april4wval) + parseFloat(march4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(feb4wamount);
							feb4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2418'+w4id+'"]').val(feb4wamount);
							var monthpercent = parseFloat(feb4wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wamount) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wval) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2423"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var march4wid = $(this).prop('name');
					var march4w = march4wid.split("_");
					var htlct = march4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+march4w[htlct-1];
					}
					var march4wpercent = this.value;
					if(march4wpercent=="" || march4wpercent==undefined)
					{
						march4wpercent = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var march4wapprox = parseFloat(march4wpercent) * parseFloat(monthamount);
					var march4wamount = (parseFloat(march4wapprox) / 100).toFixed(2);
					$('input[name="cf_2426'+w4id+'"]').val(march4wamount);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var all4wval = parseFloat(march4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(april4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(march4wamount);
							march4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2426'+w4id+'"]').val(march4wamount);
							var monthpercent = parseFloat(march4wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2426"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var march4wid = $(this).prop('name');
					var march4w = march4wid.split("_");
					var htlct = march4w.length;
					var w4id = '';
					if(htlct==2){
					w4id = '';
					}else if(htlct==3){
					w4id = "_"+march4w[htlct-1];
					}
					var march4wamount = this.value;
					if(march4wamount=="" || march4wamount==undefined)
					{
						march4wamount = 0;
					}
					var monthamount = $('input[name="cf_2343'+w4id+'"]').val();
					var march4wapprox = parseFloat(march4wamount) * 100;
					var march4wpercent = (parseFloat(march4wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2423'+w4id+'"]').val(march4wpercent);
					var may4wval = $('input[name="cf_2361'+w4id+'"]').val();
					if(may4wval=="" || may4wval==undefined)
					{
						may4wval = 0;
					}
					var june4wval = $('input[name="cf_2367'+w4id+'"]').val();
					if(june4wval=="" || june4wval==undefined)
					{
						june4wval = 0;
					}
					var july4wval = $('input[name="cf_2373'+w4id+'"]').val();
					if(july4wval=="" || july4wval==undefined)
					{
						july4wval = 0;
					}
					var aug4wval = $('input[name="cf_2379'+w4id+'"]').val();
					if(aug4wval=="" || aug4wval==undefined)
					{
						aug4wval = 0;
					}
					var sep4wval = $('input[name="cf_2385'+w4id+'"]').val();
					if(sep4wval=="" || sep4wval==undefined)
					{
						sep4wval = 0;
					}
					var oct4wval = $('input[name="cf_2391'+w4id+'"]').val();
					if(oct4wval=="" || oct4wval==undefined)
					{
						oct4wval = 0;
					}
					var nov4wval = $('input[name="cf_2397'+w4id+'"]').val();
					if(nov4wval=="" || nov4wval==undefined)
					{
						nov4wval = 0;
					}
					var dec4wval = $('input[name="cf_2403'+w4id+'"]').val();
					if(dec4wval=="" || dec4wval==undefined)
					{
						dec4wval = 0;
					}
					var jan4wval = $('input[name="cf_2409'+w4id+'"]').val();
					if(jan4wval=="" || jan4wval==undefined)
					{
						jan4wval = 0;
					}
					var feb4wval = $('input[name="cf_2418'+w4id+'"]').val();
					if(feb4wval=="" || feb4wval==undefined)
					{
						feb4wval = 0;
					}
					var april4wval = $('input[name="cf_2355'+w4id+'"]').val();
					if(april4wval=="" || april4wval==undefined)
					{
						april4wval = 0;
					}
					var all4wval = parseFloat(march4wamount) + parseFloat(may4wval) + parseFloat(june4wval) + parseFloat(july4wval) + parseFloat(aug4wval) + parseFloat(sep4wval) + parseFloat(oct4wval) + parseFloat(nov4wval) + parseFloat(dec4wval) + parseFloat(jan4wval) + parseFloat(feb4wval) + parseFloat(april4wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total4w = $('input[name="cf_2341'+w4id+'"]').val();
						if(total4w<all4wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all4w = parseFloat(all4wval) - parseFloat(march4wamount);
							march4wamount = parseFloat(total4w) - parseFloat(all4w);
							$('input[name="cf_2426'+w4id+'"]').val(march4wamount);
							var monthpercent = parseFloat(march4wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2341'+w4id+'"]').val(all4wval);
						var monthbudget = (parseFloat(all4wval)/12).toFixed(2);
						$('input[name="cf_2343'+w4id+'"]').val(monthbudget);

						var april4wapprox = parseFloat(april4wval) * 100;
						var april4wpercent = (parseFloat(april4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2353'+w4id+'"]').val(april4wpercent);

						var may4wapprox = parseFloat(may4wval) * 100;
						var may4wpercent = (parseFloat(may4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2359'+w4id+'"]').val(may4wpercent);

						var june4wapprox = parseFloat(june4wval) * 100;
						var june4wpercent = (parseFloat(june4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2365'+w4id+'"]').val(june4wpercent);

						var july4wapprox = parseFloat(july4wval) * 100;
						var july4wpercent = (parseFloat(july4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2371'+w4id+'"]').val(july4wpercent);

						var aug4wapprox = parseFloat(aug4wval) * 100;
						var aug4wpercent = (parseFloat(aug4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2377'+w4id+'"]').val(aug4wpercent);

						var sep4wapprox = parseFloat(sep4wval) * 100;
						var sep4wpercent = (parseFloat(sep4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2383'+w4id+'"]').val(sep4wpercent);

						var oct4wapprox = parseFloat(oct4wval) * 100;
						var oct4wpercent = (parseFloat(oct4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2389'+w4id+'"]').val(oct4wpercent);

						var nov4wapprox = parseFloat(nov4wval) * 100;
						var nov4wpercent = (parseFloat(nov4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2395'+w4id+'"]').val(nov4wpercent);

						var dec4wapprox = parseFloat(dec4wval) * 100;
						var dec4wpercent = (parseFloat(dec4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2401'+w4id+'"]').val(dec4wpercent);

						var jan4wapprox = parseFloat(jan4wval) * 100;
						var jan4wpercent = (parseFloat(jan4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2407'+w4id+'"]').val(jan4wpercent);

						var feb4wapprox = parseFloat(feb4wval) * 100;
						var feb4wpercent = (parseFloat(feb4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2415'+w4id+'"]').val(feb4wpercent);

						var mar4wapprox = parseFloat(march4wamount) * 100;
						var mar4wpercent = (parseFloat(mar4wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2423'+w4id+'"]').val(mar4wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2450"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var april2wid = $(this).prop('name');
					var april2w = april2wid.split("_");
					var htlct = april2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+april2w[htlct-1];
					}
					var april2wpercent = this.value;
					if(april2wpercent=="" || april2wpercent==undefined)
					{
						april2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var april2wapprox = parseFloat(april2wpercent) * parseFloat(monthamount);
					var april2wamount = (parseFloat(april2wapprox) / 100).toFixed(2);
					$('input[name="cf_2452'+w2id+'"]').val(april2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(april2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(april2wamount);
							april2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2452'+w2id+'"]').val(april2wamount);
							var monthpercent = parseFloat(april2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2452"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var april2wid = $(this).prop('name');
					var april2w = april2wid.split("_");
					var htlct = april2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+april2w[htlct-1];
					}
					var april2wamount = this.value;
					if(april2wamount=="" || april2wamount==undefined)
					{
						april2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var april2wapprox = parseFloat(april2wamount) * 100;
					var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(april2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(april2wamount);
							april2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2452'+w2id+'"]').val(april2wamount);
							var monthpercent = parseFloat(april2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wamount) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2462"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var may2wid = $(this).prop('name');
					var may2w = may2wid.split("_");
					var htlct = may2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+may2w[htlct-1];
					}
					var may2wpercent = this.value;
					if(may2wpercent=="" || may2wpercent==undefined)
					{
						may2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var may2wapprox = parseFloat(may2wpercent) * parseFloat(monthamount);
					var may2wamount = (parseFloat(may2wapprox) / 100).toFixed(2);
					$('input[name="cf_2466'+w2id+'"]').val(may2wamount);
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(may2wamount) + parseFloat(april2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(may2wamount);
							may2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2466'+w2id+'"]').val(may2wamount);
							var monthpercent = parseFloat(may2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2466"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var may2wid = $(this).prop('name');
					var may2w = may2wid.split("_");
					var htlct = may2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+may2w[htlct-1];
					}
					var may2wamount = this.value;
					if(may2wamount=="" || may2wamount==undefined)
					{
						may2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var may2wapprox = parseFloat(may2wamount) * 100;
					var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(may2wamount) + parseFloat(april2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(may2wamount);
							may2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2466'+w2id+'"]').val(may2wamount);
							var monthpercent = parseFloat(may2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wamount) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2472"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var june2wid = $(this).prop('name');
					var june2w = june2wid.split("_");
					var htlct = june2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+june2w[htlct-1];
					}
					var june2wpercent = this.value;
					if(june2wpercent=="" || june2wpercent==undefined)
					{
						june2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var june2wapprox = parseFloat(june2wpercent) * parseFloat(monthamount);
					var june2wamount = (parseFloat(june2wapprox) / 100).toFixed(2);
					$('input[name="cf_2476'+w2id+'"]').val(june2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(june2wamount) + parseFloat(may2wval) + parseFloat(april2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(june2wamount);
							june2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2476'+w2id+'"]').val(june2wamount);
							var monthpercent = parseFloat(june2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2476"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var june2wid = $(this).prop('name');
					var june2w = june2wid.split("_");
					var htlct = june2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+june2w[htlct-1];
					}
					var june2wamount = this.value;
					if(june2wamount=="" || june2wamount==undefined)
					{
						june2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var june2wapprox = parseFloat(june2wamount) * 100;
					var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(june2wamount) + parseFloat(may2wval) + parseFloat(april2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(june2wamount);
							june2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2476'+w2id+'"]').val(june2wamount);
							var monthpercent = parseFloat(june2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wamount) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2482"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var july2wid = $(this).prop('name');
					var july2w = july2wid.split("_");
					var htlct = july2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+july2w[htlct-1];
					}
					var july2wpercent = this.value;
					if(july2wpercent=="" || july2wpercent==undefined)
					{
						july2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var july2wapprox = parseFloat(july2wpercent) * parseFloat(monthamount);
					var july2wamount = (parseFloat(july2wapprox) / 100).toFixed(2);
					$('input[name="cf_2486'+w2id+'"]').val(july2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(july2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(april2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(july2wamount);
							july2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2486'+w2id+'"]').val(july2wamount);
							var monthpercent = parseFloat(july2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2486"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var july2wid = $(this).prop('name');
					var july2w = july2wid.split("_");
					var htlct = july2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+july2w[htlct-1];
					}
					var july2wamount = this.value;
					if(july2wamount=="" || july2wamount==undefined)
					{
						july2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var july2wapprox = parseFloat(july2wamount) * 100;
					var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(july2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(april2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var total2w = $('input[name="cf_2446'+w2id+'"]').val();
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(july2wamount);
							july2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2486'+w2id+'"]').val(july2wamount);
							var monthpercent = parseFloat(july2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wamount) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2492"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var august2wid = $(this).prop('name');
					var august2w = august2wid.split("_");
					var htlct = august2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+august2w[htlct-1];
					}
					var august2wpercent = this.value;
					if(august2wpercent=="" || august2wpercent==undefined)
					{
						august2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var august2wapprox = parseFloat(august2wpercent) * parseFloat(monthamount);
					var august2wamount = (parseFloat(august2wapprox) / 100).toFixed(2);
					$('input[name="cf_2494'+w2id+'"]').val(august2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(august2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(april2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(august2wamount);
							august2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2494'+w2id+'"]').val(august2wamount);
							var monthpercent = parseFloat(august2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2494"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var august2wid = $(this).prop('name');
					var august2w = august2wid.split("_");
					var htlct = august2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+august2w[htlct-1];
					}
					var august2wamount = this.value;
					if(august2wamount=="" || august2wamount==undefined)
					{
						august2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var august2wapprox = parseFloat(august2wamount) * 100;
					var august2wpercent = (parseFloat(august2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2492'+w2id+'"]').val(august2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(august2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(april2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(august2wamount);
							august2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2494'+w2id+'"]').val(august2wamount);
							var monthpercent = parseFloat(august2wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(august2wamount) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2502"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var sep2wid = $(this).prop('name');
					var sep2w = sep2wid.split("_");
					var htlct = sep2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+sep2w[htlct-1];
					}
					var sep2wpercent = this.value;
					if(sep2wpercent=="" || sep2wpercent==undefined)
					{
						sep2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var sep2wapprox = parseFloat(sep2wpercent) * parseFloat(monthamount);
					var sep2wamount = (parseFloat(sep2wapprox) / 100).toFixed(2);
					$('input[name="cf_2506'+w2id+'"]').val(sep2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(sep2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(april2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(sep2wamount);
							sep2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2506'+w2id+'"]').val(sep2wamount);
							var monthpercent = parseFloat(sep2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2506"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var sep2wid = $(this).prop('name');
					var sep2w = sep2wid.split("_");
					var htlct = sep2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+sep2w[htlct-1];
					}
					var sep2wamount = this.value;
					if(sep2wamount=="" || sep2wamount==undefined)
					{
						sep2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var sep2wapprox = parseFloat(sep2wamount) * 100;
					var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(sep2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(april2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(sep2wamount);
							sep2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2506'+w2id+'"]').val(sep2wamount);
							var monthpercent = parseFloat(sep2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wamount) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2514"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var oct2wid = $(this).prop('name');
					var oct2w = oct2wid.split("_");
					var htlct = oct2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+oct2w[htlct-1];
					}
					var oct2wpercent = this.value;
					if(oct2wpercent=="" || oct2wpercent==undefined)
					{
						oct2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var oct2wapprox = parseFloat(oct2wpercent) * parseFloat(monthamount);
					var oct2wamount = (parseFloat(oct2wapprox) / 100).toFixed(2);
					$('input[name="cf_2518'+w2id+'"]').val(oct2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(oct2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(april2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(oct2wamount);
							oct2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2518'+w2id+'"]').val(oct2wamount);
							var monthpercent = parseFloat(oct2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2518"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var oct2wid = $(this).prop('name');
					var oct2w = oct2wid.split("_");
					var htlct = oct2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+oct2w[htlct-1];
					}
					var oct2wamount = this.value;
					if(oct2wamount=="" || oct2wamount==undefined)
					{
						oct2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var oct2wapprox = parseFloat(oct2wamount) * 100;
					var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(oct2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(april2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(oct2wamount);
							oct2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2518'+w2id+'"]').val(oct2wamount);
							var monthpercent = parseFloat(oct2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wamount) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2524"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var nov2wid = $(this).prop('name');
					var nov2w = nov2wid.split("_");
					var htlct = nov2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+nov2w[htlct-1];
					}
					var nov2wpercent = this.value;
					if(nov2wpercent=="" || nov2wpercent==undefined)
					{
						nov2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var nov2wapprox = parseFloat(nov2wpercent) * parseFloat(monthamount);
					var nov2wamount = (parseFloat(nov2wapprox) / 100).toFixed(2);
					$('input[name="cf_2526'+w2id+'"]').val(nov2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(nov2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(april2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(nov2wamount);
							nov2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2526'+w2id+'"]').val(nov2wamount);
							var monthpercent = parseFloat(nov2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2526"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var nov2wid = $(this).prop('name');
					var nov2w = nov2wid.split("_");
					var htlct = nov2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+nov2w[htlct-1];
					}
					var nov2wamount = this.value;
					if(nov2wamount=="" || nov2wamount==undefined)
					{
						nov2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var nov2wapprox = parseFloat(nov2wamount) * 100;
					var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(nov2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(april2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(nov2wamount);
							nov2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2526'+w2id+'"]').val(nov2wamount);
							var monthpercent = parseFloat(nov2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wamount) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2534"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var dec2wid = $(this).prop('name');
					var dec2w = dec2wid.split("_");
					var htlct = dec2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+dec2w[htlct-1];
					}
					var dec2wpercent = this.value;
					if(dec2wpercent=="" || dec2wpercent==undefined)
					{
						dec2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var dec2wapprox = parseFloat(dec2wpercent) * parseFloat(monthamount);
					var dec2wamount = (parseFloat(dec2wapprox) / 100).toFixed(2);
					$('input[name="cf_2538'+w2id+'"]').val(dec2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(dec2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(april2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(dec2wamount);
							dec2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2538'+w2id+'"]').val(dec2wamount);
							var monthpercent = parseFloat(dec2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2538"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var dec2wid = $(this).prop('name');
					var dec2w = dec2wid.split("_");
					var htlct = dec2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+dec2w[htlct-1];
					}
					var dec2wamount = this.value;
					if(dec2wamount=="" || dec2wamount==undefined)
					{
						dec2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var dec2wapprox = parseFloat(dec2wamount) * 100;
					var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(dec2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(april2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(dec2wamount);
							dec2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2538'+w2id+'"]').val(dec2wamount);
							var monthpercent = parseFloat(dec2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wamount) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2546"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var jan2wid = $(this).prop('name');
					var jan2w = jan2wid.split("_");
					var htlct = jan2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+jan2w[htlct-1];
					}
					var jan2wpercent = this.value;
					if(jan2wpercent=="" || jan2wpercent==undefined)
					{
						jan2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var jan2wapprox = parseFloat(jan2wpercent) * parseFloat(monthamount);
					var jan2wamount = (parseFloat(jan2wapprox) / 100).toFixed(2);
					$('input[name="cf_2550'+w2id+'"]').val(jan2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(jan2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(april2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(jan2wamount);
							jan2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2550'+w2id+'"]').val(jan2wamount);
							var monthpercent = parseFloat(jan2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2550"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var jan2wid = $(this).prop('name');
					var jan2w = jan2wid.split("_");
					var htlct = jan2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+jan2w[htlct-1];
					}
					var jan2wamount = this.value;
					if(jan2wamount=="" || jan2wamount==undefined)
					{
						jan2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var jan2wapprox = parseFloat(jan2wamount) * 100;
					var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(jan2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(april2wval) + parseFloat(feb2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(jan2wamount);
							jan2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2550'+w2id+'"]').val(jan2wamount);
							var monthpercent = parseFloat(jan2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wamount) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2558"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var feb2wid = $(this).prop('name');
					var feb2w = feb2wid.split("_");
					var htlct = feb2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+feb2w[htlct-1];
					}
					var feb2wpercent = this.value;
					if(feb2wpercent=="" || feb2wpercent==undefined)
					{
						feb2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var feb2wapprox = parseFloat(feb2wpercent) * parseFloat(monthamount);
					var feb2wamount = (parseFloat(feb2wapprox) / 100).toFixed(2);
					$('input[name="cf_2562'+w2id+'"]').val(feb2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(feb2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(april2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(feb2wamount);
							feb2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2562'+w2id+'"]').val(feb2wamount);
							var monthpercent = parseFloat(feb2wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2562"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var feb2wid = $(this).prop('name');
					var feb2w = feb2wid.split("_");
					var htlct = feb2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+feb2w[htlct-1];
					}
					var feb2wamount = this.value;
					if(feb2wamount=="" || feb2wamount==undefined)
					{
						feb2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var feb2wapprox = parseFloat(feb2wamount) * 100;
					var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var march2wval = $('input[name="cf_2574'+w2id+'"]').val();
					if(march2wval=="" || march2wval==undefined)
					{
						march2wval = 0;
					}
					var all2wval = parseFloat(feb2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(april2wval) + parseFloat(march2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(feb2wamount);
							feb2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2562'+w2id+'"]').val(feb2wamount);
							var monthpercent = parseFloat(feb2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wamount) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wval) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2570"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var march2wid = $(this).prop('name');
					var march2w = march2wid.split("_");
					var htlct = march2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+march2w[htlct-1];
					}
					var march2wpercent = this.value;
					if(march2wpercent=="" || march2wpercent==undefined)
					{
						march2wpercent = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var march2wapprox = parseFloat(march2wpercent) * parseFloat(monthamount);
					var march2wamount = (parseFloat(march2wapprox) / 100).toFixed(2);
					$('input[name="cf_2574'+w2id+'"]').val(march2wamount);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var all2wval = parseFloat(march2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(april2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(march2wamount);
							march2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2574'+w2id+'"]').val(march2wamount);
							var monthpercent = parseFloat(march2wamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2574"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var march2wid = $(this).prop('name');
					var march2w = march2wid.split("_");
					var htlct = march2w.length;
					var w2id = '';
					if(htlct==2){
					w2id = '';
					}else if(htlct==3){
					w2id = "_"+march2w[htlct-1];
					}
					var march2wamount = this.value;
					if(march2wamount=="" || march2wamount==undefined)
					{
						march2wamount = 0;
					}
					var monthamount = $('input[name="cf_2448'+w2id+'"]').val();
					var march2wapprox = parseFloat(march2wamount) * 100;
					var march2wpercent = (parseFloat(march2wapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2570'+w2id+'"]').val(march2wpercent);
					var may2wval = $('input[name="cf_2466'+w2id+'"]').val();
					if(may2wval=="" || may2wval==undefined)
					{
						may2wval = 0;
					}
					var june2wval = $('input[name="cf_2476'+w2id+'"]').val();
					if(june2wval=="" || june2wval==undefined)
					{
						june2wval = 0;
					}
					var july2wval = $('input[name="cf_2486'+w2id+'"]').val();
					if(july2wval=="" || july2wval==undefined)
					{
						july2wval = 0;
					}
					var aug2wval = $('input[name="cf_2494'+w2id+'"]').val();
					if(aug2wval=="" || aug2wval==undefined)
					{
						aug2wval = 0;
					}
					var sep2wval = $('input[name="cf_2506'+w2id+'"]').val();
					if(sep2wval=="" || sep2wval==undefined)
					{
						sep2wval = 0;
					}
					var oct2wval = $('input[name="cf_2518'+w2id+'"]').val();
					if(oct2wval=="" || oct2wval==undefined)
					{
						oct2wval = 0;
					}
					var nov2wval = $('input[name="cf_2526'+w2id+'"]').val();
					if(nov2wval=="" || nov2wval==undefined)
					{
						nov2wval = 0;
					}
					var dec2wval = $('input[name="cf_2538'+w2id+'"]').val();
					if(dec2wval=="" || dec2wval==undefined)
					{
						dec2wval = 0;
					}
					var jan2wval = $('input[name="cf_2550'+w2id+'"]').val();
					if(jan2wval=="" || jan2wval==undefined)
					{
						jan2wval = 0;
					}
					var feb2wval = $('input[name="cf_2562'+w2id+'"]').val();
					if(feb2wval=="" || feb2wval==undefined)
					{
						feb2wval = 0;
					}
					var april2wval = $('input[name="cf_2452'+w2id+'"]').val();
					if(april2wval=="" || april2wval==undefined)
					{
						april2wval = 0;
					}
					var all2wval = parseFloat(march2wamount) + parseFloat(may2wval) + parseFloat(june2wval) + parseFloat(july2wval) + parseFloat(aug2wval) + parseFloat(sep2wval) + parseFloat(oct2wval) + parseFloat(nov2wval) + parseFloat(dec2wval) + parseFloat(jan2wval) + parseFloat(feb2wval) + parseFloat(april2wval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var total2w = $('input[name="cf_2446'+w2id+'"]').val();
						if(total2w<all2wval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var all2w = parseFloat(all2wval) - parseFloat(march2wamount);
							march2wamount = parseFloat(total2w) - parseFloat(all2w);
							$('input[name="cf_2574'+w2id+'"]').val(march2wamount);
							var monthpercent = parseFloat(march2wamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2446'+w2id+'"]').val(all2wval);
						var monthbudget = (parseFloat(all2wval)/12).toFixed(2);
						$('input[name="cf_2448'+w2id+'"]').val(monthbudget);

						var april2wapprox = parseFloat(april2wval) * 100;
						var april2wpercent = (parseFloat(april2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2450'+w2id+'"]').val(april2wpercent);

						var may2wapprox = parseFloat(may2wval) * 100;
						var may2wpercent = (parseFloat(may2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2462'+w2id+'"]').val(may2wpercent);

						var june2wapprox = parseFloat(june2wval) * 100;
						var june2wpercent = (parseFloat(june2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2472'+w2id+'"]').val(june2wpercent);

						var july2wapprox = parseFloat(july2wval) * 100;
						var july2wpercent = (parseFloat(july2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2482'+w2id+'"]').val(july2wpercent);

						var aug2wapprox = parseFloat(aug2wval) * 100;
						var aug2wpercent = (parseFloat(aug2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2492'+w2id+'"]').val(aug2wpercent);

						var sep2wapprox = parseFloat(sep2wval) * 100;
						var sep2wpercent = (parseFloat(sep2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2502'+w2id+'"]').val(sep2wpercent);

						var oct2wapprox = parseFloat(oct2wval) * 100;
						var oct2wpercent = (parseFloat(oct2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2514'+w2id+'"]').val(oct2wpercent);

						var nov2wapprox = parseFloat(nov2wval) * 100;
						var nov2wpercent = (parseFloat(nov2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2524'+w2id+'"]').val(nov2wpercent);

						var dec2wapprox = parseFloat(dec2wval) * 100;
						var dec2wpercent = (parseFloat(dec2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2534'+w2id+'"]').val(dec2wpercent);

						var jan2wapprox = parseFloat(jan2wval) * 100;
						var jan2wpercent = (parseFloat(jan2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2546'+w2id+'"]').val(jan2wpercent);

						var feb2wapprox = parseFloat(feb2wval) * 100;
						var feb2wpercent = (parseFloat(feb2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2558'+w2id+'"]').val(feb2wpercent);

						var mar2wapprox = parseFloat(march2wamount) * 100;
						var mar2wpercent = (parseFloat(mar2wapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2570'+w2id+'"]').val(mar2wpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2484"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var aprilibid = $(this).prop('name');
					var aprilib = aprilibid.split("_");
					var htlct = aprilib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+aprilib[htlct-1];
					}
					var aprilibpercent = this.value;
					if(aprilibpercent=="" || aprilibpercent==undefined)
					{
						aprilibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var aprilibapprox = parseFloat(aprilibpercent) * parseFloat(monthamount);
					var aprilibamount = (parseFloat(aprilibapprox) / 100).toFixed(2);
					$('input[name="cf_2490'+ibid+'"]').val(aprilibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(aprilibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(aprilibamount);
							aprilibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2490'+ibid+'"]').val(aprilibamount);
							var monthpercent = parseFloat(aprilibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2490"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var aprilibid = $(this).prop('name');
					var aprilib = aprilibid.split("_");
					var htlct = aprilib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+aprilib[htlct-1];
					}
					var aprilibamount = this.value;
					if(aprilibamount=="" || aprilibamount==undefined)
					{
						aprilibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var aprilibapprox = parseFloat(aprilibamount) * 100;
					var aprilibamount = (parseFloat(aprilibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2484'+ibid+'"]').val(aprilibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(aprilibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(aprilibamount);
							aprilibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2490'+ibid+'"]').val(aprilibamount);
							var monthpercent = parseFloat(aprilibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibamount) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2500"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var mayibid = $(this).prop('name');
					var mayib = mayibid.split("_");
					var htlct = mayib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+mayib[htlct-1];
					}
					var mayibpercent = this.value;
					if(mayibpercent=="" || mayibpercent==undefined)
					{
						mayibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var mayibapprox = parseFloat(mayibpercent) * parseFloat(monthamount);
					var mayibamount = (parseFloat(mayibapprox) / 100).toFixed(2);
					$('input[name="cf_2504'+ibid+'"]').val(mayibamount);
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(mayibamount) + parseFloat(aprilibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(mayibamount);
							mayibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2504'+ibid+'"]').val(mayibamount);
							var monthpercent = parseFloat(mayibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2504"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var mayibid = $(this).prop('name');
					var mayib = mayibid.split("_");
					var htlct = mayib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+mayib[htlct-1];
					}
					var mayibamount = this.value;
					if(mayibamount=="" || mayibamount==undefined)
					{
						mayibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var mayibapprox = parseFloat(mayibamount) * 100;
					var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(mayibamount) + parseFloat(aprilibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(mayibamount);
							mayibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2504'+ibid+'"]').val(mayibamount);
							var monthpercent = parseFloat(mayibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibamount) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2512"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var juneibid = $(this).prop('name');
					var juneib = juneibid.split("_");
					var htlct = juneib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+juneib[htlct-1];
					}
					var juneibpercent = this.value;
					if(juneibpercent=="" || juneibpercent==undefined)
					{
						juneibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var juneibapprox = parseFloat(juneibpercent) * parseFloat(monthamount);
					var juneibamount = (parseFloat(juneibapprox) / 100).toFixed(2);
					$('input[name="cf_2516'+ibid+'"]').val(juneibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(juneibamount) + parseFloat(mayibval) + parseFloat(aprilibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(juneibamount);
							juneibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2516'+ibid+'"]').val(juneibamount);
							var monthpercent = parseFloat(juneibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2516"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var juneibid = $(this).prop('name');
					var juneib = juneibid.split("_");
					var htlct = juneib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+juneib[htlct-1];
					}
					var juneibamount = this.value;
					if(juneibamount=="" || juneibamount==undefined)
					{
						juneibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var juneibapprox = parseFloat(juneibamount) * 100;
					var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(juneibamount) + parseFloat(mayibval) + parseFloat(aprilibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(juneibamount);
							juneibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2516'+ibid+'"]').val(juneibamount);
							var monthpercent = parseFloat(juneibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibamount) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2528"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var julyibid = $(this).prop('name');
					var julyib = julyibid.split("_");
					var htlct = julyib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+julyib[htlct-1];
					}
					var julyibpercent = this.value;
					if(julyibpercent=="" || julyibpercent==undefined)
					{
						julyibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var julyibapprox = parseFloat(julyibpercent) * parseFloat(monthamount);
					var julyibamount = (parseFloat(julyibapprox) / 100).toFixed(2);
					$('input[name="cf_2532'+ibid+'"]').val(julyibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();

					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(julyibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(aprilibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(julyibamount);
							julyibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2532'+ibid+'"]').val(julyibamount);
							var monthpercent = parseFloat(julyibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2532"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var julyibid = $(this).prop('name');
					var julyib = julyibid.split("_");
					var htlct = julyib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+julyib[htlct-1];
					}
					var julyibamount = this.value;
					if(julyibamount=="" || julyibamount==undefined)
					{
						julyibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var julyibapprox = parseFloat(julyibamount) * 100;
					var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(julyibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(aprilibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(julyibamount);
							julyibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2532'+ibid+'"]').val(julyibamount);
							var monthpercent = parseFloat(julyibamount) * 100;
							var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibamount) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2540"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var augustibid = $(this).prop('name');
					var augustib = augustibid.split("_");
					var htlct = augustib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+augustib[htlct-1];
					}
					var augustibpercent = this.value;
					if(augustibpercent=="" || augustibpercent==undefined)
					{
						augustibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var augustibapprox = parseFloat(augustibpercent) * parseFloat(monthamount);
					var augustibamount = (parseFloat(augustibapprox) / 100).toFixed(2);
					$('input[name="cf_2544'+ibid+'"]').val(augustibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(augustibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(aprilibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(augustibamount);
							augustibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2544'+ibid+'"]').val(augustibamount);
							var monthpercent = parseFloat(augustibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2544"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var augustibid = $(this).prop('name');
					var augustib = augustibid.split("_");
					var htlct = augustib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+augustib[htlct-1];
					}
					var augustibamount = this.value;
					if(augustibamount=="" || augustibamount==undefined)
					{
						augustibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var augustibapprox = parseFloat(augustibamount) * 100;
					var augustibpercent = (parseFloat(augustibapprox) / parseFloat(monthamount));
					$('input[name="cf_2540'+ibid+'"]').val(augustibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(augustibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(aprilibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var totalib = $('input[name="cf_2474'+ibid+'"]').val();
					if(totalib<allibval)
					{
						alert("Total of all months sales budget cannot exceed than Total budgeted sales");
						var allib = parseFloat(allibval) - parseFloat(augustibamount);
						augustibamount = parseFloat(totalib) - parseFloat(allib);
						$('input[name="cf_2544'+ibid+'"]').val(augustibamount);
						var monthpercent = parseFloat(augustibamount) * 100;
						var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFied(2);
						$(this).val(monthpercentage);
					}

					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augustibamount) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2552"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var sepibid = $(this).prop('name');
					var sepib = sepibid.split("_");
					var htlct = sepib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+sepib[htlct-1];
					}
					var sepibpercent = this.value;
					if(sepibpercent=="" || sepibpercent==undefined)
					{
						sepibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var sepibapprox = parseFloat(sepibpercent) * parseFloat(monthamount);
					var sepibamount = (parseFloat(sepibapprox) / 100).toFixed(2);
					$('input[name="cf_2556'+ibid+'"]').val(sepibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(sepibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(aprilibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(sepibamount);
							sepibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2556'+ibid+'"]').val(sepibamount);
							var monthpercent = parseFloat(sepibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2556"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var sepibid = $(this).prop('name');
					var sepib = sepibid.split("_");
					var htlct = sepib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+sepib[htlct-1];
					}
					var sepibamount = this.value;
					if(sepibamount=="" || sepibamount==undefined)
					{
						sepibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var sepibapprox = parseFloat(sepibamount) * 100;
					var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(sepibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(aprilibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(sepibamount);
							sepibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2556'+ibid+'"]').val(sepibamount);
							var monthpercent = parseFloat(sepibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibamount) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2564"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var octibid = $(this).prop('name');
					var octib = octibid.split("_");
					var htlct = octib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+octib[htlct-1];
					}
					var octibpercent = this.value;
					if(octibpercent=="" || octibpercent==undefined)
					{
						octibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var octibapprox = parseFloat(octibpercent) * parseFloat(monthamount);
					var octibamount = (parseFloat(octibapprox) / 100).toFixed(2);
					$('input[name="cf_2568'+ibid+'"]').val(octibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(octibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(aprilibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(octibamount);
							octibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2568'+ibid+'"]').val(octibamount);
							var monthpercent = parseFloat(octibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2568"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var octibid = $(this).prop('name');
					var octib = octibid.split("_");
					var htlct = octib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+octib[htlct-1];
					}
					var octibamount = this.value;
					if(octibamount=="" || octibamount==undefined)
					{
						octibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var octibapprox = parseFloat(octibamount) * 100;
					var octibpercent = (parseFloat(octibapprox) / parseFloat(monthamount));
					$('input[name="cf_2564'+ibid+'"]').val(octibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(octibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(aprilibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var totalib = $('input[name="cf_2474'+ibid+'"]').val();
					if(totalib<allibval)
					{
						alert("Total of all months sales budget cannot exceed than Total budgeted sales");
						var allib = parseFloat(allibval) - parseFloat(octibamount);
						octibamount = parseFloat(totalib) - parseFloat(allib);
						$('input[name="cf_2568'+ibid+'"]').val(octibamount);
						var monthpercent = parseFloat(octibamount) * 100;
						var monthpercentage = parseFloat(monthpercent) / parseFloat(monthamount);
						$(this).val(monthpercentage);
					}
				});
				jQuery(document).on('keyup','[name^="cf_2576"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var novibid = $(this).prop('name');
					var novib = novibid.split("_");
					var htlct = novib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+novib[htlct-1];
					}
					var novibpercent = this.value;
					if(novibpercent=="" || novibpercent==undefined)
					{
						novibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var novibapprox = parseFloat(novibpercent) * parseFloat(monthamount);
					var novibamount = (parseFloat(novibapprox) / 100).toFixed(2);
					$('input[name="cf_2580'+ibid+'"]').val(novibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(novibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(aprilibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(novibamount);
							novibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2580'+ibid+'"]').val(novibamount);
							var monthpercent = parseFloat(novibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2580"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var novibid = $(this).prop('name');
					var novib = novibid.split("_");
					var htlct = novib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+novib[htlct-1];
					}
					var novibamount = this.value;
					if(novibamount=="" || novibamount==undefined)
					{
						novibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var novibapprox = parseFloat(novibamount) * 100;
					var novibpercent = (parseFloat(novibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2576'+ibid+'"]').val(novibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(novibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(aprilibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(novibamount);
							novibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2580'+ibid+'"]').val(novibamount);
							var monthpercent = parseFloat(novibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibamount) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2586"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var decibid = $(this).prop('name');
					var decib = decibid.split("_");
					var htlct = decib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+decib[htlct-1];
					}
					var decibpercent = this.value;
					if(decibpercent=="" || decibpercent==undefined)
					{
						decibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var decibapprox = parseFloat(decibpercent) * parseFloat(monthamount);
					var decibamount = (parseFloat(decibapprox) / 100).toFixed(2);
					$('input[name="cf_2588'+ibid+'"]').val(decibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(decibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(aprilibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(decibamount);
							decibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2588'+ibid+'"]').val(decibamount);
							var monthpercent = parseFloat(decibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2588"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var decibid = $(this).prop('name');
					var decib = decibid.split("_");
					var htlct = decib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+decib[htlct-1];
					}
					var decibamount = this.value;
					if(decibamount=="" || decibamount==undefined)
					{
						decibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var decibapprox = parseFloat(decibamount) * 100;
					var decibpercent = (parseFloat(decibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2586'+ibid+'"]').val(decibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(decibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(aprilibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(marchibval);

					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(decibamount);
							decibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2588'+ibid+'"]').val(decibamount);
							var monthpercent = parseFloat(decibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibamount) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2596"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var janibid = $(this).prop('name');
					var janib = janibid.split("_");
					var htlct = janib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+janib[htlct-1];
					}
					var janibpercent = this.value;
					if(janibpercent=="" || janibpercent==undefined)
					{
						janibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var janibapprox = parseFloat(janibpercent) * parseFloat(monthamount);
					var janibamount = (parseFloat(janibapprox) / 100).toFixed(2);
					$('input[name="cf_2598'+ibid+'"]').val(janibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(janibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(aprilibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(janibamount);
							janibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2598'+ibid+'"]').val(janibamount);
							var monthpercent = parseFloat(janibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2598"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var janibid = $(this).prop('name');
					var janib = janibid.split("_");
					var htlct = janib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+janib[htlct-1];
					}
					var janibamount = this.value;
					if(janibamount=="" || janibamount==undefined)
					{
						janibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var janibapprox = parseFloat(janibamount) * 100;
					var janibpercent = (parseFloat(janibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2596'+ibid+'"]').val(janibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(janibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(aprilibval) + parseFloat(febibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(janibamount);
							janibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2598'+ibid+'"]').val(janibamount);
							var monthpercent = parseFloat(janibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibamount) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2606"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var febibid = $(this).prop('name');
					var febib = febibid.split("_");
					var htlct = febib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+febib[htlct-1];
					}
					var febibpercent = this.value;
					if(febibpercent=="" || febibpercent==undefined)
					{
						febibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var febibapprox = parseFloat(febibpercent) * parseFloat(monthamount);
					var febibamount = (parseFloat(febibapprox) / 100).toFixed(2);
					$('input[name="cf_2608'+ibid+'"]').val(febibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(febibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(aprilibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(febibamount);
							febibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2608'+ibid+'"]').val(febibamount);
							var monthpercent = parseFloat(febibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}

				});
				jQuery(document).on('keyup','[name^="cf_2608"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var febibid = $(this).prop('name');
					var febib = febibid.split("_");
					var htlct = febib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+febib[htlct-1];
					}
					var febibamount = this.value;
					if(febibamount=="" || febibamount==undefined)
					{
						febibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var febibapprox = parseFloat(febibamount) * 100;
					var febibpercent = (parseFloat(febibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2606'+ibid+'"]').val(febibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}

					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var marchibval = $('input[name="cf_2620'+ibid+'"]').val();
					if(marchibval=="" || marchibval==undefined)
					{
						marchibval = 0;
					}
					var allibval = parseFloat(febibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(aprilibval) + parseFloat(marchibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(febibamount);
							febibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2608'+ibid+'"]').val(febibamount);
							var monthpercent = parseFloat(febibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibamount) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibval) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2616"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var marchibid = $(this).prop('name');
					var marchib = marchibid.split("_");
					var htlct = marchib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+marchib[htlct-1];
					}
					var marchibpercent = this.value;
					if(marchibpercent=="" || marchibpercent==undefined)
					{
						marchibpercent = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var marchibapprox = parseFloat(marchibpercent) * parseFloat(monthamount);
					var marchibamount = (parseFloat(marchibapprox) / 100).toFixed(2);
					$('input[name="cf_2620'+ibid+'"]').val(marchibamount);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var allibval = parseFloat(marchibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(aprilibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(marchibamount);
							marchibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2620'+ibid+'"]').val(marchibamount);
							var monthpercent = parseFloat(marchibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2620"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var marchibid = $(this).prop('name');
					var marchib = marchibid.split("_");
					var htlct = marchib.length;
					var ibid = '';
					if(htlct==2){
					ibid = '';
					}else if(htlct==3){
					ibid = "_"+marchib[htlct-1];
					}
					var marchibamount = this.value;
					if(marchibamount=="" || marchibamount==undefined)
					{
						marchibamount = 0;
					}
					var monthamount = $('input[name="cf_2480'+ibid+'"]').val();
					var marchibapprox = parseFloat(marchibamount) * 100;
					var marchibpercent = (parseFloat(marchibapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2616'+ibid+'"]').val(marchibpercent);
					var mayibval = $('input[name="cf_2504'+ibid+'"]').val();
					if(mayibval=="" || mayibval==undefined)
					{
						mayibval = 0;
					}
					var juneibval = $('input[name="cf_2516'+ibid+'"]').val();
					if(juneibval=="" || juneibval==undefined)
					{
						juneibval = 0;
					}
					var julyibval = $('input[name="cf_2532'+ibid+'"]').val();
					if(julyibval=="" || julyibval==undefined)
					{
						julyibval = 0;
					}
					var augibval = $('input[name="cf_2544'+ibid+'"]').val();
					if(augibval=="" || augibval==undefined)
					{
						augibval = 0;
					}
					var sepibval = $('input[name="cf_2556'+ibid+'"]').val();
					if(sepibval=="" || sepibval==undefined)
					{
						sepibval = 0;
					}
					var octibval = $('input[name="cf_2568'+ibid+'"]').val();
					if(octibval=="" || octibval==undefined)
					{
						octibval = 0;
					}
					var novibval = $('input[name="cf_2580'+ibid+'"]').val();
					if(novibval=="" || novibval==undefined)
					{
						novibval = 0;
					}
					var decibval = $('input[name="cf_2588'+ibid+'"]').val();
					if(decibval=="" || decibval==undefined)
					{
						decibval = 0;
					}
					var janibval = $('input[name="cf_2598'+ibid+'"]').val();
					if(janibval=="" || janibval==undefined)
					{
						janibval = 0;
					}
					var febibval = $('input[name="cf_2608'+ibid+'"]').val();
					if(febibval=="" || febibval==undefined)
					{
						febibval = 0;
					}
					var aprilibval = $('input[name="cf_2490'+ibid+'"]').val();
					if(aprilibval=="" || aprilibval==undefined)
					{
						aprilibval = 0;
					}
					var allibval = parseFloat(marchibamount) + parseFloat(mayibval) + parseFloat(juneibval) + parseFloat(julyibval) + parseFloat(augibval) + parseFloat(sepibval) + parseFloat(octibval) + parseFloat(novibval) + parseFloat(decibval) + parseFloat(janibval) + parseFloat(febibval) + parseFloat(aprilibval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totalib = $('input[name="cf_2474'+ibid+'"]').val();
						if(totalib<allibval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var allib = parseFloat(allibval) - parseFloat(marchibamount);
							marchibamount = parseFloat(totalib) - parseFloat(allib);
							$('input[name="cf_2620'+ibid+'"]').val(marchibamount);
							var monthpercent = parseFloat(marchibamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2474'+ibid+'"]').val(allibval);
						var monthbudget = (parseFloat(allibval)/12).toFixed(2);
						$('input[name="cf_2480'+ibid+'"]').val(monthbudget);

						var aprilibapprox = parseFloat(aprilibval) * 100;
						var aprilibpercent = (parseFloat(aprilibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2484'+ibid+'"]').val(aprilibpercent);

						var mayibapprox = parseFloat(mayibval) * 100;
						var mayibpercent = (parseFloat(mayibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2500'+ibid+'"]').val(mayibpercent);

						var juneibapprox = parseFloat(juneibval) * 100;
						var juneibpercent = (parseFloat(juneibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2512'+ibid+'"]').val(juneibpercent);

						var julyibapprox = parseFloat(julyibval) * 100;
						var julyibpercent = (parseFloat(julyibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2528'+ibid+'"]').val(julyibpercent);

						var augibapprox = parseFloat(augibval) * 100;
						var augibpercent = (parseFloat(augibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2540'+ibid+'"]').val(augibpercent);

						var sepibapprox = parseFloat(sepibval) * 100;
						var sepibpercent = (parseFloat(sepibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2552'+ibid+'"]').val(sepibpercent);

						var octibapprox = parseFloat(octibval) * 100;
						var octibpercent = (parseFloat(octibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2564'+ibid+'"]').val(octibpercent);

						var novibapprox = parseFloat(novibval) * 100;
						var novibpercent = (parseFloat(novibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2576'+ibid+'"]').val(novibpercent);

						var decibapprox = parseFloat(decibval) * 100;
						var decibpercent = (parseFloat(decibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2586'+ibid+'"]').val(decibpercent);

						var janibapprox = parseFloat(janibval) * 100;
						var janibpercent = (parseFloat(janibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2596'+ibid+'"]').val(janibpercent);

						var febibapprox = parseFloat(febibval) * 100;
						var febibpercent = (parseFloat(febibapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2606'+ibid+'"]').val(febibpercent);

						var maribapprox = parseFloat(marchibamount) * 100;
						var maribpercent = (parseFloat(maribapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2616'+ibid+'"]').val(maribpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2610"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var aprilerid = $(this).prop('name');
					var apriler = aprilerid.split("_");
					var htlct = apriler.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+apriler[htlct-1];
					}
					var aprilerpercent = this.value;
					if(aprilerpercent=="" || aprilerpercent==undefined)
					{
						aprilerpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var aprilerapprox = parseFloat(aprilerpercent) * parseFloat(monthamount);
					var aprileramount = (parseFloat(aprilerapprox) / 100).toFixed(2);
					$('input[name="cf_2614'+erid+'"]').val(aprileramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(aprileramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(aprileramount);
							aprileramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2614'+erid+'"]').val(aprileramount);
							var monthpercent = parseFloat(aprileramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2614"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var aprilerid = $(this).prop('name');
					var apriler = aprilerid.split("_");
					var htlct = apriler.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+apriler[htlct-1];
					}
					var aprileramount = this.value;
					if(aprileramount=="" || aprileramount==undefined)
					{
						aprileramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var aprilerapprox = parseFloat(aprileramount) * 100;
					var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(aprileramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(aprileramount);
							aprileramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2614'+erid+'"]').val(aprileramount);
							var monthpercent = parseFloat(aprileramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprileramount) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2624"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var mayerid = $(this).prop('name');
					var mayer = mayerid.split("_");
					var htlct = mayer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+mayer[htlct-1];
					}
					var mayerpercent = this.value;
					if(mayerpercent=="" || mayerpercent==undefined)
					{
						mayerpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var mayerapprox = parseFloat(mayerpercent) * parseFloat(monthamount);
					var mayeramount = (parseFloat(mayerapprox) / 100).toFixed(2);
					$('input[name="cf_2626'+erid+'"]').val(mayeramount);
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(mayeramount) + parseFloat(aprilerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(mayeramount);
							mayeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2626'+erid+'"]').val(mayeramount);
							var monthpercent = parseFloat(mayeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2626"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var mayerid = $(this).prop('name');
					var mayer = mayerid.split("_");
					var htlct = mayer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+mayer[htlct-1];
					}
					var mayeramount = this.value;
					if(mayeramount=="" || mayeramount==undefined)
					{
						mayeramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var mayerapprox = parseFloat(mayeramount) * 100;
					var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2624'+erid+'"]').val(mayerpercent);
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(mayeramount) + parseFloat(aprilerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(mayeramount);
							mayeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2626'+erid+'"]').val(mayeramount);
							var monthpercent = parseFloat(mayeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayeramount) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2630"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var juneerid = $(this).prop('name');
					var juneer = juneerid.split("_");
					var htlct = juneer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+juneer[htlct-1];
					}
					var juneerpercent = this.value;
					if(juneerpercent=="" || juneerpercent==undefined)
					{
						juneerpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var juneerapprox = parseFloat(juneerpercent) * parseFloat(monthamount);
					var juneeramount = (parseFloat(juneerapprox) / 100).toFixed(2);
					$('input[name="cf_2632'+erid+'"]').val(juneeramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(juneeramount) + parseFloat(mayerval) + parseFloat(aprilerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(juneeramount);
							juneeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2632'+erid+'"]').val(juneeramount);
							var monthpercent = parseFloat(juneeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2632"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var juneerid = $(this).prop('name');
					var juneer = juneerid.split("_");
					var htlct = juneer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+juneer[htlct-1];
					}
					var juneeramount = this.value;
					if(juneeramount=="" || juneeramount==undefined)
					{
						juneeramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var juneerapprox = parseFloat(juneeramount) * 100;
					var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2630'+erid+'"]').val(juneerpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(juneeramount) + parseFloat(mayerval) + parseFloat(aprilerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(juneeramount);
							juneeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2632'+erid+'"]').val(juneeramount);
							var monthpercent = parseFloat(juneeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneeramount) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2636"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var julyerid = $(this).prop('name');
					var julyer = julyerid.split("_");
					var htlct = julyer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+julyer[htlct-1];
					}
					var julyerpercent = this.value;
					if(julyerpercent=="" || julyerpercent==undefined)
					{
						julyerpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var julyerapprox = parseFloat(julyerpercent) * parseFloat(monthamount);
					var julyeramount = (parseFloat(julyerapprox) / 100).toFixed(2);
					$('input[name="cf_2638'+erid+'"]').val(julyeramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(julyeramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(aprilerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(julyeramount);
							julyeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2638'+erid+'"]').val(julyeramount);
							var monthpercent = parseFloat(julyeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2638"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var julyerid = $(this).prop('name');
					var julyer = julyerid.split("_");
					var htlct = julyer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+julyer[htlct-1];
					}
					var julyeramount = this.value;
					if(julyeramount=="" || julyeramount==undefined)
					{
						julyeramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var julyerapprox = parseFloat(julyeramount) * 100;
					var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2636'+erid+'"]').val(julyerpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(julyeramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(aprilerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(julyeramount);
							julyeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2638'+erid+'"]').val(julyeramount);
							var monthpercent = parseFloat(julyeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyeramount) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2642"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var augusterid = $(this).prop('name');
					var auguster = augusterid.split("_");
					var htlct = auguster.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+auguster[htlct-1];
					}
					var augusterpercent = this.value;
					if(augusterpercent=="" || augusterpercent==undefined)
					{
						augusterpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var augusterapprox = parseFloat(augusterpercent) * parseFloat(monthamount);
					var augusteramount = (parseFloat(augusterapprox) / 100).toFixed(2);
					$('input[name="cf_2644'+erid+'"]').val(augusteramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(augusteramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(aprilerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(augusteramount);
							augusteramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2644'+erid+'"]').val(augusteramount);
							var monthpercent = parseFloat(augusteramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2644"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var augusterid = $(this).prop('name');
					var auguster = augusterid.split("_");
					var htlct = auguster.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+auguster[htlct-1];
					}
					var augusteramount = this.value;
					if(augusteramount=="" || augusteramount==undefined)
					{
						augusteramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var augusterapprox = parseFloat(augusteramount) * 100;
					var augusterpercent = (parseFloat(augusterapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2642'+erid+'"]').val(augusterpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(augusteramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(aprilerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(augusteramount);
							augusteramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2644'+erid+'"]').val(augusteramount);
							var monthpercent = parseFloat(augusteramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augusteramount) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2648"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var seperid = $(this).prop('name');
					var seper = seperid.split("_");
					var htlct = seper.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+seper[htlct-1];
					}
					var seperpercent = this.value;
					if(seperpercent=="" || seperpercent==undefined)
					{
						seperpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var seperapprox = parseFloat(seperpercent) * parseFloat(monthamount);
					var seperamount = (parseFloat(seperapprox) / 100).toFixed(2);
					$('input[name="cf_2650'+erid+'"]').val(seperamount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(seperamount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(aprilerval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(seperamount);
							seperamount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2650'+erid+'"]').val(seperamount);
							var monthpercent = parseFloat(seperamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2400'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augusterval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2650"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var seperid = $(this).prop('name');
					var seper = seperid.split("_");
					var htlct = seper.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+seper[htlct-1];
					}
					var seperamount = this.value;
					if(seperamount=="" || seperamount==undefined)
					{
						seperamount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var seperapprox = parseFloat(seperamount) *100;
					var seperpercent = (parseFloat(seperapprox) /  parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2648'+erid+'"]').val(seperpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(seperamount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(aprilerval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(seperamount);
							seperamount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2650'+erid+'"]').val(seperamount);
							var monthpercent = parseFloat(seperamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augusterval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperamount) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2654"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var octerid = $(this).prop('name');
					var octer = octerid.split("_");
					var htlct = octer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+octer[htlct-1];
					}
					var octerpercent = this.value;
					if(octerpercent=="" || octerpercent==undefined)
					{
						octerpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var octerapprox = parseFloat(octerpercent) * parseFloat(monthamount);
					var octeramount = (parseFloat(octerapprox) / 100).toFixed(2);
					$('input[name="cf_2656'+erid+'"]').val(octeramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(octeramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(aprilerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(octeramount);
							octeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2656'+erid+'"]').val(octeramount);
							var monthpercent = parseFloat(octeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2656"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var octerid = $(this).prop('name');
					var octer = octerid.split("_");
					var htlct = octer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+octer[htlct-1];
					}
					var octeramount = this.value;
					if(octeramount=="" || octeramount==undefined)
					{
						octeramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var octerapprox = parseFloat(octeramount) * 100;
					var octerpercent = (parseFloat(octerapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2654'+erid+'"]').val(octerpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(octeramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(aprilerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(octeramount);
							octeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2656'+erid+'"]').val(octeramount);
							var monthpercent = parseFloat(octeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octeramount) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2660"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var noverid = $(this).prop('name');
					var nover = noverid.split("_");
					var htlct = nover.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+nover[htlct-1];
					}
					var noverpercent = this.value;
					if(noverpercent=="" || noverpercent==undefined)
					{
						noverpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var noverapprox = parseFloat(noverpercent) * parseFloat(monthamount);
					var noveramount = (parseFloat(noverapprox) / 100).toFixed(2);
					$('input[name="cf_2662'+erid+'"]').val(noveramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(noveramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(aprilerval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(noveramount);
							noveramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2662'+erid+'"]').val(noveramount);
							var monthpercent = parseFloat(noveramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2662"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var noverid = $(this).prop('name');
					var nover = noverid.split("_");
					var htlct = nover.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+nover[htlct-1];
					}
					var noveramount = this.value;
					if(noveramount=="" || noveramount==undefined)
					{
						noveramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var noverapprox = parseFloat(noveramount) * 100;
					var noverpercent = (parseFloat(noverapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2660'+erid+'"]').val(noverpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(noveramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(aprilerval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(noveramount);
							noveramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2662'+erid+'"]').val(noveramount);
							var monthpercent = parseFloat(noveramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noveramount) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2666"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var decerid = $(this).prop('name');
					var decer = decerid.split("_");
					var htlct = decer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+decer[htlct-1];
					}
					var decerpercent = this.value;
					if(decerpercent=="" || decerpercent==undefined)
					{
						decerpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var decerapprox = parseFloat(decerpercent) * parseFloat(monthamount);
					var deceramount = (parseFloat(decerapprox) / 100).toFixed(2);
					$('input[name="cf_2668'+erid+'"]').val(deceramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(deceramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(aprilerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(deceramount);
							deceramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2668'+erid+'"]').val(deceramount);
							var monthpercent = parseFloat(deceramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2668"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var decerid = $(this).prop('name');
					var decer = decerid.split("_");
					var htlct = decer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+decer[htlct-1];
					}
					var deceramount = this.value;
					if(deceramount=="" || deceramount==undefined)
					{
						deceramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var decerapprox = parseFloat(deceramount) * 100;
					var decerpercent = (parseFloat(decerapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2666'+erid+'"]').val(decerpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(deceramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(aprilerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(deceramount);
							deceramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2668'+erid+'"]').val(deceramount);
							var monthpercent = parseFloat(deceramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(deceramount) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2672"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var janerid = $(this).prop('name');
					var janer = janerid.split("_");
					var htlct = janer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+janer[htlct-1];
					}
					var janerpercent = this.value;
					if(janerpercent=="" || janerpercent==undefined)
					{
						janerpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var janerapprox = parseFloat(janerpercent) * parseFloat(monthamount);
					var janeramount = (parseFloat(janerapprox) / 100).toFixed(2);
					$('input[name="cf_2674'+erid+'"]').val(janeramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(janeramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(aprilerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(janeramount);
							janeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2674'+erid+'"]').val(janeramount);
							var monthpercent = parseFloat(janeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2674"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var janerid = $(this).prop('name');
					var janer = janerid.split("_");
					var htlct = janer.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+janer[htlct-1];
					}
					var janeramount = this.value;
					if(janeramount=="" || janeramount==undefined)
					{
						janeramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var janerapprox = parseFloat(janeramount) * 100;
					var janerpercent = (parseFloat(janerapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2672'+erid+'"]').val(janerpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(janeramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(aprilerval) + parseFloat(feberval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(janeramount);
							janeramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2674'+erid+'"]').val(janeramount);
							var monthpercent = parseFloat(janeramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janeramount) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2678"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var feberid = $(this).prop('name');
					var feber = feberid.split("_");
					var htlct = feber.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+feber[htlct-1];
					}
					var feberpercent = this.value;
					if(feberpercent=="" || feberpercent==undefined)
					{
						feberpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var feberapprox = parseFloat(feberpercent) * parseFloat(monthamount);
					var feberamount = (parseFloat(feberapprox) / 100).toFixed(2);
					$('input[name="cf_2680'+erid+'"]').val(feberamount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(feberamount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(aprilerval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(feberamount);
							feberamount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2680'+erid+'"]').val(feberamount);
							var monthpercent = parseFloat(feberamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2680"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var feberid = $(this).prop('name');
					var feber = feberid.split("_");
					var htlct = feber.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+feber[htlct-1];
					}
					var feberamount = this.value;
					if(feberamount=="" || feberamount==undefined)
					{
						feberamount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var feberapprox = parseFloat(feberamount) * 100;
					var feberpercent = (parseFloat(feberapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2678'+erid+'"]').val(feberpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var marcherval = $('input[name="cf_2686'+erid+'"]').val();
					if(marcherval=="" || marcherval==undefined)
					{
						marcherval = 0;
					}
					var allerval = parseFloat(feberamount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(aprilerval) + parseFloat(marcherval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(feberamount);
							feberamount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2680'+erid+'"]').val(feberamount);
							var monthpercent = parseFloat(feberamount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberamount) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcherval) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2684"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var marcherid = $(this).prop('name');
					var marcher = marcherid.split("_");
					var htlct = marcher.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+marcher[htlct-1];
					}
					var marcherpercent = this.value;
					if(marcherpercent=="" || marcherpercent==undefined)
					{
						marcherpercent = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var marcherapprox = parseFloat(marcherpercent) * parseFloat(monthamount);
					var marcheramount = (parseFloat(marcherapprox) / 100).toFixed(2);
					$('input[name="cf_2686'+erid+'"]').val(marcheramount);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var allerval = parseFloat(marcheramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(aprilerval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(marcheramount);
							marcheramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2686'+erid+'"]').val(marcheramount);
							var monthpercent = parseFloat(marcheramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

					}
				});
				jQuery(document).on('keyup','[name^="cf_2686"]', function(e) {
					jQuery('.saveButton').removeAttr("disabled");
					var marcherid = $(this).prop('name');
					var marcher = marcherid.split("_");
					var htlct = marcher.length;
					var erid = '';
					if(htlct==2){
					erid = '';
					}else if(htlct==3){
					erid = "_"+marcher[htlct-1];
					}
					var marcheramount = this.value;
					if(marcheramount=="" || marcheramount==undefined)
					{
						marcheramount = 0;
					}
					var monthamount = $('input[name="cf_2604'+erid+'"]').val();
					var marcherapprox = parseFloat(marcheramount) * 100;
					var marcherpercent = (parseFloat(marcherapprox) / parseFloat(monthamount)).toFixed(2);
					$('input[name="cf_2684'+erid+'"]').val(marcherpercent);
					var mayerval = $('input[name="cf_2626'+erid+'"]').val();
					if(mayerval=="" || mayerval==undefined)
					{
						mayerval = 0;
					}
					var juneerval = $('input[name="cf_2632'+erid+'"]').val();
					if(juneerval=="" || juneerval==undefined)
					{
						juneerval = 0;
					}
					var julyerval = $('input[name="cf_2638'+erid+'"]').val();
					if(julyerval=="" || julyerval==undefined)
					{
						julyerval = 0;
					}
					var augerval = $('input[name="cf_2644'+erid+'"]').val();
					if(augerval=="" || augerval==undefined)
					{
						augerval = 0;
					}
					var seperval = $('input[name="cf_2650'+erid+'"]').val();
					if(seperval=="" || seperval==undefined)
					{
						seperval = 0;
					}
					var octerval = $('input[name="cf_2656'+erid+'"]').val();
					if(octerval=="" || octerval==undefined)
					{
						octerval = 0;
					}
					var noverval = $('input[name="cf_2662'+erid+'"]').val();
					if(noverval=="" || noverval==undefined)
					{
						noverval = 0;
					}
					var decerval = $('input[name="cf_2668'+erid+'"]').val();
					if(decerval=="" || decerval==undefined)
					{
						decerval = 0;
					}
					var janerval = $('input[name="cf_2674'+erid+'"]').val();
					if(janerval=="" || janerval==undefined)
					{
						janerval = 0;
					}
					var feberval = $('input[name="cf_2680'+erid+'"]').val();
					if(feberval=="" || feberval==undefined)
					{
						feberval = 0;
					}
					var aprilerval = $('input[name="cf_2614'+erid+'"]').val();
					if(aprilerval=="" || aprilerval==undefined)
					{
						aprilerval = 0;
					}
					var allerval = parseFloat(marcheramount) + parseFloat(mayerval) + parseFloat(juneerval) + parseFloat(julyerval) + parseFloat(augerval) + parseFloat(seperval) + parseFloat(octerval) + parseFloat(noverval) + parseFloat(decerval) + parseFloat(janerval) + parseFloat(feberval) + parseFloat(aprilerval);
					var type = $('select[name="cf_3495"]').val();
					if(type=="Fresh")
					{
						var totaler = $('input[name="cf_2600'+erid+'"]').val();
						if(totaler<allerval)
						{
							alert("Total of all months sales budget cannot exceed than Total budgeted sales");
							var aller = parseFloat(allerval) - parseFloat(marcheramount);
							marcheramount = parseFloat(totaler) - parseFloat(aller);
							$('input[name="cf_2686'+erid+'"]').val(marcheramount);
							var monthpercent = parseFloat(marcheramount) * 100;
							var monthpercentage = (parseFloat(monthpercent) / parseFloat(monthamount)).toFixed(2);
							$(this).val(monthpercentage);
						}
					}
					else
					{
						$('input[name="cf_2600'+erid+'"]').val(allerval);
						var monthbudget = (parseFloat(allerval)/12).toFixed(2);
						$('input[name="cf_2604'+erid+'"]').val(monthbudget);

						var aprilerapprox = parseFloat(aprilerval) * 100;
						var aprilerpercent = (parseFloat(aprilerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2610'+erid+'"]').val(aprilerpercent);

						var mayerapprox = parseFloat(mayerval) * 100;
						var mayerpercent = (parseFloat(mayerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2624'+erid+'"]').val(mayerpercent);

						var juneerapprox = parseFloat(juneerval) * 100;
						var juneerpercent = (parseFloat(juneerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2630'+erid+'"]').val(juneerpercent);

						var julyerapprox = parseFloat(julyerval) * 100;
						var julyerpercent = (parseFloat(julyerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2636'+erid+'"]').val(julyerpercent);

						var augerapprox = parseFloat(augerval) * 100;
						var augerpercent = (parseFloat(augerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2642'+erid+'"]').val(augerpercent);

						var seperapprox = parseFloat(seperval) * 100;
						var seperpercent = (parseFloat(seperapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2648'+erid+'"]').val(seperpercent);

						var octerapprox = parseFloat(octerval) * 100;
						var octerpercent = (parseFloat(octerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2654'+erid+'"]').val(octerpercent);

						var noverapprox = parseFloat(noverval) * 100;
						var noverpercent = (parseFloat(noverapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2660'+erid+'"]').val(noverpercent);

						var decerapprox = parseFloat(decerval) * 100;
						var decerpercent = (parseFloat(decerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2666'+erid+'"]').val(decerpercent);

						var janerapprox = parseFloat(janerval) * 100;
						var janerpercent = (parseFloat(janerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2672'+erid+'"]').val(janerpercent);

						var feberapprox = parseFloat(feberval) * 100;
						var feberpercent = (parseFloat(feberapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2678'+erid+'"]').val(feberpercent);

						var marerapprox = parseFloat(marcheramount) * 100;
						var marerpercent = (parseFloat(marerapprox) / parseFloat(monthbudget)).toFixed(2);
						$('input[name="cf_2684'+erid+'"]').val(marerpercent);

					}
				});*/
	}
	if(sourceModule=="Assembly" && view=='Edit')
	{
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4633"]').select2().select2('readonly',true);
			$('[name="cf_4635"]').select2().select2('readonly',true);
			$('[name="cf_5144"]').datepicker("remove");
			$('[name="cf_5144"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4635"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4633"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_5144"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster837_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster837_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster837_id_display"]').attr('readonly',true);
							$('#Assembly_editView_fieldName_cf_nrl_plantmaster837_id_select').parent().remove();
							var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_5144"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_5144"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_5144"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_5144"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
					jQuery(document).on('change','[name="cf_4635"]', function(e) {
					var yr = $('select[name="cf_4633"]').val();
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $(this).val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('[name="cf_nrl_plantmaster837_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_5144"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_5144"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_5144"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_5144"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
					});
					jQuery(document).on('change','[name="cf_4633"]', function(e) {
					var yr = $(this).val();
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('[name="cf_nrl_plantmaster837_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_5144"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_5144"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_5144"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_5144"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
					});
	}
	if(sourceModule=="AssemblyOrder" && view=='Edit')
	{
		$('select[name="cf_4933"]').attr('readonly',true);
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4633"]').select2().select2('readonly',true);
			$('[name="cf_4635"]').select2().select2('readonly',true);
			$('[name="cf_5112"]').datepicker("remove");
			$('[name="cf_5112"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4635"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4633"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_5112"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster360_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster360_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster360_id_display"]').attr('readonly',true);
							$('#AssemblyOrder_editView_fieldName_cf_nrl_plantmaster360_id_select').parent().remove();
							var yr = $('select[name="cf_4633"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_5112"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_5112"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_5112"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_5112"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		jQuery(document).on('change','[name="cf_4635"]', function(e) {
					var yr = $('select[name="cf_4633"]').val();
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $(this).val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster360_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_5112"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_5112"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_5112"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_5112"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
					});
					jQuery(document).on('change','[name="cf_4633"]', function(e) {
					var yr = $(this).val();
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4635"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster360_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_5112"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_5112"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_5112"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_5112"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
					});
	}
	if(sourceModule=="PurchaseReturnOrder" && view=='Edit')
	{
		$('select[name="cf_4832"]').attr('readonly',true);
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4623"]').select2().select2('readonly',true);
			$('[name="cf_4625"]').select2().select2('readonly',true);
			$('[name="cf_3372"]').datepicker("remove");
			$('[name="cf_3372"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4625"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4623"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_3372"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster447_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster447_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster447_id_display"]').attr('readonly',true);
							$('#PurchaseReturnOrder_editView_fieldName_cf_nrl_plantmaster447_id_select').parent().remove();
							$('#PurchaseReturnOrder_editView_fieldName_cf_nrl_plantmaster447_id_create').parent().remove();
							var yr = $('select[name="cf_4623"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4625"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3372"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3372"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3372"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3372"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
				jQuery(document).on('change','[name^=cf_4623]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4625"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster447_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3372"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3372"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3372"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3372"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4625]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4623"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster447_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3372"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3372"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3372"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3372"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	}
  if(sourceModule=="SalesReturn" && view=='Edit')
	{
		$('select[name="cf_4819"]').attr('readonly',true);
		if(recordid != "" && recordid != undefined)
		{
			$('[name="cf_4623"]').select2().select2('readonly',true);
			$('[name="cf_4625"]').select2().select2('readonly',true);
			$('[name="cf_4817"]').datepicker("remove");
			$('[name="cf_4817"]').attr("readonly",true);
		}
		if(recordid == "" || recordid == undefined)
		{
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	$('select[name="cf_4625"]').select2('data', { id: month, text: month});
					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	$('select[name="cf_4623"]').select2('data', { id: year, text: year});
	var curday = d.getDate();
	var postingdate = ((''+curday).length<2 ? '0' : '') + curday + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + d.getFullYear();
	$('input[name="cf_4817"]').val(postingdate);
		}
		$.ajax(
                    {
                    type:"post",
                    url: "shirshaAjax.php",
					data: {action: 'getPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
						if(response.plantid != null)
						{
							$('input[name="cf_nrl_plantmaster177_id"]').val(response.plantid);
							$('input[name="cf_nrl_plantmaster177_id_display"]').val(response.plantname);
							$('input[name="cf_nrl_plantmaster177_id_display"]').attr('readonly',true);
							$('#SalesReturn_editView_fieldName_cf_nrl_plantmaster177_id_select').parent().remove();
							$('#SalesReturn_editView_fieldName_cf_nrl_plantmaster177_id_create').parent().remove();
							var yr = $('select[name="cf_4623"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4625"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = response.plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4817"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4817"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4817"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4817"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
						}
					}
					});
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		jQuery(document).on('change','[name^=cf_4623]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4625"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster177_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4817"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4817"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4817"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4817"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4625]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4623"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster177_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_4817"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_4817"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_4817"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_4817"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
  	jQuery(document).on('change','[name^="cf_3274"]', function(e) {
    var valuess = $(this).val();
    var ids = $(this).prop('id');
    var idstemp = ids.split('_');
    var idact = idstemp[idstemp.length - 1];
    var unitprice = $('#cf_3276_'+idact).val();
    var newt = parseFloat(unitprice) * parseFloat(valuess);
    $('#cf_3278_'+idact).val(newt);

    var linei = $('#totalRowCount_Line_Item').val();
    var linear = linei.split(",");
    var tamt = 0.00;
    $.each(linear,function(index,value){
    var tot = $('#cf_3278_'+value).val();
    tamt = parseFloat(tamt) + parseFloat(tot);
    });
    $('[name="cf_3266"]').val(tamt);

    });

    jQuery(document).on('click','.deleteLineItemRow', function(e) {
      var linei = $('#totalRowCount_Line_Item').val();
      var linear = linei.split(",");
      var tamt = 0.00;
      $.each(linear,function(index,value){
      var tot = $('#cf_3278_'+value).val();
      tamt = parseFloat(tamt) + parseFloat(tot);
      });
      $('[name="cf_3266"]').val(tamt);
    });

  }

	if(sourceModule=="JourneyPlan")
	{
		setTimeout(
			function()
			{
				$('#tr_clone_add__Actual_Working_Details').attr('disabled',true);
				$('#tr_clone_add__Actual_Bill_Details').attr('disabled',true);
			},1000);
		if(recordid != "" || recordid != undefined)
		{
			$.ajax(
						{
						type:"post",
						url: "shirshaAjax.php",
						data: {moduleName:sourceModule,recordId:recordid, action: 'removeEdit'},
						dataType: 'json',
						success:function(response)
						{
							if(response.ticketstatus == '0')
							{
								alert("Cannot edit this record");
								window.history.back();
							}
						}
						});
		}
		var d = new Date();
	var curmonth = d.getMonth()+1;
	if(curmonth == '1')
	{
		var month = 'January';
	}
	if(curmonth == '2')
	{
		var month = 'February';
	}
	if(curmonth == '3')
	{
		var month = 'March';
	}
	if(curmonth == '4')
	{
		var month = 'April';
	}
	if(curmonth == '5')
	{
		var month = 'May';
	}
	if(curmonth == '6')
	{
		var month = 'June';
	}
	if(curmonth == '7')
	{
		var month = 'July';
	}
	if(curmonth == '8')
	{
		var month = 'August';
	}
	if(curmonth == '9')
	{
		var month = 'September';
	}
	if(curmonth == '10')
	{
		var month = 'October';
	}
	if(curmonth == '11')
	{
		var month = 'November';
	}
	if(curmonth == '12')
	{
		var month = 'December';
	}
	setTimeout(
	function()
	{
		$('select[name="cf_1493"]').select2('data', { id: month, text: month});
	},1000);					
	var curyear = d.getFullYear();
	if(curyear == '2018' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2018 - 2019';
	}
	if(curyear == '2019' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2019 - 2020';
	}
	if(curyear == '2020' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2020 - 2021';
	}
	if(curyear == '2021' && month != 'January' && month !='February' && month != 'March')
	{
		var year = '2021 - 2022';
	}
	if(curyear == '2022' && (month == 'January' || month =='February' || month == 'March'))
	{
		var year = '2021 - 2022';
	}
	setTimeout(
	function()
	{
		$('select[name="cf_1491"]').select2('data', { id: year, text: year});
	},1000);
	var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
			var yr = $('select[name="cf_1491"]').val();
			var y = yr.split(' - ');
			var fstyr = y[0];
			var lstyr = y[1];
			if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
			var month = $('select[name="cf_1493"]').val();
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {year: year,month: month, action: 'getAllDays'},
				dataType: 'json',
				success:function(response)
				{
					var m = response.month;
					var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											firstday = today;
										}
										else
										{
											var firstday = year + "-" + response.month + "-" + "01";
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											firstday = today;
										}
										else
										{
											var firstday = year + "-" + response.month + "-" + "01";
										}
									}
					var endday = year + "-" + response.month + "-" + response.days;
					$('#JourneyPlan_editView_fieldName_cf_1962').prop("min",firstday);
					$('#JourneyPlan_editView_fieldName_cf_1962').prop("max",endday);
				}
				});
	
		jQuery(document).on('change','[name="cf_3590"]', function(e) {
			var reason = $(this).val();
			var time = $('input[name="cf_3592"]').val();
			if(reason == 'Normal' && time == '2')
			{
				alert("Cannot revise more than two times for Normal Reason");
				window.location.reload();
			}
		});
		jQuery(document).on('change','[name="cf_1491"]', function(e) {
			var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
			var yr = this.value;
			var y = yr.split(' - ');
			var fstyr = y[0];
			var lstyr = y[1];
			if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
			var month = $('select[name="cf_1493"]').val();
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {year: year,month: month, action: 'getAllDays'},
				dataType: 'json',
				success:function(response)
				{
					var m = response.month;
					var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											firstday = today;
										}
										else
										{
											var firstday = year + "-" + response.month + "-" + "01";
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											firstday = today;
										}
										else
										{
											var firstday = year + "-" + response.month + "-" + "01";
										}
									}
					var endday = year + "-" + response.month + "-" + response.days;
					$('#JourneyPlan_editView_fieldName_cf_1962').prop("min",firstday);
					$('#JourneyPlan_editView_fieldName_cf_1962').prop("max",endday);
				}
				});

				});
		jQuery(document).on('change','[name="cf_1493"]', function(e) {
			var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
			var month = this.value;
			var yr = $('select[name="cf_1491"]').val();
			var y = yr.split(' - ');
			var fstyr = y[0];
			var lstyr = y[1];
			if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
				$.ajax(
				{
				type:"post",
				url: "shirshaAjax.php",
				data: {year: year,month: month, action: 'getAllDays'},
				dataType: 'json',
				success:function(response)
				{
					var m = response.month;
					var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											firstday = today;
										}
										else
										{
											var firstday = year + "-" + response.month + "-" + "01";
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											firstday = today;
										}
										else
										{
											var firstday = year + "-" + response.month + "-" + "01";
										}
									}
					var endday = year + "-" + response.month + "-" + response.days;
					$('#JourneyPlan_editView_fieldName_cf_1962').prop("min",firstday);
					$('#JourneyPlan_editView_fieldName_cf_1962').prop("max",endday);
				}
			});
		});
		var fullDate = new Date();
		var twoDigitMonth = (fullDate.getMonth()<10)? '0' + (fullDate.getMonth()+1):(fullDate.getMonth()+1);
		var currentDate = fullDate.getDate() + "-" + twoDigitMonth + "-" + fullDate.getFullYear();

	jQuery(document).on('change','[name^="cf_1962"]', function(e) {
		var basictotalrow = $('#totalRowCount_Basic_Details').val();
		var basicarr = basictotalrow.split(",");
		var basicrowcount = basicarr.length;
		if(recordid != "" && recordid != undefined)
		{
			for(var i=1;i<=basicrowcount;i++)
			{
				var date = $('input[name="cf_1962_'+i+'"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate<customdate)
				{
					$('select[name="cf_2106_'+i+'"]').select2().select2('readonly',true);
					$('select[name="cf_2108_'+i+'"]').select2().select2('readonly',true);
					$('input[name="cf_2110_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2112_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2114_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2116_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2118_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2120_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2122_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2126_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2128_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2130_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2132_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2134_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2136_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2138_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2140_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2142_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2144_'+i+'"]').prop('readonly',true);
					$('select[name="cf_2146_'+i+'"]').select2().select2('readonly',true);
					$('input[name="cf_2148_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2150_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2152_'+i+'"]').prop('readonly',true);
					$('textarea[name="cf_2154_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2048_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2050_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2052_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2054_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2058_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2064_'+i+'"]').prop('readonly',true);
				}
			}
		}
		else
		{
			if(basicrowcount == 1)
			{
				var date = $('input[name="cf_1962"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate<customdate)
				{
					$('select[name="cf_2106"]').select2().select2('readonly',true);
					$('select[name="cf_2108"]').select2().select2('readonly',true);
					$('input[name="cf_2110"]').prop('readonly',true);
					$('input[name="cf_2112"]').prop('readonly',true);
					$('input[name="cf_2114"]').prop('readonly',true);
					$('input[name="cf_2116"]').prop('readonly',true);
					$('input[name="cf_2118"]').prop('readonly',true);
					$('input[name="cf_2120"]').prop('readonly',true);
					$('input[name="cf_2122"]').prop('readonly',true);
					$('input[name="cf_2126"]').prop('readonly',true);
					$('input[name="cf_2128"]').prop('readonly',true);
					$('input[name="cf_2130"]').prop('readonly',true);
					$('input[name="cf_2132"]').prop('readonly',true);
					$('input[name="cf_2134"]').prop('readonly',true);
					$('input[name="cf_2136"]').prop('readonly',true);
					$('input[name="cf_2138"]').prop('readonly',true);
					$('input[name="cf_2140"]').prop('readonly',true);
					$('input[name="cf_2142"]').prop('readonly',true);
					$('input[name="cf_2144"]').prop('readonly',true);
					$('select[name="cf_2146"]').select2().select2('readonly',true);
					$('input[name="cf_2148"]').prop('readonly',true);
					$('input[name="cf_2150"]').prop('readonly',true);
					$('input[name="cf_2152"]').prop('readonly',true);
					$('textarea[name="cf_2154"]').prop('readonly',true);
					$('input[name="cf_2048"]').prop('readonly',true);
					$('input[name="cf_2050"]').prop('readonly',true);
					$('input[name="cf_2052"]').prop('readonly',true);
					$('input[name="cf_2054"]').prop('readonly',true);
					$('input[name="cf_2058"]').prop('readonly',true);
					$('input[name="cf_2064"]').prop('readonly',true);
				}
			}
			else
			{
				for(var i=1;i<=basicrowcount;i++)
				{
					var date = $('input[name="cf_1962_'+i+'"]').val();
					var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
					var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
					if(fullDate<customdate)
					{
						$('select[name="cf_2106_'+i+'"]').select2().select2('readonly',true);
					$('select[name="cf_2108_'+i+'"]').select2().select2('readonly',true);
					$('input[name="cf_2110_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2112_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2114_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2116_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2118_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2120_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2122_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2126_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2128_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2130_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2132_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2134_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2136_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2138_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2140_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2142_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2144_'+i+'"]').prop('readonly',true);
					$('select[name="cf_2146_'+i+'"]').select2().select2('readonly',true);
					$('input[name="cf_2148_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2150_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2152_'+i+'"]').prop('readonly',true);
					$('textarea[name="cf_2154_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2048_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2050_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2052_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2054_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2058_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2064_'+i+'"]').prop('readonly',true);
					}
				}
			}
		}
	});
	/*jQuery(document).on('change','[name^="cf_2086"]', function(e) {
		var actualtotalrow = $('#totalRowCount_Actual_Working_Details').val();
		var actualarr = actualtotalrow.split(",");
		var actualrowcount = actualarr.length;
		if(recordid != "" && recordid != undefined)
		{
			for(var j=1;j<=actualrowcount;j++)
			{
				var date = $('input[name="cf_2086_'+j+'"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate<customdate)
				{
					$('input[name="cf_2106_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2108_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2110_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2112_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2114_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2116_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2118_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2120_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2122_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2126_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2128_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2130_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2132_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2134_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2136_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2138_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2140_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2142_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2144_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2146_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2148_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2150_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2152_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2154_'+j+'"]').prop('readonly',true);
				}
			}
		}
		else
		{
			if(actualrowcount == 1)
			{
				var date = $('input[name="cf_2086"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate<customdate)
				{
					$('input[name="cf_2106"]').prop('readonly',true);
					$('input[name="cf_2108"]').prop('readonly',true);
					$('input[name="cf_2110"]').prop('readonly',true);
					$('input[name="cf_2112"]').prop('readonly',true);
					$('input[name="cf_2114"]').prop('readonly',true);
					$('input[name="cf_2116"]').prop('readonly',true);
					$('input[name="cf_2118"]').prop('readonly',true);
					$('input[name="cf_2120"]').prop('readonly',true);
					$('input[name="cf_2122"]').prop('readonly',true);
					$('input[name="cf_2126"]').prop('readonly',true);
					$('input[name="cf_2128"]').prop('readonly',true);
					$('input[name="cf_2130"]').prop('readonly',true);
					$('input[name="cf_2132"]').prop('readonly',true);
					$('input[name="cf_2134"]').prop('readonly',true);
					$('input[name="cf_2136"]').prop('readonly',true);
					$('input[name="cf_2138"]').prop('readonly',true);
					$('input[name="cf_2140"]').prop('readonly',true);
					$('input[name="cf_2142"]').prop('readonly',true);
					$('input[name="cf_2144"]').prop('readonly',true);
					$('input[name="cf_2146"]').prop('readonly',true);
					$('input[name="cf_2148"]').prop('readonly',true);
					$('input[name="cf_2150"]').prop('readonly',true);
					$('input[name="cf_2152"]').prop('readonly',true);
					$('input[name="cf_2154"]').prop('readonly',true);
				}
			}
			else
			{
				for(var j=1;j<=actualrowcount;j++)
				{
					var date = $('input[name="cf_2086_'+j+'"]').val();
					var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
					var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
					if(fullDate<customdate)
					{
						$('input[name="cf_2106_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2108_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2110_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2112_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2114_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2116_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2118_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2120_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2122_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2126_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2128_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2130_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2132_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2134_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2136_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2138_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2140_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2142_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2144_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2146_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2148_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2150_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2152_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2154_'+j+'"]').prop('readonly',true);
					}
				}
			}
		}
	});*/
	jQuery(window).load(function() {
			setTimeout(function(){
		$('select[name="cf_1955"]').select2().select2('readonly',true);
		var type = $('select[name="cf_3588"]').val();
		var basictotalrow = $('#totalRowCount_Basic_Details').val();
		var basicarr = basictotalrow.split(",");
		var basicrowcount = basicarr.length;
		if(recordid != "" && recordid != undefined)
		{
			for(var i=1;i<=basicrowcount;i++)
			{
				var date = $('input[name="cf_1962_'+i+'"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate>customdate)
				{
					$('input[name="cf_1962_'+i+'"]').prop('readonly',true);
					$('.clearReferenceSelection').css('display','none');
					//$('#JourneyPlan_editView_fieldName_cf_nrl_routemaster499_id_select').closest('span').css('display','none');
					//$('#JourneyPlan_editView_fieldName_cf_nrl_routemaster499_id_create').closest('span').css('display','none');
					$('input[name="cf_1988_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2000_'+i+'"]').prop('readonly',true);
					$('select[name="cf_2016_'+i+'"]').select2().select2('readonly',true);
					$('select[name="cf_2024_'+i+'"]').select2().select2('readonly',true);
					$('input[name="cf_2034_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2036_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2038_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2040_'+i+'"]').prop('readonly',true);
					$('select[name="cf_2070_'+i+'[]"]').select2().select2('readonly',true);
					$('input[name="cf_2072_'+i+'"]').prop('readonly',true);
					$('select[name="cf_3130_'+i+'[]"]').select2().select2('readonly',true);
				}
			}
		}
	var actualtotalrow = $('#totalRowCount_Actual_Working_Details').val();
		var actualarr = actualtotalrow.split(",");
		var actualrowcount = actualarr.length;
		if(recordid != "" && recordid != undefined)
		{
			for(var j=1;j<=actualrowcount;j++)
			{
				var date = $('input[name="cf_2086_'+j+'"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate<customdate)
				{
					$('select[name="cf_2106_'+j+'"]').select2().select2('readonly',true);
					$('select[name="cf_2108_'+j+'"]').select2().select2('readonly',true);
					$('input[name="cf_2110_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2112_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2114_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2116_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2118_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2120_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2122_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2126_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2128_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2130_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2132_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2134_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2136_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2138_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2140_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2142_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2144_'+j+'"]').prop('readonly',true);
					$('select[name="cf_2146_'+j+'"]').select2().select2('readonly',true);
					$('input[name="cf_2148_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2150_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2152_'+j+'"]').prop('readonly',true);
					$('textarea[name="cf_2154_'+j+'"]').prop('readonly',true);
				}
				if(fullDate>customdate)
				{
					$('input[name="cf_2086_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2102_'+j+'"]').prop('readonly',true);
					$('select[name="cf_2104_'+j+'[]"]').select2().select2('readonly',true);
					$('textarea[name="cf_3657_'+j+'"]').prop('readonly',true);
					$('select[name="cf_2106_'+j+'"]').select2().select2('readonly',true);
					$('select[name="cf_2108_'+j+'"]').select2().select2('readonly',true);
					$('input[name="cf_2110_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2112_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2114_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2116_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2118_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2120_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2122_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2126_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2128_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2130_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2132_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2134_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2136_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2138_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2140_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2142_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2144_'+j+'"]').prop('readonly',true);
					$('select[name="cf_2146_'+j+'"]').select2().select2('readonly',true);
					$('input[name="cf_2148_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2150_'+j+'"]').prop('readonly',true);
					$('input[name="cf_2152_'+j+'"]').prop('readonly',true);
					$('textarea[name="cf_2154_'+j+'"]').prop('readonly',true);
				}
			}
		}
		else
		{
			if(actualrowcount == 1)
			{
				var date = $('input[name="cf_2086"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate<customdate)
				{
					$('select[name="cf_2106"]').select2().select2('readonly',true);
					$('select[name="cf_2108"]').select2().select2('readonly',true);
					$('input[name="cf_2110"]').prop('readonly',true);
					$('input[name="cf_2112"]').prop('readonly',true);
					$('input[name="cf_2114"]').prop('readonly',true);
					$('input[name="cf_2116"]').prop('readonly',true);
					$('input[name="cf_2118"]').prop('readonly',true);
					$('input[name="cf_2120"]').prop('readonly',true);
					$('input[name="cf_2122"]').prop('readonly',true);
					$('input[name="cf_2126"]').prop('readonly',true);
					$('input[name="cf_2128"]').prop('readonly',true);
					$('input[name="cf_2130"]').prop('readonly',true);
					$('input[name="cf_2132"]').prop('readonly',true);
					$('input[name="cf_2134"]').prop('readonly',true);
					$('input[name="cf_2136"]').prop('readonly',true);
					$('input[name="cf_2138"]').prop('readonly',true);
					$('input[name="cf_2140"]').prop('readonly',true);
					$('input[name="cf_2142"]').prop('readonly',true);
					$('input[name="cf_2144"]').prop('readonly',true);
					$('select[name="cf_2146"]').select2().select2('readonly',true);
					$('input[name="cf_2148"]').prop('readonly',true);
					$('input[name="cf_2150"]').prop('readonly',true);
					$('input[name="cf_2152"]').prop('readonly',true);
					$('textarea[name="cf_2154"]').prop('readonly',true);
				}
			}
			else
			{
				for(var j=1;j<=actualrowcount;j++)
				{
					var date = $('input[name="cf_2086_'+j+'"]').val();
					var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
					var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
					if(fullDate<customdate)
					{
						$('select[name="cf_2106_'+j+'"]').select2().select2('readonly',true);
						$('select[name="cf_2108_'+j+'"]').select2().select2('readonly',true);
						$('input[name="cf_2110_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2112_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2114_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2116_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2118_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2120_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2122_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2126_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2128_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2130_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2132_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2134_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2136_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2138_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2140_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2142_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2144_'+j+'"]').prop('readonly',true);
						$('select[name="cf_2146_'+j+'"]').select2().select2('readonly',true);
						$('input[name="cf_2148_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2150_'+j+'"]').prop('readonly',true);
						$('input[name="cf_2152_'+j+'"]').prop('readonly',true);
						$('textarea[name="cf_2154_'+j+'"]').prop('readonly',true);
					}
				}
			}
		}
		var billtotalrow = $('#totalRowCount_Actual_Bill_Details').val();
		var billarr = billtotalrow.split(",");
		var billrowcount = billarr.length;
		if(recordid != "" && recordid != undefined)
		{
			for(var i=1;i<=billrowcount;i++)
			{
				var date = $('input[name="cf_3597_'+i+'"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate>customdate)
				{
					$('input[name="cf_2046_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2048_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2050_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2052_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2054_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2058_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2064_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3597_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3599_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3601_'+i+'"]').prop('readonly',true);
					$('textarea[name="cf_3603_'+i+'"]').prop('readonly',true);
					$('textarea[name="cf_3605_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3607_'+i+'"]').prop('readonly',true);
				}
				if(fullDate<customdate)
				{
					$('input[name="cf_2046_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2048_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2050_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2052_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2054_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2058_'+i+'"]').prop('readonly',true);
					$('input[name="cf_2064_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3597_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3599_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3601_'+i+'"]').prop('readonly',true);
					$('textarea[name="cf_3603_'+i+'"]').prop('readonly',true);
					$('textarea[name="cf_3605_'+i+'"]').prop('readonly',true);
					$('input[name="cf_3607_'+i+'"]').prop('readonly',true);
				}
			}
		}
		else
		{
			if(billrowcount == 1)
			{
				var date = $('input[name="cf_3597"]').val();
				var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
				var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
				if(fullDate>customdate)
				{
					$('input[name="cf_2046"]').prop('readonly',true);
					$('input[name="cf_2048"]').prop('readonly',true);
					$('input[name="cf_2050"]').prop('readonly',true);
					$('input[name="cf_2052"]').prop('readonly',true);
					$('input[name="cf_2054"]').prop('readonly',true);
					$('input[name="cf_2058"]').prop('readonly',true);
					$('input[name="cf_2064"]').prop('readonly',true);
					$('input[name="cf_3597"]').prop('readonly',true);
					$('input[name="cf_3599"]').prop('readonly',true);
					$('input[name="cf_3601"]').prop('readonly',true);
					$('textarea[name="cf_3603"]').prop('readonly',true);
					$('textarea[name="cf_3605"]').prop('readonly',true);
					$('input[name="cf_3607"]').prop('readonly',true);
				}
			}
			else
			{
				for(var i=1;i<=billrowcount;i++)
				{
					var date = $('input[name="cf_3597_'+i+'"]').val();
					var date = date.split('-')[2]+"-"+date.split('-')[1]+"-"+date.split('-')[0];
					var customdate = new Date(date.split('-')[2],date.split('-')[1]-1,date.split('-')[0]);
					if(fullDate>customdate)
					{
						$('input[name="cf_2046_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2048_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2050_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2052_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2054_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2058_'+i+'"]').prop('readonly',true);
						$('input[name="cf_2064_'+i+'"]').prop('readonly',true);
						$('input[name="cf_3597_'+i+'"]').prop('readonly',true);
						$('input[name="cf_3599_'+i+'"]').prop('readonly',true);
						$('input[name="cf_3601_'+i+'"]').prop('readonly',true);
						$('textarea[name="cf_3603_'+i+'"]').prop('readonly',true);
						$('textarea[name="cf_3605_'+i+'"]').prop('readonly',true);
						$('input[name="cf_3607_'+i+'"]').prop('readonly',true);
					}
				}
			}
		}
	}, 2000);
});
				/*jQuery(document).on('change','[name="cf_3588"]', function(e) {
					var type = $(this).val();
					if(type == 'Revised')
					{
						var date = new Date();
						$('input[name^="cf_1962"]').each(function() {
							var basicDate = $('input[name^="cf_1962"]').val();
							var bDate = new Date(basicDate);
							if(bDate==date)
							{
								alert(bDate);
							}
						});
						$('input[name^="cf_2086"]').each(function() {
							var workingDate = $('input[name^="cf_2086"]').val();
							var wDate = new Date(workingDate);
							if(wDate==date)
							{
								alert(wDate);
							}
						});
						$('input[name^="cf_3597"]').each(function() {
							var billDate = $('input[name^="cf_3597"]').val();
							var blDate = new Date(billDate);
							if(blDate==date)
							{
								alert(blDate);
							}
						});
					}
				});*/

								jQuery(document).on('keyup','[name^="cf_2034"]', function(e) {
								var hotelid = $(this).prop('name');
								var hotel = hotelid.split("_");
								var htlct = hotel.length;
								var hid = '';
								var total = 0;
								if(htlct==2){
								hid = '';
								}else if(htlct==3){
								hid = "_"+hotel[htlct-1];
								}
								var h = this.value;
								if(h=="" || h==undefined)
								{
									h = 0;
								}
								var t = $('input[name="cf_2036'+hid+'"]').val();
								if(t=="" || t==undefined)
								{
									t = 0;
								}
								var f = $('input[name="cf_2038'+hid+'"]').val();
								if(f=="" || f==undefined)
								{
									f = 0;
								}
								total = parseFloat(h) + parseFloat(t) + parseFloat(f);
								$('input[name="cf_2040'+hid+'"]').val(total);
								$('input[name="cf_2040'+hid+'"]').prop('readonly','true');
								});

								jQuery(document).on('keyup','[name^="cf_2036"]', function(e) {
								var hotelid = $(this).prop('name');
								var hotel = hotelid.split("_");
								var htlct = hotel.length;
								var hid = '';
								var total = 0;
								if(htlct==2){
								hid = '';
								}else if(htlct==3){
								hid = "_"+hotel[htlct-1];

								}
								var h = this.value;
								if(h=="" || h==undefined)
								{
									h = 0;
								}
								var t = $('input[name="cf_2034'+hid+'"]').val();
								if(t=="" || t==undefined)
								{
									t = 0;
								}
								var f = $('input[name="cf_2038'+hid+'"]').val();
								if(f=="" || f==undefined)
								{
									f = 0;
								}
								total = parseFloat(h) + parseFloat(t) + parseFloat(f);
								$('input[name="cf_2040'+hid+'"]').val(total);
								$('input[name="cf_2040'+hid+'"]').prop('readonly','true');
								});

								jQuery(document).on('keyup','[name^="cf_2038"]', function(e) {
								var hotelid = $(this).prop('name');
								var hotel = hotelid.split("_");
								var htlct = hotel.length;
								var hid = '';
								var total = 0;
								if(htlct==2){
								hid = '';
								}else if(htlct==3){
								hid = "_"+hotel[htlct-1];
								}
								var h = this.value;
								if(h=="" || h==undefined)
								{
									h = 0;
								}
								var t = $('input[name="cf_2034'+hid+'"]').val();
								if(t=="" || t==undefined)
								{
									t = 0;
								}
								var f = $('input[name="cf_2036'+hid+'"]').val();
								if(f=="" || f==undefined)
								{
									f = 0;
								}
								total = parseFloat(h) + parseFloat(t) + parseFloat(f);
								$('input[name="cf_2040'+hid+'"]').val(total);
								$('input[name="cf_2040'+hid+'"]').prop('readonly','true');
								});

								jQuery(document).on('keyup','[name^="cf_2052"]', function(e) {
								var hotelid = $(this).prop('name');
								var hotel = hotelid.split("_");
								var htlct = hotel.length;
								var hid = '';
								var total = 0;
								if(htlct==2){
								hid = '';
								}else if(htlct==3){
								hid = "_"+hotel[htlct-1];
								}
								var h = this.value;
								if(h=="" || h==undefined)
								{
									h = 0;
								}
								var t = $('input[name="cf_2054'+hid+'"]').val();
								if(t=="" || t==undefined)
								{
									t = 0;
								}
								var f = $('input[name="cf_2058'+hid+'"]').val();
								if(f=="" || f==undefined)
								{
									f = 0;
								}
								total = parseFloat(h) + parseFloat(t) + parseFloat(f);
								$('input[name="cf_2064'+hid+'"]').val(total);
								$('input[name="cf_2064'+hid+'"]').prop('readonly','true');
								});

								jQuery(document).on('keyup','[name^="cf_2054"]', function(e) {
								var hotelid = $(this).prop('name');
								var hotel = hotelid.split("_");
								var htlct = hotel.length;
								var hid = '';
								var total = 0;
								if(htlct==2){
								hid = '';
								}else if(htlct==3){
								hid = "_"+hotel[htlct-1];
								}
								var h = this.value;
								if(h=="" || h==undefined)
								{
									h = 0;
								}
								var t = $('input[name="cf_2052'+hid+'"]').val();
								if(t=="" || t==undefined)
								{
									t = 0;
								}
								var f = $('input[name="cf_2058'+hid+'"]').val();
								if(f=="" || f==undefined)
								{
									f = 0;
								}
								total = parseFloat(h) + parseFloat(t) + parseFloat(f);
								$('input[name="cf_2064'+hid+'"]').val(total);
								$('input[name="cf_2064'+hid+'"]').prop('readonly','true');
								});

								jQuery(document).on('keyup','[name^="cf_2058"]', function(e) {
								var hotelid = $(this).prop('name');
								var hotel = hotelid.split("_");
								var htlct = hotel.length;
								var hid = '';
								var total = 0;
								if(htlct==2){
								hid = '';
								}else if(htlct==3){
								hid = "_"+hotel[htlct-1];
								}
								var h = this.value;
								if(h=="" || h==undefined)
								{
									h = 0;
								}
								var t = $('input[name="cf_2054'+hid+'"]').val();
								if(t=="" || t==undefined)
								{
									t = 0;
								}
								var f = $('input[name="cf_2052'+hid+'"]').val();
								if(f=="" || f==undefined)
								{
									f = 0;
								}
								total = parseFloat(h) + parseFloat(t) + parseFloat(f);
								$('input[name="cf_2064'+hid+'"]').val(total);
								$('input[name="cf_2064'+hid+'"]').prop('readonly','true');
								});

								jQuery(document).on('keyup','[name^="cf_2072"]', function(e) {
								var type = $('select[name="cf_3588"]').val();
								var directmode = $('#directMode_Basic_Details').val();
								var lineitemrow = $('#totalRowCount_Basic_Details').val();
								var count = lineitemrow.split(",");
								var rownum = count.length;
								var chnl = new Array();
								var lead = new Array();
								var dt = new Array();
								var leadno = new Array();
								var route = new Array();
								var routetype = new Array();
								if(rownum == 1 && recordid == undefined && type == 'Fresh')
								{
									chnl[0] = $('[name="cf_2070[]"]').val();
									if(chnl[0] == null || chnl[0] == undefined || chnl[0] == "")
									{
										chnl[0] = "";
									}
									lead[0] = $('[name="cf_3130[]"]').val();
									if(lead[0] == null || lead[0] == undefined || lead[0] == "")
									{
										lead[0] = "";
									}
									dt[0] = $('[name="cf_1962"]').val();
									leadno[0] = $('[name="cf_2072"]').val();
									if(leadno[0] == "" || leadno[0]==undefined)
									{
										leadno[0] = 0;
									}
									$('input[name="cf_3607"]').val(leadno[i]);
									$('input[name="cf_3607"]').prop('readonly','true');

									route[0] = $('[name="cf_nrl_routemaster499_id"]').val();
									if(route[0] == null || route[0] == undefined || route == "")
									{
										route[0] = "";
									}
									routetype[0] = $('[name="cf_1988"]').val();
									if(routetype[0] == null || routetype[0] == undefined || routetype[0] == "")
									{
										routetype[0] = "";
									}
								}
								else
								{
									for(i=0;i<rownum;i++)
									{
										chnl[i] = $('[name="cf_2070_'+count[i]+'[]"]').val();
										if(chnl[i] == null || chnl[i] == undefined || chnl[i] == "")
										{
											chnl[i] = "";
										}
										lead[i] = $('[name="cf_3130_'+count[i]+'[]"]').val();
										if(lead[i] == null || lead[i] == undefined || lead[i] == "")
										{
											lead[i] = "";
										}
										dt[i] = $('[name="cf_1962_'+count[i]+'"]').val();
										leadno[i] = $('[name="cf_2072_'+count[i]+'"]').val();
										if(leadno[i] == "" && leadno[i]==undefined)
										{
											leadno[i] = 0;
										}
										$('input[name="cf_3607_'+count[i]+'"]').val(leadno[i]);
										$('input[name="cf_3607_'+count[i]+'"]').prop('readonly','true');

										route[i] = $('[name="cf_nrl_routemaster499_id_'+count[i]+'"]').val();
										if(route[i] == null || route[i] == undefined || route[i] == "")
										{
											route[i] = "";
										}
										routetype[i] = $('[name="cf_1988_'+count[i]+'"]').val();
										if(routetype[i] == null || routetype[i] == undefined || routetype[i] == "")
										{
											routetype[i] = "";
										}
									}
								}

								var year = $('[name="cf_1491"]').val();
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {chnl: chnl, dt: dt, rownum: rownum, leadno: leadno, lead: lead, year: year, route: route, routetype: routetype, action: 'getAllChannel'},
									dataType: 'json',
									success:function(response)
									{
										$('table#Actual_Working_Details > tbody').html(response.actual);
										$('#totalRowCount_Actual_Working_Details').val(response.rowcount);
										$('table#Actual_Bill_Details > tbody').html(response.tbodyBill);
										$('#totalRowCount_Actual_Bill_Details').val(response.rowcountBill);
										$('#directMode_Actual_Bill_Details').val('1');
									}
									});

								});
								jQuery(document).on('change','[name^="cf_3130"]', function(e) {
								var type = $('select[name="cf_3588"]').val();
								var directmode = $('#directMode_Basic_Details').val();
								var lineitemrow = $('#totalRowCount_Basic_Details').val();
								var count = lineitemrow.split(",");
								var rownum = count.length;
								var chnl = new Array();
								var lead = new Array();
								var dt = new Array();
								var leadno = new Array();
								var route = new Array();
								var routetype = new Array();
								if(rownum == 1 && recordid == undefined && type == 'Fresh')
								{
									chnl[0] = $('[name="cf_2070[]"]').val();
									if(chnl[0] == null || chnl[i] == undefined || chnl[i] == "")
									{
										chnl[0] = "";
									}
									lead[0] = $('[name="cf_3130[]"]').val();
									if(lead[0] == null || lead[0] == undefined || lead[0] == "")
									{
										lead[0] = "";
									}
									$('[name="cf_3605"]').val(lead[i]);
									$('[name="cf_3605"]').prop('readonly','true');
									dt[0] = $('[name="cf_1962"]').val();
									leadno[0] = $('[name="cf_2072"]').val();
									if(leadno[0] == "" || leadno[0]==undefined)
									{
										leadno[0] = 0;
									}
									route[0] = $('[name="cf_nrl_routemaster499_id"]').val();
									if(route[0] == null || route[0] == undefined || route[0] == "")
									{
										route[0] = "";
									}
									routetype[0] = $('[name="cf_1988"]').val();
									if(routetype[0] == null || routetype[0] == undefined || routetype[0] == "")
									{
										routetype[0] = "";
									}
								}
								else
								{
									for(i=0;i<rownum;i++)
									{
										chnl[i] = $('[name="cf_2070_'+count[i]+'[]"]').val();
										if(chnl[i] == null || chnl[i] == undefined || chnl[i] == "")
										{
											chnl[i] = "";
										}
										lead[i] = $('[name="cf_3130_'+count[i]+'[]"]').val();

										if(lead[i] == null || lead[i] == undefined || lead[i] == "")
										{
											lead[i] = "";
										}
										$('[name="cf_3605_'+count[i]+'"]').val(lead[i]);
										$('[name="cf_3605_'+count[i]+'"]').prop('readonly','true');
										dt[i] = $('[name="cf_1962_'+count[i]+'"]').val();
										leadno[i] = $('[name="cf_2072_'+count[i]+'"]').val();
										if(leadno[i] == "" && leadno[i]==undefined)
										{
											leadno[i] = 0;
										}
										route[i] = $('[name="cf_nrl_routemaster499_id_'+count[i]+'"]').val();
										if(route[i] == null || route[i] == undefined || route[i] == "")
										{
											route[i] = "";
										}
										routetype[i] = $('[name="cf_1988_'+count[i]+'"]').val();
										if(routetype[i] == null || routetype[i] == undefined || routetype[i] == "")
										{
											routetype[i] = "";
										}
									}
								}

								var year = $('[name="cf_1491"]').val();
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {chnl: chnl, dt: dt, rownum: rownum, leadno: leadno, lead: lead, year: year, route: route, routetype: routetype, action: 'getAllChannel'},
									dataType: 'json',
									success:function(response)
									{
										$('table#Actual_Working_Details > tbody').html(response.actual);
										$('#totalRowCount_Actual_Working_Details').val(response.rowcount);
										$('table#Actual_Bill_Details > tbody').html(response.tbodyBill);
										$('#totalRowCount_Actual_Bill_Details').val(response.rowcountBill);
										$('#directMode_Actual_Bill_Details').val('1');
									}
									});

								});
								jQuery(document).on('change','[name^="cf_2070"]', function(e) {
								var type = $('select[name="cf_3588"]').val();
								var directmode = $('#directMode_Basic_Details').val();
								var lineitemrow = $('#totalRowCount_Basic_Details').val();
								var count = lineitemrow.split(",");
								var rownum = count.length;
								var chnl = new Array();
								var lead = new Array();
								var dt = new Array();
								var leadno = new Array();
								var route = new Array();
								var routetype = new Array();
								if(rownum == 1 && recordid == undefined && type == 'Fresh')
								{
									chnl[0] = $('[name="cf_2070[]"]').val();
									if(chnl[0] == null || chnl[0] == undefined || chnl[0] == "")
									{
										chnl[0] = "";
									}
									$('[name="cf_3603"]').val(chnl[0]);
									$('[name="cf_3603"]').prop('readonly','true');
									lead[0] = $('[name="cf_3130[]"]').val();
									if(lead[0] == null || lead[0] == undefined || lead[0] == "")
									{
										lead[0] = "";
									}
									dt[0] = $('[name="cf_1962"]').val();
									leadno[0] = $('[name="cf_2072"]').val();
									if(leadno[0] == "" || leadno[0]==undefined)
									{
										leadno[0] = 0;
									}
									route[0] = $('[name="cf_nrl_routemaster499_id"]').val();
									if(route[0] == null || route[0] == undefined || route[0] == "")
									{
										route[0] = "";
									}
									routetype[0] = $('[name="cf_1988"]').val();
									if(routetype[0] == null || routetype[0] == undefined || routetype[0] == "")
									{
										routetype[0] = "";
									}
								}
								else
								{
									for(i=0;i<rownum;i++)
									{
										chnl[i] = $('[name="cf_2070_'+count[i]+'[]"]').val();
										if(chnl[i] == null || chnl[i] == undefined || chnl[i] == "")
										{
											chnl[i] = "";
										}
										$('[name="cf_3603_'+count[i]+'"]').val(chnl[i]);
										$('[name="cf_3603_'+count[i]+'"]').prop('readonly','true');
										lead[i] = $('[name="cf_3130_'+count[i]+'[]"]').val();
										if(lead[i] == null || lead[i] == undefined || lead[i] == "")
										{
											lead[i] = "";
										}
										dt[i] = $('[name="cf_1962_'+count[i]+'"]').val();
										leadno[i] = $('[name="cf_2072_'+count[i]+'"]').val();
										if(leadno[i] == "" && leadno[i]==undefined)
										{
											leadno[i] = 0;
										}
										route[i] = $('[name="cf_nrl_routemaster499_id_'+count[i]+'"]').val();
										if(route[i] == null || route[i] == undefined || route[i] == "")
										{
											route[i] = "";
										}
										routetype[i] = $('[name="cf_1988_'+count[i]+'"]').val();
										if(routetype[i] == null || routetype[i] == undefined || routetype[i] == "")
										{
											routetype[i] = "";
										}
									}
								}


								var year = $('[name="cf_1491"]').val();
								$.ajax(
								{
									type:"post",
									url: "shirshaAjax.php",
									data: {chnl: chnl, dt: dt, rownum: rownum, leadno: leadno, lead: lead, year: year, route: route, routetype: routetype, action: 'getAllChannel'},
									dataType: 'json',
									success:function(response)
									{
										$('table#Actual_Working_Details > tbody').html(response.actual);
										$('#totalRowCount_Actual_Working_Details').val(response.rowcount);
										$('table#Actual_Bill_Details > tbody').html(response.tbodyBill);
										$('#totalRowCount_Actual_Bill_Details').val(response.rowcountBill);
										$('#directMode_Actual_Bill_Details').val('1');
									}
									});

								});


		}

	if(sourceModule=="StockRequisition" && view=='Edit' && plantid!='undefined' && plantid>0 && referenceid!='undefined' && referenceid>0)
	{
$('[name="cf_nrl_plantmaster587_id"]').val('56');
$('[name="cf_nrl_plantmaster587_id_display"]').val('Sankrail-DEPO');

		jQuery(document).on('change','[name^=cf_4597]', function(e) {
		var yr = $(this).val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					var month = $('select[name="cf_4599"]').val();
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster765_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3221"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3221"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3221"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3221"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
	jQuery(document).on('change','[name^=cf_4599]', function(e) {
		var month = $(this).val();
		var yr = $('select[name="cf_4597"]').val();
		var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
					var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
					var curyear = d.getFullYear();
					var y = yr.split(" - ");
					var fstyr = y[0];
					var lstyr = y[1];
					if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = $('input[name="cf_nrl_plantmaster765_id"]').val();
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3221"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3221"]').datepicker('setEndDate', maxDate);
											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3221"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3221"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
	});
		            $.ajax(
                    {
                    type:"post",
                    url: "arocrmAjax.php",
                    data: {plantid: plantid, action: 'getSelectedPlant'},
				    dataType: 'json',
                    success:function(response)
                    {
					   $('input[name="cf_nrl_plantmaster765_id"]').val(plantid);
					   $("#cf_nrl_plantmaster765_id_display").val(response.message);
					   var yr = $('select[name="cf_4597"]').val();
					   var month = $('select[name="cf_4599"]').val();
					var d = new Date();
					var curmonth = d.getMonth()+1;
					var curday = d.getDate();
	var today = d.getFullYear() + '-' + ((''+curmonth).length<2 ? '0' : '') + curmonth + '-' + ((''+curday).length<2 ? '0' : '') + curday;
	var curyear = d.getFullYear();
	var y = yr.split(" - ");
	var fstyr = y[0];
	var lstyr = y[1];
	if(month == 'January' || month == 'February' || month == 'March')
					{
						var year = lstyr;
					}
					else
					{
						var year = fstyr;
					}
					var plant = plantid;
					$.ajax(
							{
								type:"post",
								url: "shirshaAjax.php",
								data: {year: year, month: month, action: 'getAllDays'},
								dataType: 'json',
								success:function(response)
								{
									var day = response.days;
									var m = response.month;
									var fchar = m.substring(0,1);
									if(fchar == '0')
									{
										var lastChar = m[m.length -1];
										if(lastChar == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									else
									{
										if(m == curmonth && year == curyear)
										{
											maxday = today;
											var day = ((''+curday).length<2 ? '0' : '') + curday;
										}
										else
										{
											var maxday = year + '-' + m + '-' + day;
										}
									}
									$.ajax(
										{
										type:"post",
										url: "shirshaAjax.php",
										data: {plant : plant, year: year, month: month, module: sourceModule, action: 'getFiscalDetails'},
										dataType: 'json',
										success:function(response)
										{
											var graceday = response.days;
											var chkval = response.fiscalval;
											if(chkval == '1')
											{
													var gday = parseInt(graceday) - parseInt(1);
													var pday = parseInt(day) - parseInt(gday);
													var minusday = pday.toString().substr(0,1);
													if(minusday == '-' || minusday == '0')
													{
														var minday = year + '-' + m + '-01';
													}
													else
													{
														pday = ((''+pday).length<2 ? '0' : '') + pday;
														var minday = year + '-' + m + '-' + pday;
													}
													var minDate = new Date(minday);
													$('input[name="cf_3221"]').datepicker('setStartDate', minDate);
													var maxDate = new Date(maxday);
													$('input[name="cf_3221"]').datepicker('setEndDate', maxDate);

											}
											else
											{
												var minDate = new Date(today);
												$('input[name="cf_3221"]').datepicker('setStartDate', minDate);

												var maxDate = new Date(today);
												$('input[name="cf_3221"]').datepicker('setEndDate', maxDate);
											}
										}
										});

						}
						});
					}
				    });

					$.ajax(
                    {
                    type:"post",
                    url: "arocrmAjax.php",
                    data: {plantid: plantid, referenceid: referenceid, action: 'getStockRequisition'},
				    dataType: 'json',
                    success:function(response)
                    {
						$("#Line_Item_Details > tbody").empty();
						 $("#Line_Item_Details > tbody").html(response.message);
						 $("#totalRowCount_Line_Item_Details").val(response.rowcount);
             $("#directMode_Line_Item_Details").val('1');
             $("#tr_clone_add__Line_Item_Details").prop('disabled',true);

					}
				    });


	}

	},

    registerValidation : function () {
		var editViewForm = this.getForm();
        this.formValidatorInstance = editViewForm.vtValidate({
            submitHandler : function() {
                var e = jQuery.Event(arocrm_Edit_Js.recordPresaveEvent);
                app.event.trigger(e);
                if(e.isDefaultPrevented()) {
                    return false;
                }
				window.onbeforeunload = null;
                editViewForm.find('.saveButton').attr('disabled',true);
                return true;
            }
        });
    },

    /**
    * Function which will register event to prevent form submission on pressing on enter
    * @params - container <jQuery> - element in which auto complete fields needs to be searched
    */
    registerPreventingEnterSubmitEvent : function(container) {
        container.on('keypress', function(e){
            //Stop the submit when enter is pressed in the form
            var currentElement = jQuery(e.target);
            if(e.which == 13 && (!currentElement.is('textarea'))) {
                    e. preventDefault();
            }
        });
    },

	/**
	 * Function to register event for setting up picklistdependency
	 * for a module if exist on change of picklist value
	 */
	registerEventForPicklistDependencySetup : function(container){
		var picklistDependcyElemnt = jQuery('[name="picklistDependency"]',container);
		if(picklistDependcyElemnt.length <= 0) {
			return;
		}
		var picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());

		var sourcePicklists = Object.keys(picklistDependencyMapping);
		if(sourcePicklists.length <= 0){
			return;
		}

		var sourcePickListNames = "";
		for(var i=0;i<sourcePicklists.length;i++){
			if(i != sourcePicklists.length-1)
				sourcePickListNames += '[name="'+sourcePicklists[i]+'"],';
			else
				sourcePickListNames += '[name="'+sourcePicklists[i]+'"]';
		}
		var sourcePickListElements = container.find(sourcePickListNames);

		sourcePickListElements.on('change',function(e){
			var currentElement = jQuery(e.currentTarget);
			var sourcePicklistname = currentElement.attr('name');
			var configuredDependencyObject = picklistDependencyMapping[sourcePicklistname];
			var selectedValue = currentElement.val();
			var targetObjectForSelectedSourceValue = configuredDependencyObject[selectedValue];
			var picklistmap = configuredDependencyObject["__DEFAULT__"];

			if(typeof targetObjectForSelectedSourceValue == 'undefined'){
				targetObjectForSelectedSourceValue = picklistmap;
			}

			jQuery.each(picklistmap,function(targetPickListName,targetPickListValues){
				var targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];
				if(typeof targetPickListMap == "undefined"){
					targetPickListMap = targetPickListValues;
				}
				var targetPickList = jQuery('[name="'+targetPickListName+'"]',container);
				if(targetPickList.length <= 0){
					return;
				}

				var listOfAvailableOptions = targetPickList.data('availableOptions');
				if(typeof listOfAvailableOptions == "undefined"){
					listOfAvailableOptions = jQuery('option',targetPickList);
					targetPickList.data('available-options', listOfAvailableOptions);
				}

				var targetOptions = new jQuery();
				var optionSelector = [];
				optionSelector.push('');
				for(var i=0; i<targetPickListMap.length; i++){
					optionSelector.push(targetPickListMap[i]);
				}
				jQuery.each(listOfAvailableOptions, function(i,e) {
					var picklistValue = jQuery(e).val();
					if(jQuery.inArray(picklistValue, optionSelector) != -1) {
						targetOptions = targetOptions.add(jQuery(e));
					}
				})
				var targetPickListSelectedValue = '';
				var targetPickListSelectedValue = targetOptions.filter('[selected]').val();
                if(targetPickListMap.length == 1) {
                    var targetPickListSelectedValue = targetPickListMap[0]; // to automatically select picklist if only one picklistmap is present.
                }
				if((targetPickListName == 'group_id' || targetPickListName == 'assigned_user_id') && jQuery("[name="+ sourcePicklistname +"]").val() == ''){
					return false;
				}
				targetPickList.html(targetOptions).val(targetPickListSelectedValue).trigger("change");

			})
		});

		//To Trigger the change on load
		sourcePickListElements.trigger('change');
	},

    registerImageChangeEvent : function() {
        var formElement = this.getForm();
        formElement.find('input[name="imagename[]"]').on('change',function() {
            var deleteImageElement = jQuery(this).closest('td.fieldValue').find('.imageDelete');
            if(deleteImageElement.length) deleteImageElement.trigger('click');
        });
    },

	/**
	 * Function to register event for image delete
	 */
	registerEventForImageDelete : function(){
		var formElement = this.getForm();
		formElement.find('.imageDelete').on('click',function(e){
			var element = jQuery(e.currentTarget);
			var imageId = element.closest('div').find('img').data().imageId;
			var parentTd = element.closest('td');
			var imageUploadElement = parentTd.find('[name="imagename[]"]');
			element.closest('div').remove();

			if(formElement.find('[name=imageid]').length !== 0) {
				var imageIdValue = JSON.parse(formElement.find('[name=imageid]').val());
				imageIdValue.push(imageId);
				formElement.find('[name=imageid]').val(JSON.stringify(imageIdValue));
			} else {
				var imageIdJson = [];
				imageIdJson.push(imageId);
				formElement.append('<input type="hidden" name="imgDeleted" value="true" />');
				formElement.append('<input type="hidden" name="imageid" value="'+JSON.stringify(imageIdJson)+'" />');
			}

			if(formElement.find('.imageDelete').length === 0 && imageUploadElement.attr('data-rule-required') == 'true'){
				imageUploadElement.removeClass('ignore-validation')
			}
		});
	},

        registerFileElementChangeEvent : function(container) {
            var thisInstance = this;
            container.on('change', 'input[name="imagename[]"],input[name="sentdocument"]', function(e){
                if(e.target.type == "text") return false;
                var moduleName = jQuery('[name="module"]').val();
                if(moduleName == "Products") return false;
                arocrm_Edit_Js.file = e.target.files[0];
                var element = container.find('[name="imagename[]"],input[name="sentdocument"]');
                //ignore all other types than file
                if(element.attr('type') != 'file'){
                        return ;
                }
                var uploadFileSizeHolder = element.closest('.fileUploadContainer').find('.uploadedFileSize');
                var fileSize = e.target.files[0].size;
                var fileName = e.target.files[0].name;
                var maxFileSize = thisInstance.getMaxiumFileUploadingSize(container);
                if(fileSize > maxFileSize) {
                    alert(app.vtranslate('JS_EXCEEDS_MAX_UPLOAD_SIZE'));
                    element.val('');
                    uploadFileSizeHolder.text('');
                }else{
                    if(container.length > 1){
                        jQuery('div.fieldsContainer').find('form#I_form').find('input[name="filename"]').css('width','80px');
                        jQuery('div.fieldsContainer').find('form#W_form').find('input[name="filename"]').css('width','80px');
                    } else {
                        container.find('input[name="filename"]').css('width','80px');
                    }
                    uploadFileSizeHolder.text(fileName+' '+thisInstance.convertFileSizeInToDisplayFormat(fileSize));
                }

				jQuery(e.currentTarget).addClass('ignore-validation');
            });
	},

    /**
     * Function to register Basic Events
     * @returns {undefined}
    **/

    registerBasicEvents : function(form){
        app.event.on('post.editView.load',function(event,container){
        });
        this.registerEventForPicklistDependencySetup(form);
        this.registerFileElementChangeEvent(form);
        this.registerAutoCompleteFields(form);
        this.registerClearReferenceSelectionEvent(form);
        this.registerReferenceCreate(form);
        this.referenceModulePopupRegisterEvent(form);
        this.registerPostReferenceEvent(this.getEditViewContainer());
    },
    proceedRegisterEvents : function(){
		if(jQuery('.recordEditView').length > 0){
			return true;
		}else{
			return false;
		}
	},

	registerPageLeaveEvents : function() {
		app.helper.registerLeavePageWithoutSubmit(this.getForm());
		app.helper.registerModalDismissWithoutSubmit(this.getForm());
	},

    registerEvents: function(callParent) {
        //donot call parent if registering Events from overlay.
        if(callParent != false){
            this._super();
        }
        var editViewContainer = this.getEditViewContainer();
        this.registerPreventingEnterSubmitEvent(editViewContainer);
        this.registerBasicEvents(this.getForm());
        this.registerEventForImageDelete();
        this.registerImageChangeEvent();
        this.registerValidation();
        app.event.trigger('post.editView.load', editViewContainer);
		this.registerPageLeaveEvents();
		this.customFieldAction();
		this.handleCheckBox();
    }
});
